/*! jQuery v3.3.1 | (c) JS Foundation and other contributors | jquery.org/license */
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,(function(e,t){"use strict";var n=[],r=e.document,i=Object.getPrototypeOf,a=n.slice,o=n.concat,s=n.push,l=n.indexOf,u={},c=u.toString,h=u.hasOwnProperty,d=h.toString,p=d.call(Object),f={},m=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},v=function(e){return null!=e&&e===e.window},g={type:!0,src:!0,noModule:!0};function y(e,t,n){var i,a=(t=t||r).createElement("script");if(a.text=e,n)for(i in g)n[i]&&(a[i]=n[i]);t.head.appendChild(a).parentNode.removeChild(a)}function x(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?u[c.call(e)]||"object":typeof e}var b=function(e,t){return new b.fn.init(e,t)},_=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function w(e){var t=!!e&&"length"in e&&e.length,n=x(e);return!m(e)&&!v(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}b.fn=b.prototype={jquery:"3.3.1",constructor:b,length:0,toArray:function(){return a.call(this)},get:function(e){return null==e?a.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=b.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return b.each(this,e)},map:function(e){return this.pushStack(b.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:n.sort,splice:n.splice},b.extend=b.fn.extend=function(){var e,t,n,r,i,a,o=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[s]||{},s++),"object"==typeof o||m(o)||(o={}),s===l&&(o=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)n=o[t],o!==(r=e[t])&&(u&&r&&(b.isPlainObject(r)||(i=Array.isArray(r)))?(i?(i=!1,a=n&&Array.isArray(n)?n:[]):a=n&&b.isPlainObject(n)?n:{},o[t]=b.extend(u,a,r)):void 0!==r&&(o[t]=r));return o},b.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==c.call(e)||(t=i(e))&&("function"!=typeof(n=h.call(t,"constructor")&&t.constructor)||d.call(n)!==p))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){y(e)},each:function(e,t){var n,r=0;if(w(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(_,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(w(Object(e))?b.merge(n,"string"==typeof e?[e]:e):s.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:l.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,a=e.length,o=!n;i<a;i++)!t(e[i],i)!==o&&r.push(e[i]);return r},map:function(e,t,n){var r,i,a=0,s=[];if(w(e))for(r=e.length;a<r;a++)null!=(i=t(e[a],a,n))&&s.push(i);else for(a in e)null!=(i=t(e[a],a,n))&&s.push(i);return o.apply([],s)},guid:1,support:f}),"function"==typeof Symbol&&(b.fn[Symbol.iterator]=n[Symbol.iterator]),b.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){u["[object "+t+"]"]=t.toLowerCase()}));var E=function(e){var t,n,r,i,a,o,s,l,u,c,h,d,p,f,m,v,g,y,x,b="sizzle"+1*new Date,_=e.document,w=0,E=0,T=oe(),M=oe(),S=oe(),A=function(e,t){return e===t&&(h=!0),0},C={}.hasOwnProperty,L=[],P=L.pop,R=L.push,I=L.push,D=L.slice,O=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},N="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",z="[\\x20\\t\\r\\n\\f]",U="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",B="\\["+z+"*("+U+")(?:"+z+"*([*^$|!~]?=)"+z+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+U+"))|)"+z+"*\\]",k=":("+U+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+B+")*)|.*)\\)|)",F=new RegExp(z+"+","g"),G=new RegExp("^"+z+"+|((?:^|[^\\\\])(?:\\\\.)*)"+z+"+$","g"),H=new RegExp("^"+z+"*,"+z+"*"),j=new RegExp("^"+z+"*([>+~]|"+z+")"+z+"*"),V=new RegExp("="+z+"*([^\\]'\"]*?)"+z+"*\\]","g"),W=new RegExp(k),X=new RegExp("^"+U+"$"),q={ID:new RegExp("^#("+U+")"),CLASS:new RegExp("^\\.("+U+")"),TAG:new RegExp("^("+U+"|[*])"),ATTR:new RegExp("^"+B),PSEUDO:new RegExp("^"+k),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+z+"*(even|odd|(([+-]|)(\\d*)n|)"+z+"*(?:([+-]|)"+z+"*(\\d+)|))"+z+"*\\)|)","i"),bool:new RegExp("^(?:"+N+")$","i"),needsContext:new RegExp("^"+z+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+z+"*((?:-\\d)?\\d*)"+z+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,$=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/[+~]/,K=new RegExp("\\\\([\\da-f]{1,6}"+z+"?|("+z+")|.)","ig"),ee=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ne=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},re=function(){d()},ie=ye((function(e){return!0===e.disabled&&("form"in e||"label"in e)}),{dir:"parentNode",next:"legend"});try{I.apply(L=D.call(_.childNodes),_.childNodes),L[_.childNodes.length].nodeType}catch(e){I={apply:L.length?function(e,t){R.apply(e,D.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function ae(e,t,r,i){var a,s,u,c,h,f,g,y=t&&t.ownerDocument,w=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==w&&9!==w&&11!==w)return r;if(!i&&((t?t.ownerDocument||t:_)!==p&&d(t),t=t||p,m)){if(11!==w&&(h=J.exec(e)))if(a=h[1]){if(9===w){if(!(u=t.getElementById(a)))return r;if(u.id===a)return r.push(u),r}else if(y&&(u=y.getElementById(a))&&x(t,u)&&u.id===a)return r.push(u),r}else{if(h[2])return I.apply(r,t.getElementsByTagName(e)),r;if((a=h[3])&&n.getElementsByClassName&&t.getElementsByClassName)return I.apply(r,t.getElementsByClassName(a)),r}if(n.qsa&&!S[e+" "]&&(!v||!v.test(e))){if(1!==w)y=t,g=e;else if("object"!==t.nodeName.toLowerCase()){for((c=t.getAttribute("id"))?c=c.replace(te,ne):t.setAttribute("id",c=b),s=(f=o(e)).length;s--;)f[s]="#"+c+" "+ge(f[s]);g=f.join(","),y=Q.test(e)&&me(t.parentNode)||t}if(g)try{return I.apply(r,y.querySelectorAll(g)),r}catch(e){}finally{c===b&&t.removeAttribute("id")}}}return l(e.replace(G,"$1"),t,r,i)}function oe(){var e=[];return function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}}function se(e){return e[b]=!0,e}function le(e){var t=p.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ue(e,t){for(var n=e.split("|"),i=n.length;i--;)r.attrHandle[n[i]]=t}function ce(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function he(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function de(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function pe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ie(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function fe(e){return se((function(t){return t=+t,se((function(n,r){for(var i,a=e([],n.length,t),o=a.length;o--;)n[i=a[o]]&&(n[i]=!(r[i]=n[i]))}))}))}function me(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=ae.support={},a=ae.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},d=ae.setDocument=function(e){var t,i,o=e?e.ownerDocument||e:_;return o!==p&&9===o.nodeType&&o.documentElement?(f=(p=o).documentElement,m=!a(p),_!==p&&(i=p.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",re,!1):i.attachEvent&&i.attachEvent("onunload",re)),n.attributes=le((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=le((function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=Z.test(p.getElementsByClassName),n.getById=le((function(e){return f.appendChild(e).id=b,!p.getElementsByName||!p.getElementsByName(b).length})),n.getById?(r.filter.ID=function(e){var t=e.replace(K,ee);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(K,ee);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n,r,i,a=t.getElementById(e);if(a){if((n=a.getAttributeNode("id"))&&n.value===e)return[a];for(i=t.getElementsByName(e),r=0;a=i[r++];)if((n=a.getAttributeNode("id"))&&n.value===e)return[a]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,a=t.getElementsByTagName(e);if("*"===e){for(;n=a[i++];)1===n.nodeType&&r.push(n);return r}return a},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&m)return t.getElementsByClassName(e)},g=[],v=[],(n.qsa=Z.test(p.querySelectorAll))&&(le((function(e){f.appendChild(e).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+z+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+z+"*(?:value|"+N+")"),e.querySelectorAll("[id~="+b+"-]").length||v.push("~="),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+b+"+*").length||v.push(".#.+[+~]")})),le((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+z+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),f.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")}))),(n.matchesSelector=Z.test(y=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&le((function(e){n.disconnectedMatch=y.call(e,"*"),y.call(e,"[s!='']:x"),g.push("!=",k)})),v=v.length&&new RegExp(v.join("|")),g=g.length&&new RegExp(g.join("|")),t=Z.test(f.compareDocumentPosition),x=t||Z.test(f.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},A=t?function(e,t){if(e===t)return h=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===p||e.ownerDocument===_&&x(_,e)?-1:t===p||t.ownerDocument===_&&x(_,t)?1:c?O(c,e)-O(c,t):0:4&r?-1:1)}:function(e,t){if(e===t)return h=!0,0;var n,r=0,i=e.parentNode,a=t.parentNode,o=[e],s=[t];if(!i||!a)return e===p?-1:t===p?1:i?-1:a?1:c?O(c,e)-O(c,t):0;if(i===a)return ce(e,t);for(n=e;n=n.parentNode;)o.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;o[r]===s[r];)r++;return r?ce(o[r],s[r]):o[r]===_?-1:s[r]===_?1:0},p):p},ae.matches=function(e,t){return ae(e,null,null,t)},ae.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&d(e),t=t.replace(V,"='$1']"),n.matchesSelector&&m&&!S[t+" "]&&(!g||!g.test(t))&&(!v||!v.test(t)))try{var r=y.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return ae(t,p,null,[e]).length>0},ae.contains=function(e,t){return(e.ownerDocument||e)!==p&&d(e),x(e,t)},ae.attr=function(e,t){(e.ownerDocument||e)!==p&&d(e);var i=r.attrHandle[t.toLowerCase()],a=i&&C.call(r.attrHandle,t.toLowerCase())?i(e,t,!m):void 0;return void 0!==a?a:n.attributes||!m?e.getAttribute(t):(a=e.getAttributeNode(t))&&a.specified?a.value:null},ae.escape=function(e){return(e+"").replace(te,ne)},ae.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ae.uniqueSort=function(e){var t,r=[],i=0,a=0;if(h=!n.detectDuplicates,c=!n.sortStable&&e.slice(0),e.sort(A),h){for(;t=e[a++];)t===e[a]&&(i=r.push(a));for(;i--;)e.splice(r[i],1)}return c=null,e},i=ae.getText=function(e){var t,n="",r=0,a=e.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===a||4===a)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return n},(r=ae.selectors={cacheLength:50,createPseudo:se,match:q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(K,ee),e[3]=(e[3]||e[4]||e[5]||"").replace(K,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ae.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ae.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return q.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&W.test(n)&&(t=o(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(K,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=T[e+" "];return t||(t=new RegExp("(^|"+z+")"+e+"("+z+"|$)"))&&T(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var i=ae.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(F," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var a="nth"!==e.slice(0,3),o="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var u,c,h,d,p,f,m=a!==o?"nextSibling":"previousSibling",v=t.parentNode,g=s&&t.nodeName.toLowerCase(),y=!l&&!s,x=!1;if(v){if(a){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===g:1===d.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[o?v.firstChild:v.lastChild],o&&y){for(x=(p=(u=(c=(h=(d=v)[b]||(d[b]={}))[d.uniqueID]||(h[d.uniqueID]={}))[e]||[])[0]===w&&u[1])&&u[2],d=p&&v.childNodes[p];d=++p&&d&&d[m]||(x=p=0)||f.pop();)if(1===d.nodeType&&++x&&d===t){c[e]=[w,p,x];break}}else if(y&&(x=p=(u=(c=(h=(d=t)[b]||(d[b]={}))[d.uniqueID]||(h[d.uniqueID]={}))[e]||[])[0]===w&&u[1]),!1===x)for(;(d=++p&&d&&d[m]||(x=p=0)||f.pop())&&((s?d.nodeName.toLowerCase()!==g:1!==d.nodeType)||!++x||(y&&((c=(h=d[b]||(d[b]={}))[d.uniqueID]||(h[d.uniqueID]={}))[e]=[w,x]),d!==t)););return(x-=i)===r||x%r==0&&x/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||ae.error("unsupported pseudo: "+e);return i[b]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?se((function(e,n){for(var r,a=i(e,t),o=a.length;o--;)e[r=O(e,a[o])]=!(n[r]=a[o])})):function(e){return i(e,0,n)}):i}},pseudos:{not:se((function(e){var t=[],n=[],r=s(e.replace(G,"$1"));return r[b]?se((function(e,t,n,i){for(var a,o=r(e,null,i,[]),s=e.length;s--;)(a=o[s])&&(e[s]=!(t[s]=a))})):function(e,i,a){return t[0]=e,r(t,null,a,n),t[0]=null,!n.pop()}})),has:se((function(e){return function(t){return ae(e,t).length>0}})),contains:se((function(e){return e=e.replace(K,ee),function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}})),lang:se((function(e){return X.test(e||"")||ae.error("unsupported lang: "+e),e=e.replace(K,ee).toLowerCase(),function(t){var n;do{if(n=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:pe(!1),disabled:pe(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return $.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:fe((function(){return[0]})),last:fe((function(e,t){return[t-1]})),eq:fe((function(e,t,n){return[n<0?n+t:n]})),even:fe((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:fe((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:fe((function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e})),gt:fe((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=he(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=de(t);function ve(){}function ge(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function ye(e,t,n){var r=t.dir,i=t.next,a=i||r,o=n&&"parentNode"===a,s=E++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||o)return e(t,n,i);return!1}:function(t,n,l){var u,c,h,d=[w,s];if(l){for(;t=t[r];)if((1===t.nodeType||o)&&e(t,n,l))return!0}else for(;t=t[r];)if(1===t.nodeType||o)if(c=(h=t[b]||(t[b]={}))[t.uniqueID]||(h[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((u=c[a])&&u[0]===w&&u[1]===s)return d[2]=u[2];if(c[a]=d,d[2]=e(t,n,l))return!0}return!1}}function xe(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function be(e,t,n,r,i){for(var a,o=[],s=0,l=e.length,u=null!=t;s<l;s++)(a=e[s])&&(n&&!n(a,r,i)||(o.push(a),u&&t.push(s)));return o}function _e(e,t,n,r,i,a){return r&&!r[b]&&(r=_e(r)),i&&!i[b]&&(i=_e(i,a)),se((function(a,o,s,l){var u,c,h,d=[],p=[],f=o.length,m=a||function(e,t,n){for(var r=0,i=t.length;r<i;r++)ae(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),v=!e||!a&&t?m:be(m,d,e,s,l),g=n?i||(a?e:f||r)?[]:o:v;if(n&&n(v,g,s,l),r)for(u=be(g,p),r(u,[],s,l),c=u.length;c--;)(h=u[c])&&(g[p[c]]=!(v[p[c]]=h));if(a){if(i||e){if(i){for(u=[],c=g.length;c--;)(h=g[c])&&u.push(v[c]=h);i(null,g=[],u,l)}for(c=g.length;c--;)(h=g[c])&&(u=i?O(a,h):d[c])>-1&&(a[u]=!(o[u]=h))}}else g=be(g===o?g.splice(f,g.length):g),i?i(null,o,g,l):I.apply(o,g)}))}function we(e){for(var t,n,i,a=e.length,o=r.relative[e[0].type],s=o||r.relative[" "],l=o?1:0,c=ye((function(e){return e===t}),s,!0),h=ye((function(e){return O(t,e)>-1}),s,!0),d=[function(e,n,r){var i=!o&&(r||n!==u)||((t=n).nodeType?c(e,n,r):h(e,n,r));return t=null,i}];l<a;l++)if(n=r.relative[e[l].type])d=[ye(xe(d),n)];else{if((n=r.filter[e[l].type].apply(null,e[l].matches))[b]){for(i=++l;i<a&&!r.relative[e[i].type];i++);return _e(l>1&&xe(d),l>1&&ge(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(G,"$1"),n,l<i&&we(e.slice(l,i)),i<a&&we(e=e.slice(i)),i<a&&ge(e))}d.push(n)}return xe(d)}function Ee(e,t){var n=t.length>0,i=e.length>0,a=function(a,o,s,l,c){var h,f,v,g=0,y="0",x=a&&[],b=[],_=u,E=a||i&&r.find.TAG("*",c),T=w+=null==_?1:Math.random()||.1,M=E.length;for(c&&(u=o===p||o||c);y!==M&&null!=(h=E[y]);y++){if(i&&h){for(f=0,o||h.ownerDocument===p||(d(h),s=!m);v=e[f++];)if(v(h,o||p,s)){l.push(h);break}c&&(w=T)}n&&((h=!v&&h)&&g--,a&&x.push(h))}if(g+=y,n&&y!==g){for(f=0;v=t[f++];)v(x,b,o,s);if(a){if(g>0)for(;y--;)x[y]||b[y]||(b[y]=P.call(l));b=be(b)}I.apply(l,b),c&&!a&&b.length>0&&g+t.length>1&&ae.uniqueSort(l)}return c&&(w=T,u=_),x};return n?se(a):a}return ve.prototype=r.filters=r.pseudos,r.setFilters=new ve,o=ae.tokenize=function(e,t){var n,i,a,o,s,l,u,c=M[e+" "];if(c)return t?0:c.slice(0);for(s=e,l=[],u=r.preFilter;s;){for(o in n&&!(i=H.exec(s))||(i&&(s=s.slice(i[0].length)||s),l.push(a=[])),n=!1,(i=j.exec(s))&&(n=i.shift(),a.push({value:n,type:i[0].replace(G," ")}),s=s.slice(n.length)),r.filter)!(i=q[o].exec(s))||u[o]&&!(i=u[o](i))||(n=i.shift(),a.push({value:n,type:o,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?ae.error(e):M(e,l).slice(0)},s=ae.compile=function(e,t){var n,r=[],i=[],a=S[e+" "];if(!a){for(t||(t=o(e)),n=t.length;n--;)(a=we(t[n]))[b]?r.push(a):i.push(a);(a=S(e,Ee(i,r))).selector=e}return a},l=ae.select=function(e,t,n,i){var a,l,u,c,h,d="function"==typeof e&&e,p=!i&&o(e=d.selector||e);if(n=n||[],1===p.length){if((l=p[0]=p[0].slice(0)).length>2&&"ID"===(u=l[0]).type&&9===t.nodeType&&m&&r.relative[l[1].type]){if(!(t=(r.find.ID(u.matches[0].replace(K,ee),t)||[])[0]))return n;d&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(a=q.needsContext.test(e)?0:l.length;a--&&(u=l[a],!r.relative[c=u.type]);)if((h=r.find[c])&&(i=h(u.matches[0].replace(K,ee),Q.test(l[0].type)&&me(t.parentNode)||t))){if(l.splice(a,1),!(e=i.length&&ge(l)))return I.apply(n,i),n;break}}return(d||s(e,p))(i,t,!m,n,!t||Q.test(e)&&me(t.parentNode)||t),n},n.sortStable=b.split("").sort(A).join("")===b,n.detectDuplicates=!!h,d(),n.sortDetached=le((function(e){return 1&e.compareDocumentPosition(p.createElement("fieldset"))})),le((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||ue("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&le((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||ue("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),le((function(e){return null==e.getAttribute("disabled")}))||ue(N,(function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null})),ae}(e);b.find=E,b.expr=E.selectors,b.expr[":"]=b.expr.pseudos,b.uniqueSort=b.unique=E.uniqueSort,b.text=E.getText,b.isXMLDoc=E.isXML,b.contains=E.contains,b.escapeSelector=E.escape;var T=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&b(e).is(n))break;r.push(e)}return r},M=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},S=b.expr.match.needsContext;function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var C=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function L(e,t,n){return m(t)?b.grep(e,(function(e,r){return!!t.call(e,r,e)!==n})):t.nodeType?b.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?b.grep(e,(function(e){return l.call(t,e)>-1!==n})):b.filter(t,e,n)}b.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?b.find.matchesSelector(r,e)?[r]:[]:b.find.matches(e,b.grep(t,(function(e){return 1===e.nodeType})))},b.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(b(e).filter((function(){for(t=0;t<r;t++)if(b.contains(i[t],this))return!0})));for(n=this.pushStack([]),t=0;t<r;t++)b.find(e,i[t],n);return r>1?b.uniqueSort(n):n},filter:function(e){return this.pushStack(L(this,e||[],!1))},not:function(e){return this.pushStack(L(this,e||[],!0))},is:function(e){return!!L(this,"string"==typeof e&&S.test(e)?b(e):e||[],!1).length}});var P,R=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(b.fn.init=function(e,t,n){var i,a;if(!e)return this;if(n=n||P,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:R.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof b?t[0]:t,b.merge(this,b.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:r,!0)),C.test(i[1])&&b.isPlainObject(t))for(i in t)m(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(a=r.getElementById(i[2]))&&(this[0]=a,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==n.ready?n.ready(e):e(b):b.makeArray(e,this)}).prototype=b.fn,P=b(r);var I=/^(?:parents|prev(?:Until|All))/,D={children:!0,contents:!0,next:!0,prev:!0};function O(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}b.fn.extend({has:function(e){var t=b(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(b.contains(this,t[e]))return!0}))},closest:function(e,t){var n,r=0,i=this.length,a=[],o="string"!=typeof e&&b(e);if(!S.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&b.find.matchesSelector(n,e))){a.push(n);break}return this.pushStack(a.length>1?b.uniqueSort(a):a)},index:function(e){return e?"string"==typeof e?l.call(b(e),this[0]):l.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(b.uniqueSort(b.merge(this.get(),b(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),b.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return T(e,"parentNode")},parentsUntil:function(e,t,n){return T(e,"parentNode",n)},next:function(e){return O(e,"nextSibling")},prev:function(e){return O(e,"previousSibling")},nextAll:function(e){return T(e,"nextSibling")},prevAll:function(e){return T(e,"previousSibling")},nextUntil:function(e,t,n){return T(e,"nextSibling",n)},prevUntil:function(e,t,n){return T(e,"previousSibling",n)},siblings:function(e){return M((e.parentNode||{}).firstChild,e)},children:function(e){return M(e.firstChild)},contents:function(e){return A(e,"iframe")?e.contentDocument:(A(e,"template")&&(e=e.content||e),b.merge([],e.childNodes))}},(function(e,t){b.fn[e]=function(n,r){var i=b.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=b.filter(r,i)),this.length>1&&(D[e]||b.uniqueSort(i),I.test(e)&&i.reverse()),this.pushStack(i)}}));var N=/[^\x20\t\r\n\f]+/g;function z(e){return e}function U(e){throw e}function B(e,t,n,r){var i;try{e&&m(i=e.promise)?i.call(e).done(t).fail(n):e&&m(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}b.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return b.each(e.match(N)||[],(function(e,n){t[n]=!0})),t}(e):b.extend({},e);var t,n,r,i,a=[],o=[],s=-1,l=function(){for(i=i||e.once,r=t=!0;o.length;s=-1)for(n=o.shift();++s<a.length;)!1===a[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=a.length,n=!1);e.memory||(n=!1),t=!1,i&&(a=n?[]:"")},u={add:function(){return a&&(n&&!t&&(s=a.length-1,o.push(n)),function t(n){b.each(n,(function(n,r){m(r)?e.unique&&u.has(r)||a.push(r):r&&r.length&&"string"!==x(r)&&t(r)}))}(arguments),n&&!t&&l()),this},remove:function(){return b.each(arguments,(function(e,t){for(var n;(n=b.inArray(t,a,n))>-1;)a.splice(n,1),n<=s&&s--})),this},has:function(e){return e?b.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return i=o=[],a=n="",this},disabled:function(){return!a},lock:function(){return i=o=[],n||t||(a=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],o.push(n),t||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!r}};return u},b.extend({Deferred:function(t){var n=[["notify","progress",b.Callbacks("memory"),b.Callbacks("memory"),2],["resolve","done",b.Callbacks("once memory"),b.Callbacks("once memory"),0,"resolved"],["reject","fail",b.Callbacks("once memory"),b.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return a.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return b.Deferred((function(t){b.each(n,(function(n,r){var i=m(e[r[4]])&&e[r[4]];a[r[1]]((function(){var e=i&&i.apply(this,arguments);e&&m(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,i?[e]:arguments)}))})),e=null})).promise()},then:function(t,r,i){var a=0;function o(t,n,r,i){return function(){var s=this,l=arguments,u=function(){var e,u;if(!(t<a)){if((e=r.apply(s,l))===n.promise())throw new TypeError("Thenable self-resolution");u=e&&("object"==typeof e||"function"==typeof e)&&e.then,m(u)?i?u.call(e,o(a,n,z,i),o(a,n,U,i)):(a++,u.call(e,o(a,n,z,i),o(a,n,U,i),o(a,n,z,n.notifyWith))):(r!==z&&(s=void 0,l=[e]),(i||n.resolveWith)(s,l))}},c=i?u:function(){try{u()}catch(e){b.Deferred.exceptionHook&&b.Deferred.exceptionHook(e,c.stackTrace),t+1>=a&&(r!==U&&(s=void 0,l=[e]),n.rejectWith(s,l))}};t?c():(b.Deferred.getStackHook&&(c.stackTrace=b.Deferred.getStackHook()),e.setTimeout(c))}}return b.Deferred((function(e){n[0][3].add(o(0,e,m(i)?i:z,e.notifyWith)),n[1][3].add(o(0,e,m(t)?t:z)),n[2][3].add(o(0,e,m(r)?r:U))})).promise()},promise:function(e){return null!=e?b.extend(e,i):i}},a={};return b.each(n,(function(e,t){var o=t[2],s=t[5];i[t[1]]=o.add,s&&o.add((function(){r=s}),n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),o.add(t[3].fire),a[t[0]]=function(){return a[t[0]+"With"](this===a?void 0:this,arguments),this},a[t[0]+"With"]=o.fireWith})),i.promise(a),t&&t.call(a,a),a},when:function(e){var t=arguments.length,n=t,r=Array(n),i=a.call(arguments),o=b.Deferred(),s=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?a.call(arguments):n,--t||o.resolveWith(r,i)}};if(t<=1&&(B(e,o.done(s(n)).resolve,o.reject,!t),"pending"===o.state()||m(i[n]&&i[n].then)))return o.then();for(;n--;)B(i[n],s(n),o.reject);return o.promise()}});var k=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;b.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&k.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},b.readyException=function(t){e.setTimeout((function(){throw t}))};var F=b.Deferred();function G(){r.removeEventListener("DOMContentLoaded",G),e.removeEventListener("load",G),b.ready()}b.fn.ready=function(e){return F.then(e).catch((function(e){b.readyException(e)})),this},b.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--b.readyWait:b.isReady)||(b.isReady=!0,!0!==e&&--b.readyWait>0||F.resolveWith(r,[b]))}}),b.ready.then=F.then,"complete"===r.readyState||"loading"!==r.readyState&&!r.documentElement.doScroll?e.setTimeout(b.ready):(r.addEventListener("DOMContentLoaded",G),e.addEventListener("load",G));var H=function(e,t,n,r,i,a,o){var s=0,l=e.length,u=null==n;if("object"===x(n))for(s in i=!0,n)H(e,t,s,n[s],!0,a,o);else if(void 0!==r&&(i=!0,m(r)||(o=!0),u&&(o?(t.call(e,r),t=null):(u=t,t=function(e,t,n){return u.call(b(e),n)})),t))for(;s<l;s++)t(e[s],n,o?r:r.call(e[s],s,t(e[s],n)));return i?e:u?t.call(e):l?t(e[0],n):a},j=/^-ms-/,V=/-([a-z])/g;function W(e,t){return t.toUpperCase()}function X(e){return e.replace(j,"ms-").replace(V,W)}var q=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Y(){this.expando=b.expando+Y.uid++}Y.uid=1,Y.prototype={cache:function(e){var t=e[this.expando];return t||(t={},q(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[X(t)]=n;else for(r in t)i[X(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][X(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(X):(t=X(t))in r?[t]:t.match(N)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||b.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!b.isEmptyObject(t)}};var $=new Y,Z=new Y,J=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g;function K(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(Q,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:J.test(e)?JSON.parse(e):e)}(n)}catch(e){}Z.set(e,t,n)}else n=void 0;return n}b.extend({hasData:function(e){return Z.hasData(e)||$.hasData(e)},data:function(e,t,n){return Z.access(e,t,n)},removeData:function(e,t){Z.remove(e,t)},_data:function(e,t,n){return $.access(e,t,n)},_removeData:function(e,t){$.remove(e,t)}}),b.fn.extend({data:function(e,t){var n,r,i,a=this[0],o=a&&a.attributes;if(void 0===e){if(this.length&&(i=Z.get(a),1===a.nodeType&&!$.get(a,"hasDataAttrs"))){for(n=o.length;n--;)o[n]&&0===(r=o[n].name).indexOf("data-")&&(r=X(r.slice(5)),K(a,r,i[r]));$.set(a,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each((function(){Z.set(this,e)})):H(this,(function(t){var n;if(a&&void 0===t){if(void 0!==(n=Z.get(a,e)))return n;if(void 0!==(n=K(a,e)))return n}else this.each((function(){Z.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){Z.remove(this,e)}))}}),b.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=$.get(e,t),n&&(!r||Array.isArray(n)?r=$.access(e,t,b.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=b.queue(e,t),r=n.length,i=n.shift(),a=b._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete a.stop,i.call(e,(function(){b.dequeue(e,t)}),a)),!r&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return $.get(e,n)||$.access(e,n,{empty:b.Callbacks("once memory").add((function(){$.remove(e,[t+"queue",n])}))})}}),b.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?b.queue(this[0],e):void 0===t?this:this.each((function(){var n=b.queue(this,e,t);b._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&b.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){b.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=b.Deferred(),a=this,o=this.length,s=function(){--r||i.resolveWith(a,[a])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)(n=$.get(a[o],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],re=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&b.contains(e.ownerDocument,e)&&"none"===b.css(e,"display")},ie=function(e,t,n,r){var i,a,o={};for(a in t)o[a]=e.style[a],e.style[a]=t[a];for(a in i=n.apply(e,r||[]),t)e.style[a]=o[a];return i};function ae(e,t,n,r){var i,a,o=20,s=r?function(){return r.cur()}:function(){return b.css(e,t,"")},l=s(),u=n&&n[3]||(b.cssNumber[t]?"":"px"),c=(b.cssNumber[t]||"px"!==u&&+l)&&te.exec(b.css(e,t));if(c&&c[3]!==u){for(l/=2,u=u||c[3],c=+l||1;o--;)b.style(e,t,c+u),(1-a)*(1-(a=s()/l||.5))<=0&&(o=0),c/=a;c*=2,b.style(e,t,c+u),n=n||[]}return n&&(c=+c||+l||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=u,r.start=c,r.end=i)),i}var oe={};function se(e){var t,n=e.ownerDocument,r=e.nodeName,i=oe[r];return i||(t=n.body.appendChild(n.createElement(r)),i=b.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),oe[r]=i,i)}function le(e,t){for(var n,r,i=[],a=0,o=e.length;a<o;a++)(r=e[a]).style&&(n=r.style.display,t?("none"===n&&(i[a]=$.get(r,"display")||null,i[a]||(r.style.display="")),""===r.style.display&&re(r)&&(i[a]=se(r))):"none"!==n&&(i[a]="none",$.set(r,"display",n)));for(a=0;a<o;a++)null!=i[a]&&(e[a].style.display=i[a]);return e}b.fn.extend({show:function(){return le(this,!0)},hide:function(){return le(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){re(this)?b(this).show():b(this).hide()}))}});var ue=/^(?:checkbox|radio)$/i,ce=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,he=/^$|^module$|\/(?:java|ecma)script/i,de={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function pe(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&A(e,t)?b.merge([e],n):n}function fe(e,t){for(var n=0,r=e.length;n<r;n++)$.set(e[n],"globalEval",!t||$.get(t[n],"globalEval"))}de.optgroup=de.option,de.tbody=de.tfoot=de.colgroup=de.caption=de.thead,de.th=de.td;var me=/<|&#?\w+;/;function ve(e,t,n,r,i){for(var a,o,s,l,u,c,h=t.createDocumentFragment(),d=[],p=0,f=e.length;p<f;p++)if((a=e[p])||0===a)if("object"===x(a))b.merge(d,a.nodeType?[a]:a);else if(me.test(a)){for(o=o||h.appendChild(t.createElement("div")),s=(ce.exec(a)||["",""])[1].toLowerCase(),l=de[s]||de._default,o.innerHTML=l[1]+b.htmlPrefilter(a)+l[2],c=l[0];c--;)o=o.lastChild;b.merge(d,o.childNodes),(o=h.firstChild).textContent=""}else d.push(t.createTextNode(a));for(h.textContent="",p=0;a=d[p++];)if(r&&b.inArray(a,r)>-1)i&&i.push(a);else if(u=b.contains(a.ownerDocument,a),o=pe(h.appendChild(a),"script"),u&&fe(o),n)for(c=0;a=o[c++];)he.test(a.type||"")&&n.push(a);return h}!function(){var e=r.createDocumentFragment().appendChild(r.createElement("div")),t=r.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),f.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",f.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var ge=r.documentElement,ye=/^key/,xe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,be=/^([^.]*)(?:\.(.+)|)/;function _e(){return!0}function we(){return!1}function Ee(){try{return r.activeElement}catch(e){}}function Te(e,t,n,r,i,a){var o,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Te(e,s,n,r,t[s],a);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=we;else if(!i)return e;return 1===a&&(o=i,(i=function(e){return b().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=b.guid++)),e.each((function(){b.event.add(this,t,i,r,n)}))}b.event={global:{},add:function(e,t,n,r,i){var a,o,s,l,u,c,h,d,p,f,m,v=$.get(e);if(v)for(n.handler&&(n=(a=n).handler,i=a.selector),i&&b.find.matchesSelector(ge,i),n.guid||(n.guid=b.guid++),(l=v.events)||(l=v.events={}),(o=v.handle)||(o=v.handle=function(t){return void 0!==b&&b.event.triggered!==t.type?b.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(N)||[""]).length;u--;)p=m=(s=be.exec(t[u])||[])[1],f=(s[2]||"").split(".").sort(),p&&(h=b.event.special[p]||{},p=(i?h.delegateType:h.bindType)||p,h=b.event.special[p]||{},c=b.extend({type:p,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&b.expr.match.needsContext.test(i),namespace:f.join(".")},a),(d=l[p])||((d=l[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,r,f,o)||e.addEventListener&&e.addEventListener(p,o)),h.add&&(h.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,c):d.push(c),b.event.global[p]=!0)},remove:function(e,t,n,r,i){var a,o,s,l,u,c,h,d,p,f,m,v=$.hasData(e)&&$.get(e);if(v&&(l=v.events)){for(u=(t=(t||"").match(N)||[""]).length;u--;)if(p=m=(s=be.exec(t[u])||[])[1],f=(s[2]||"").split(".").sort(),p){for(h=b.event.special[p]||{},d=l[p=(r?h.delegateType:h.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=a=d.length;a--;)c=d[a],!i&&m!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(d.splice(a,1),c.selector&&d.delegateCount--,h.remove&&h.remove.call(e,c));o&&!d.length&&(h.teardown&&!1!==h.teardown.call(e,f,v.handle)||b.removeEvent(e,p,v.handle),delete l[p])}else for(p in l)b.event.remove(e,p+t[u],n,r,!0);b.isEmptyObject(l)&&$.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,a,o,s=b.event.fix(e),l=new Array(arguments.length),u=($.get(this,"events")||{})[s.type]||[],c=b.event.special[s.type]||{};for(l[0]=s,t=1;t<arguments.length;t++)l[t]=arguments[t];if(s.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,s)){for(o=b.event.handlers.call(this,s,u),t=0;(i=o[t++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(a=i.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(a.namespace)||(s.handleObj=a,s.data=a.data,void 0!==(r=((b.event.special[a.origType]||{}).handle||a.handler).apply(i.elem,l))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,r,i,a,o,s=[],l=t.delegateCount,u=e.target;if(l&&u.nodeType&&!("click"===e.type&&e.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(a=[],o={},n=0;n<l;n++)void 0===o[i=(r=t[n]).selector+" "]&&(o[i]=r.needsContext?b(i,this).index(u)>-1:b.find(i,this,null,[u]).length),o[i]&&a.push(r);a.length&&s.push({elem:u,handlers:a})}return u=this,l<t.length&&s.push({elem:u,handlers:t.slice(l)}),s},addProp:function(e,t){Object.defineProperty(b.Event.prototype,e,{enumerable:!0,configurable:!0,get:m(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[b.expando]?e:new b.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Ee()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Ee()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&A(this,"input"))return this.click(),!1},_default:function(e){return A(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},b.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},b.Event=function(e,t){if(!(this instanceof b.Event))return new b.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?_e:we,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&b.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[b.expando]=!0},b.Event.prototype={constructor:b.Event,isDefaultPrevented:we,isPropagationStopped:we,isImmediatePropagationStopped:we,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=_e,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=_e,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=_e,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},b.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&ye.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&xe.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},b.event.addProp),b.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){b.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,a=e.handleObj;return i&&(i===r||b.contains(r,i))||(e.type=a.origType,n=a.handler.apply(this,arguments),e.type=t),n}}})),b.fn.extend({on:function(e,t,n,r){return Te(this,e,t,n,r)},one:function(e,t,n,r){return Te(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,b(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=we),this.each((function(){b.event.remove(this,e,n,t)}))}});var Me=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Se=/<script|<style|<link/i,Ae=/checked\s*(?:[^=]|=\s*.checked.)/i,Ce=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Le(e,t){return A(e,"table")&&A(11!==t.nodeType?t:t.firstChild,"tr")&&b(e).children("tbody")[0]||e}function Pe(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Re(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Ie(e,t){var n,r,i,a,o,s,l,u;if(1===t.nodeType){if($.hasData(e)&&(a=$.access(e),o=$.set(t,a),u=a.events))for(i in delete o.handle,o.events={},u)for(n=0,r=u[i].length;n<r;n++)b.event.add(t,i,u[i][n]);Z.hasData(e)&&(s=Z.access(e),l=b.extend({},s),Z.set(t,l))}}function De(e,t){var n=t.nodeName.toLowerCase();"input"===n&&ue.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Oe(e,t,n,r){t=o.apply([],t);var i,a,s,l,u,c,h=0,d=e.length,p=d-1,v=t[0],g=m(v);if(g||d>1&&"string"==typeof v&&!f.checkClone&&Ae.test(v))return e.each((function(i){var a=e.eq(i);g&&(t[0]=v.call(this,i,a.html())),Oe(a,t,n,r)}));if(d&&(a=(i=ve(t,e[0].ownerDocument,!1,e,r)).firstChild,1===i.childNodes.length&&(i=a),a||r)){for(l=(s=b.map(pe(i,"script"),Pe)).length;h<d;h++)u=i,h!==p&&(u=b.clone(u,!0,!0),l&&b.merge(s,pe(u,"script"))),n.call(e[h],u,h);if(l)for(c=s[s.length-1].ownerDocument,b.map(s,Re),h=0;h<l;h++)u=s[h],he.test(u.type||"")&&!$.access(u,"globalEval")&&b.contains(c,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?b._evalUrl&&b._evalUrl(u.src):y(u.textContent.replace(Ce,""),c,u))}return e}function Ne(e,t,n){for(var r,i=t?b.filter(t,e):e,a=0;null!=(r=i[a]);a++)n||1!==r.nodeType||b.cleanData(pe(r)),r.parentNode&&(n&&b.contains(r.ownerDocument,r)&&fe(pe(r,"script")),r.parentNode.removeChild(r));return e}b.extend({htmlPrefilter:function(e){return e.replace(Me,"<$1></$2>")},clone:function(e,t,n){var r,i,a,o,s=e.cloneNode(!0),l=b.contains(e.ownerDocument,e);if(!(f.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||b.isXMLDoc(e)))for(o=pe(s),r=0,i=(a=pe(e)).length;r<i;r++)De(a[r],o[r]);if(t)if(n)for(a=a||pe(e),o=o||pe(s),r=0,i=a.length;r<i;r++)Ie(a[r],o[r]);else Ie(e,s);return(o=pe(s,"script")).length>0&&fe(o,!l&&pe(e,"script")),s},cleanData:function(e){for(var t,n,r,i=b.event.special,a=0;void 0!==(n=e[a]);a++)if(q(n)){if(t=n[$.expando]){if(t.events)for(r in t.events)i[r]?b.event.remove(n,r):b.removeEvent(n,r,t.handle);n[$.expando]=void 0}n[Z.expando]&&(n[Z.expando]=void 0)}}}),b.fn.extend({detach:function(e){return Ne(this,e,!0)},remove:function(e){return Ne(this,e)},text:function(e){return H(this,(function(e){return void 0===e?b.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Oe(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Le(this,e).appendChild(e)}))},prepend:function(){return Oe(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Le(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Oe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Oe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(b.cleanData(pe(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return b.clone(this,e,t)}))},html:function(e){return H(this,(function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Se.test(e)&&!de[(ce.exec(e)||["",""])[1].toLowerCase()]){e=b.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(b.cleanData(pe(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Oe(this,arguments,(function(t){var n=this.parentNode;b.inArray(this,e)<0&&(b.cleanData(pe(this)),n&&n.replaceChild(t,this))}),e)}}),b.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){b.fn[e]=function(e){for(var n,r=[],i=b(e),a=i.length-1,o=0;o<=a;o++)n=o===a?this:this.clone(!0),b(i[o])[t](n),s.apply(r,n.get());return this.pushStack(r)}}));var ze=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),Ue=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},Be=new RegExp(ne.join("|"),"i");function ke(e,t,n){var r,i,a,o,s=e.style;return(n=n||Ue(e))&&(""!==(o=n.getPropertyValue(t)||n[t])||b.contains(e.ownerDocument,e)||(o=b.style(e,t)),!f.pixelBoxStyles()&&ze.test(o)&&Be.test(t)&&(r=s.width,i=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=n.width,s.width=r,s.minWidth=i,s.maxWidth=a)),void 0!==o?o+"":o}function Fe(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function t(){if(c){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ge.appendChild(u).appendChild(c);var t=e.getComputedStyle(c);i="1%"!==t.top,l=12===n(t.marginLeft),c.style.right="60%",s=36===n(t.right),a=36===n(t.width),c.style.position="absolute",o=36===c.offsetWidth||"absolute",ge.removeChild(u),c=null}}function n(e){return Math.round(parseFloat(e))}var i,a,o,s,l,u=r.createElement("div"),c=r.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",f.clearCloneStyle="content-box"===c.style.backgroundClip,b.extend(f,{boxSizingReliable:function(){return t(),a},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),o}}))}();var Ge=/^(none|table(?!-c[ea]).+)/,He=/^--/,je={position:"absolute",visibility:"hidden",display:"block"},Ve={letterSpacing:"0",fontWeight:"400"},We=["Webkit","Moz","ms"],Xe=r.createElement("div").style;function qe(e){var t=b.cssProps[e];return t||(t=b.cssProps[e]=function(e){if(e in Xe)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=We.length;n--;)if((e=We[n]+t)in Xe)return e}(e)||e),t}function Ye(e,t,n){var r=te.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function $e(e,t,n,r,i,a){var o="width"===t?1:0,s=0,l=0;if(n===(r?"border":"content"))return 0;for(;o<4;o+=2)"margin"===n&&(l+=b.css(e,n+ne[o],!0,i)),r?("content"===n&&(l-=b.css(e,"padding"+ne[o],!0,i)),"margin"!==n&&(l-=b.css(e,"border"+ne[o]+"Width",!0,i))):(l+=b.css(e,"padding"+ne[o],!0,i),"padding"!==n?l+=b.css(e,"border"+ne[o]+"Width",!0,i):s+=b.css(e,"border"+ne[o]+"Width",!0,i));return!r&&a>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-a-l-s-.5))),l}function Ze(e,t,n){var r=Ue(e),i=ke(e,t,r),a="border-box"===b.css(e,"boxSizing",!1,r),o=a;if(ze.test(i)){if(!n)return i;i="auto"}return o=o&&(f.boxSizingReliable()||i===e.style[t]),("auto"===i||!parseFloat(i)&&"inline"===b.css(e,"display",!1,r))&&(i=e["offset"+t[0].toUpperCase()+t.slice(1)],o=!0),(i=parseFloat(i)||0)+$e(e,t,n||(a?"border":"content"),o,r,i)+"px"}function Je(e,t,n,r,i){return new Je.prototype.init(e,t,n,r,i)}b.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=ke(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,a,o,s=X(t),l=He.test(t),u=e.style;if(l||(t=qe(s)),o=b.cssHooks[t]||b.cssHooks[s],void 0===n)return o&&"get"in o&&void 0!==(i=o.get(e,!1,r))?i:u[t];"string"==(a=typeof n)&&(i=te.exec(n))&&i[1]&&(n=ae(e,t,i),a="number"),null!=n&&n==n&&("number"===a&&(n+=i&&i[3]||(b.cssNumber[s]?"":"px")),f.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),o&&"set"in o&&void 0===(n=o.set(e,n,r))||(l?u.setProperty(t,n):u[t]=n))}},css:function(e,t,n,r){var i,a,o,s=X(t);return He.test(t)||(t=qe(s)),(o=b.cssHooks[t]||b.cssHooks[s])&&"get"in o&&(i=o.get(e,!0,n)),void 0===i&&(i=ke(e,t,r)),"normal"===i&&t in Ve&&(i=Ve[t]),""===n||n?(a=parseFloat(i),!0===n||isFinite(a)?a||0:i):i}}),b.each(["height","width"],(function(e,t){b.cssHooks[t]={get:function(e,n,r){if(n)return!Ge.test(b.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Ze(e,t,r):ie(e,je,(function(){return Ze(e,t,r)}))},set:function(e,n,r){var i,a=Ue(e),o="border-box"===b.css(e,"boxSizing",!1,a),s=r&&$e(e,t,r,o,a);return o&&f.scrollboxSize()===a.position&&(s-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(a[t])-$e(e,t,"border",!1,a)-.5)),s&&(i=te.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=b.css(e,t)),Ye(0,n,s)}}})),b.cssHooks.marginLeft=Fe(f.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(ke(e,"marginLeft"))||e.getBoundingClientRect().left-ie(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),b.each({margin:"",padding:"",border:"Width"},(function(e,t){b.cssHooks[e+t]={expand:function(n){for(var r=0,i={},a="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+ne[r]+t]=a[r]||a[r-2]||a[0];return i}},"margin"!==e&&(b.cssHooks[e+t].set=Ye)})),b.fn.extend({css:function(e,t){return H(this,(function(e,t,n){var r,i,a={},o=0;if(Array.isArray(t)){for(r=Ue(e),i=t.length;o<i;o++)a[t[o]]=b.css(e,t[o],!1,r);return a}return void 0!==n?b.style(e,t,n):b.css(e,t)}),e,t,arguments.length>1)}}),b.Tween=Je,Je.prototype={constructor:Je,init:function(e,t,n,r,i,a){this.elem=e,this.prop=n,this.easing=i||b.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=a||(b.cssNumber[n]?"":"px")},cur:function(){var e=Je.propHooks[this.prop];return e&&e.get?e.get(this):Je.propHooks._default.get(this)},run:function(e){var t,n=Je.propHooks[this.prop];return this.options.duration?this.pos=t=b.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Je.propHooks._default.set(this),this}},Je.prototype.init.prototype=Je.prototype,Je.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=b.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){b.fx.step[e.prop]?b.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[b.cssProps[e.prop]]&&!b.cssHooks[e.prop]?e.elem[e.prop]=e.now:b.style(e.elem,e.prop,e.now+e.unit)}}},Je.propHooks.scrollTop=Je.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},b.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},b.fx=Je.prototype.init,b.fx.step={};var Qe,Ke,et=/^(?:toggle|show|hide)$/,tt=/queueHooks$/;function nt(){Ke&&(!1===r.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(nt):e.setTimeout(nt,b.fx.interval),b.fx.tick())}function rt(){return e.setTimeout((function(){Qe=void 0})),Qe=Date.now()}function it(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=ne[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function at(e,t,n){for(var r,i=(ot.tweeners[t]||[]).concat(ot.tweeners["*"]),a=0,o=i.length;a<o;a++)if(r=i[a].call(n,t,e))return r}function ot(e,t,n){var r,i,a=0,o=ot.prefilters.length,s=b.Deferred().always((function(){delete l.elem})),l=function(){if(i)return!1;for(var t=Qe||rt(),n=Math.max(0,u.startTime+u.duration-t),r=1-(n/u.duration||0),a=0,o=u.tweens.length;a<o;a++)u.tweens[a].run(r);return s.notifyWith(e,[u,r,n]),r<1&&o?n:(o||s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:b.extend({},t),opts:b.extend(!0,{specialEasing:{},easing:b.easing._default},n),originalProperties:t,originalOptions:n,startTime:Qe||rt(),duration:n.duration,tweens:[],createTween:function(t,n){var r=b.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(r),r},stop:function(t){var n=0,r=t?u.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)u.tweens[n].run(1);return t?(s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u,t])):s.rejectWith(e,[u,t]),this}}),c=u.props;for(function(e,t){var n,r,i,a,o;for(n in e)if(i=t[r=X(n)],a=e[n],Array.isArray(a)&&(i=a[1],a=e[n]=a[0]),n!==r&&(e[r]=a,delete e[n]),(o=b.cssHooks[r])&&"expand"in o)for(n in a=o.expand(a),delete e[r],a)n in e||(e[n]=a[n],t[n]=i);else t[r]=i}(c,u.opts.specialEasing);a<o;a++)if(r=ot.prefilters[a].call(u,e,c,u.opts))return m(r.stop)&&(b._queueHooks(u.elem,u.opts.queue).stop=r.stop.bind(r)),r;return b.map(c,at,u),m(u.opts.start)&&u.opts.start.call(e,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),b.fx.timer(b.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u}b.Animation=b.extend(ot,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ae(n.elem,e,te.exec(t),n),n}]},tweener:function(e,t){m(e)?(t=e,e=["*"]):e=e.match(N);for(var n,r=0,i=e.length;r<i;r++)n=e[r],ot.tweeners[n]=ot.tweeners[n]||[],ot.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,a,o,s,l,u,c,h="width"in t||"height"in t,d=this,p={},f=e.style,m=e.nodeType&&re(e),v=$.get(e,"fxshow");for(r in n.queue||(null==(o=b._queueHooks(e,"fx")).unqueued&&(o.unqueued=0,s=o.empty.fire,o.empty.fire=function(){o.unqueued||s()}),o.unqueued++,d.always((function(){d.always((function(){o.unqueued--,b.queue(e,"fx").length||o.empty.fire()}))}))),t)if(i=t[r],et.test(i)){if(delete t[r],a=a||"toggle"===i,i===(m?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;m=!0}p[r]=v&&v[r]||b.style(e,r)}if((l=!b.isEmptyObject(t))||!b.isEmptyObject(p))for(r in h&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(u=v&&v.display)&&(u=$.get(e,"display")),"none"===(c=b.css(e,"display"))&&(u?c=u:(le([e],!0),u=e.style.display||u,c=b.css(e,"display"),le([e]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===b.css(e,"float")&&(l||(d.done((function(){f.display=u})),null==u&&(c=f.display,u="none"===c?"":c)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",d.always((function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}))),l=!1,p)l||(v?"hidden"in v&&(m=v.hidden):v=$.access(e,"fxshow",{display:u}),a&&(v.hidden=!m),m&&le([e],!0),d.done((function(){for(r in m||le([e]),$.remove(e,"fxshow"),p)b.style(e,r,p[r])}))),l=at(m?v[r]:0,r,d),r in v||(v[r]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?ot.prefilters.unshift(e):ot.prefilters.push(e)}}),b.speed=function(e,t,n){var r=e&&"object"==typeof e?b.extend({},e):{complete:n||!n&&t||m(e)&&e,duration:e,easing:n&&t||t&&!m(t)&&t};return b.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in b.fx.speeds?r.duration=b.fx.speeds[r.duration]:r.duration=b.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){m(r.old)&&r.old.call(this),r.queue&&b.dequeue(this,r.queue)},r},b.fn.extend({fadeTo:function(e,t,n,r){return this.filter(re).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=b.isEmptyObject(e),a=b.speed(t,n,r),o=function(){var t=ot(this,b.extend({},e),a);(i||$.get(this,"finish"))&&t.stop(!0)};return o.finish=o,i||!1===a.queue?this.each(o):this.queue(a.queue,o)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each((function(){var t=!0,i=null!=e&&e+"queueHooks",a=b.timers,o=$.get(this);if(i)o[i]&&o[i].stop&&r(o[i]);else for(i in o)o[i]&&o[i].stop&&tt.test(i)&&r(o[i]);for(i=a.length;i--;)a[i].elem!==this||null!=e&&a[i].queue!==e||(a[i].anim.stop(n),t=!1,a.splice(i,1));!t&&n||b.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=$.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],a=b.timers,o=r?r.length:0;for(n.finish=!0,b.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;t<o;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish}))}}),b.each(["toggle","show","hide"],(function(e,t){var n=b.fn[t];b.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(it(t,!0),e,r,i)}})),b.each({slideDown:it("show"),slideUp:it("hide"),slideToggle:it("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){b.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}})),b.timers=[],b.fx.tick=function(){var e,t=0,n=b.timers;for(Qe=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||b.fx.stop(),Qe=void 0},b.fx.timer=function(e){b.timers.push(e),b.fx.start()},b.fx.interval=13,b.fx.start=function(){Ke||(Ke=!0,nt())},b.fx.stop=function(){Ke=null},b.fx.speeds={slow:600,fast:200,_default:400},b.fn.delay=function(t,n){return t=b.fx&&b.fx.speeds[t]||t,n=n||"fx",this.queue(n,(function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}}))},function(){var e=r.createElement("input"),t=r.createElement("select").appendChild(r.createElement("option"));e.type="checkbox",f.checkOn=""!==e.value,f.optSelected=t.selected,(e=r.createElement("input")).value="t",e.type="radio",f.radioValue="t"===e.value}();var st,lt=b.expr.attrHandle;b.fn.extend({attr:function(e,t){return H(this,b.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){b.removeAttr(this,e)}))}}),b.extend({attr:function(e,t,n){var r,i,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===e.getAttribute?b.prop(e,t,n):(1===a&&b.isXMLDoc(e)||(i=b.attrHooks[t.toLowerCase()]||(b.expr.match.bool.test(t)?st:void 0)),void 0!==n?null===n?void b.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=b.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!f.radioValue&&"radio"===t&&A(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(N);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),st={set:function(e,t,n){return!1===t?b.removeAttr(e,n):e.setAttribute(n,n),n}},b.each(b.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=lt[t]||b.find.attr;lt[t]=function(e,t,r){var i,a,o=t.toLowerCase();return r||(a=lt[o],lt[o]=i,i=null!=n(e,t,r)?o:null,lt[o]=a),i}}));var ut=/^(?:input|select|textarea|button)$/i,ct=/^(?:a|area)$/i;function ht(e){return(e.match(N)||[]).join(" ")}function dt(e){return e.getAttribute&&e.getAttribute("class")||""}function pt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(N)||[]}b.fn.extend({prop:function(e,t){return H(this,b.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[b.propFix[e]||e]}))}}),b.extend({prop:function(e,t,n){var r,i,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&b.isXMLDoc(e)||(t=b.propFix[t]||t,i=b.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=b.find.attr(e,"tabindex");return t?parseInt(t,10):ut.test(e.nodeName)||ct.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),f.optSelected||(b.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),b.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){b.propFix[this.toLowerCase()]=this})),b.fn.extend({addClass:function(e){var t,n,r,i,a,o,s,l=0;if(m(e))return this.each((function(t){b(this).addClass(e.call(this,t,dt(this)))}));if((t=pt(e)).length)for(;n=this[l++];)if(i=dt(n),r=1===n.nodeType&&" "+ht(i)+" "){for(o=0;a=t[o++];)r.indexOf(" "+a+" ")<0&&(r+=a+" ");i!==(s=ht(r))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,a,o,s,l=0;if(m(e))return this.each((function(t){b(this).removeClass(e.call(this,t,dt(this)))}));if(!arguments.length)return this.attr("class","");if((t=pt(e)).length)for(;n=this[l++];)if(i=dt(n),r=1===n.nodeType&&" "+ht(i)+" "){for(o=0;a=t[o++];)for(;r.indexOf(" "+a+" ")>-1;)r=r.replace(" "+a+" "," ");i!==(s=ht(r))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):m(e)?this.each((function(n){b(this).toggleClass(e.call(this,n,dt(this),t),t)})):this.each((function(){var t,i,a,o;if(r)for(i=0,a=b(this),o=pt(e);t=o[i++];)a.hasClass(t)?a.removeClass(t):a.addClass(t);else void 0!==e&&"boolean"!==n||((t=dt(this))&&$.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":$.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+ht(dt(n))+" ").indexOf(t)>-1)return!0;return!1}});var ft=/\r/g;b.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=m(e),this.each((function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,b(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=b.map(i,(function(e){return null==e?"":e+""}))),(t=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))}))):i?(t=b.valHooks[i.type]||b.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(ft,""):null==n?"":n:void 0}}),b.extend({valHooks:{option:{get:function(e){var t=b.find.attr(e,"value");return null!=t?t:ht(b.text(e))}},select:{get:function(e){var t,n,r,i=e.options,a=e.selectedIndex,o="select-one"===e.type,s=o?null:[],l=o?a+1:i.length;for(r=a<0?l:o?a:0;r<l;r++)if(((n=i[r]).selected||r===a)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,"optgroup"))){if(t=b(n).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,a=b.makeArray(t),o=i.length;o--;)((r=i[o]).selected=b.inArray(b.valHooks.option.get(r),a)>-1)&&(n=!0);return n||(e.selectedIndex=-1),a}}}}),b.each(["radio","checkbox"],(function(){b.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=b.inArray(b(e).val(),t)>-1}},f.checkOn||(b.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),f.focusin="onfocusin"in e;var mt=/^(?:focusinfocus|focusoutblur)$/,vt=function(e){e.stopPropagation()};b.extend(b.event,{trigger:function(t,n,i,a){var o,s,l,u,c,d,p,f,g=[i||r],y=h.call(t,"type")?t.type:t,x=h.call(t,"namespace")?t.namespace.split("."):[];if(s=f=l=i=i||r,3!==i.nodeType&&8!==i.nodeType&&!mt.test(y+b.event.triggered)&&(y.indexOf(".")>-1&&(y=(x=y.split(".")).shift(),x.sort()),c=y.indexOf(":")<0&&"on"+y,(t=t[b.expando]?t:new b.Event(y,"object"==typeof t&&t)).isTrigger=a?2:3,t.namespace=x.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+x.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:b.makeArray(n,[t]),p=b.event.special[y]||{},a||!p.trigger||!1!==p.trigger.apply(i,n))){if(!a&&!p.noBubble&&!v(i)){for(u=p.delegateType||y,mt.test(u+y)||(s=s.parentNode);s;s=s.parentNode)g.push(s),l=s;l===(i.ownerDocument||r)&&g.push(l.defaultView||l.parentWindow||e)}for(o=0;(s=g[o++])&&!t.isPropagationStopped();)f=s,t.type=o>1?u:p.bindType||y,(d=($.get(s,"events")||{})[t.type]&&$.get(s,"handle"))&&d.apply(s,n),(d=c&&s[c])&&d.apply&&q(s)&&(t.result=d.apply(s,n),!1===t.result&&t.preventDefault());return t.type=y,a||t.isDefaultPrevented()||p._default&&!1!==p._default.apply(g.pop(),n)||!q(i)||c&&m(i[y])&&!v(i)&&((l=i[c])&&(i[c]=null),b.event.triggered=y,t.isPropagationStopped()&&f.addEventListener(y,vt),i[y](),t.isPropagationStopped()&&f.removeEventListener(y,vt),b.event.triggered=void 0,l&&(i[c]=l)),t.result}},simulate:function(e,t,n){var r=b.extend(new b.Event,n,{type:e,isSimulated:!0});b.event.trigger(r,null,t)}}),b.fn.extend({trigger:function(e,t){return this.each((function(){b.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return b.event.trigger(e,t,n,!0)}}),f.focusin||b.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){b.event.simulate(t,e.target,b.event.fix(e))};b.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=$.access(r,t);i||r.addEventListener(e,n,!0),$.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=$.access(r,t)-1;i?$.access(r,t,i):(r.removeEventListener(e,n,!0),$.remove(r,t))}}}));var gt=e.location,yt=Date.now(),xt=/\?/;b.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||b.error("Invalid XML: "+t),n};var bt=/\[\]$/,_t=/\r?\n/g,wt=/^(?:submit|button|image|reset|file)$/i,Et=/^(?:input|select|textarea|keygen)/i;function Tt(e,t,n,r){var i;if(Array.isArray(t))b.each(t,(function(t,i){n||bt.test(e)?r(e,i):Tt(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)}));else if(n||"object"!==x(t))r(e,t);else for(i in t)Tt(e+"["+i+"]",t[i],n,r)}b.param=function(e,t){var n,r=[],i=function(e,t){var n=m(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!b.isPlainObject(e))b.each(e,(function(){i(this.name,this.value)}));else for(n in e)Tt(n,e[n],t,i);return r.join("&")},b.fn.extend({serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=b.prop(this,"elements");return e?b.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!b(this).is(":disabled")&&Et.test(this.nodeName)&&!wt.test(e)&&(this.checked||!ue.test(e))})).map((function(e,t){var n=b(this).val();return null==n?null:Array.isArray(n)?b.map(n,(function(e){return{name:t.name,value:e.replace(_t,"\r\n")}})):{name:t.name,value:n.replace(_t,"\r\n")}})).get()}});var Mt=/%20/g,St=/#.*$/,At=/([?&])_=[^&]*/,Ct=/^(.*?):[ \t]*([^\r\n]*)$/gm,Lt=/^(?:GET|HEAD)$/,Pt=/^\/\//,Rt={},It={},Dt="*/".concat("*"),Ot=r.createElement("a");function Nt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,a=t.toLowerCase().match(N)||[];if(m(n))for(;r=a[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function zt(e,t,n,r){var i={},a=e===It;function o(s){var l;return i[s]=!0,b.each(e[s]||[],(function(e,s){var u=s(t,n,r);return"string"!=typeof u||a||i[u]?a?!(l=u):void 0:(t.dataTypes.unshift(u),o(u),!1)})),l}return o(t.dataTypes[0])||!i["*"]&&o("*")}function Ut(e,t){var n,r,i=b.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&b.extend(!0,e,r),e}Ot.href=gt.href,b.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:gt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(gt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Dt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":b.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ut(Ut(e,b.ajaxSettings),t):Ut(b.ajaxSettings,e)},ajaxPrefilter:Nt(Rt),ajaxTransport:Nt(It),ajax:function(t,n){"object"==typeof t&&(n=t,t=void 0),n=n||{};var i,a,o,s,l,u,c,h,d,p,f=b.ajaxSetup({},n),m=f.context||f,v=f.context&&(m.nodeType||m.jquery)?b(m):b.event,g=b.Deferred(),y=b.Callbacks("once memory"),x=f.statusCode||{},_={},w={},E="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s)for(s={};t=Ct.exec(o);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(e,t){return null==c&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,_[e]=t),this},overrideMimeType:function(e){return null==c&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)T.always(e[T.status]);else for(t in e)x[t]=[x[t],e[t]];return this},abort:function(e){var t=e||E;return i&&i.abort(t),M(0,t),this}};if(g.promise(T),f.url=((t||f.url||gt.href)+"").replace(Pt,gt.protocol+"//"),f.type=n.method||n.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(N)||[""],null==f.crossDomain){u=r.createElement("a");try{u.href=f.url,u.href=u.href,f.crossDomain=Ot.protocol+"//"+Ot.host!=u.protocol+"//"+u.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=b.param(f.data,f.traditional)),zt(Rt,f,n,T),c)return T;for(d in(h=b.event&&f.global)&&0==b.active++&&b.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Lt.test(f.type),a=f.url.replace(St,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Mt,"+")):(p=f.url.slice(a.length),f.data&&(f.processData||"string"==typeof f.data)&&(a+=(xt.test(a)?"&":"?")+f.data,delete f.data),!1===f.cache&&(a=a.replace(At,"$1"),p=(xt.test(a)?"&":"?")+"_="+yt+++p),f.url=a+p),f.ifModified&&(b.lastModified[a]&&T.setRequestHeader("If-Modified-Since",b.lastModified[a]),b.etag[a]&&T.setRequestHeader("If-None-Match",b.etag[a])),(f.data&&f.hasContent&&!1!==f.contentType||n.contentType)&&T.setRequestHeader("Content-Type",f.contentType),T.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Dt+"; q=0.01":""):f.accepts["*"]),f.headers)T.setRequestHeader(d,f.headers[d]);if(f.beforeSend&&(!1===f.beforeSend.call(m,T,f)||c))return T.abort();if(E="abort",y.add(f.complete),T.done(f.success),T.fail(f.error),i=zt(It,f,n,T)){if(T.readyState=1,h&&v.trigger("ajaxSend",[T,f]),c)return T;f.async&&f.timeout>0&&(l=e.setTimeout((function(){T.abort("timeout")}),f.timeout));try{c=!1,i.send(_,M)}catch(e){if(c)throw e;M(-1,e)}}else M(-1,"No Transport");function M(t,n,r,s){var u,d,p,_,w,E=n;c||(c=!0,l&&e.clearTimeout(l),i=void 0,o=s||"",T.readyState=t>0?4:0,u=t>=200&&t<300||304===t,r&&(_=function(e,t,n){for(var r,i,a,o,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){l.unshift(i);break}if(l[0]in n)a=l[0];else{for(i in n){if(!l[0]||e.converters[i+" "+l[0]]){a=i;break}o||(o=i)}a=a||o}if(a)return a!==l[0]&&l.unshift(a),n[a]}(f,T,r)),_=function(e,t,n,r){var i,a,o,s,l,u={},c=e.dataTypes.slice();if(c[1])for(o in e.converters)u[o.toLowerCase()]=e.converters[o];for(a=c.shift();a;)if(e.responseFields[a]&&(n[e.responseFields[a]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=a,a=c.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(!(o=u[l+" "+a]||u["* "+a]))for(i in u)if((s=i.split(" "))[1]===a&&(o=u[l+" "+s[0]]||u["* "+s[0]])){!0===o?o=u[i]:!0!==u[i]&&(a=s[0],c.unshift(s[1]));break}if(!0!==o)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+l+" to "+a}}}return{state:"success",data:t}}(f,_,T,u),u?(f.ifModified&&((w=T.getResponseHeader("Last-Modified"))&&(b.lastModified[a]=w),(w=T.getResponseHeader("etag"))&&(b.etag[a]=w)),204===t||"HEAD"===f.type?E="nocontent":304===t?E="notmodified":(E=_.state,d=_.data,u=!(p=_.error))):(p=E,!t&&E||(E="error",t<0&&(t=0))),T.status=t,T.statusText=(n||E)+"",u?g.resolveWith(m,[d,E,T]):g.rejectWith(m,[T,E,p]),T.statusCode(x),x=void 0,h&&v.trigger(u?"ajaxSuccess":"ajaxError",[T,f,u?d:p]),y.fireWith(m,[T,E]),h&&(v.trigger("ajaxComplete",[T,f]),--b.active||b.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return b.get(e,t,n,"json")},getScript:function(e,t){return b.get(e,void 0,t,"script")}}),b.each(["get","post"],(function(e,t){b[t]=function(e,n,r,i){return m(n)&&(i=i||r,r=n,n=void 0),b.ajax(b.extend({url:e,type:t,dataType:i,data:n,success:r},b.isPlainObject(e)&&e))}})),b._evalUrl=function(e){return b.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},b.fn.extend({wrapAll:function(e){var t;return this[0]&&(m(e)&&(e=e.call(this[0])),t=b(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return m(e)?this.each((function(t){b(this).wrapInner(e.call(this,t))})):this.each((function(){var t=b(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=m(e);return this.each((function(n){b(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){b(this).replaceWith(this.childNodes)})),this}}),b.expr.pseudos.hidden=function(e){return!b.expr.pseudos.visible(e)},b.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},b.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Bt={0:200,1223:204},kt=b.ajaxSettings.xhr();f.cors=!!kt&&"withCredentials"in kt,f.ajax=kt=!!kt,b.ajaxTransport((function(t){var n,r;if(f.cors||kt&&!t.crossDomain)return{send:function(i,a){var o,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)s[o]=t.xhrFields[o];for(o in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)s.setRequestHeader(o,i[o]);n=function(e){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?a(0,"error"):a(s.status,s.statusText):a(Bt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=s.ontimeout=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout((function(){n&&r()}))},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}})),b.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),b.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return b.globalEval(e),e}}}),b.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),b.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain)return{send:function(i,a){t=b("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&a("error"===e.type?404:200,e.type)}),r.head.appendChild(t[0])},abort:function(){n&&n()}}}));var Ft=[],Gt=/(=)\?(?=&|$)|\?\?/;b.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Ft.pop()||b.expando+"_"+yt++;return this[e]=!0,e}}),b.ajaxPrefilter("json jsonp",(function(t,n,r){var i,a,o,s=!1!==t.jsonp&&(Gt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Gt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=m(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Gt,"$1"+i):!1!==t.jsonp&&(t.url+=(xt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return o||b.error(i+" was not called"),o[0]},t.dataTypes[0]="json",a=e[i],e[i]=function(){o=arguments},r.always((function(){void 0===a?b(e).removeProp(i):e[i]=a,t[i]&&(t.jsonpCallback=n.jsonpCallback,Ft.push(i)),o&&m(a)&&a(o[0]),o=a=void 0})),"script"})),f.createHTMLDocument=function(){var e=r.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),b.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(f.createHTMLDocument?((i=(t=r.implementation.createHTMLDocument("")).createElement("base")).href=r.location.href,t.head.appendChild(i)):t=r),o=!n&&[],(a=C.exec(e))?[t.createElement(a[1])]:(a=ve([e],t,o),o&&o.length&&b(o).remove(),b.merge([],a.childNodes)));var i,a,o},b.fn.load=function(e,t,n){var r,i,a,o=this,s=e.indexOf(" ");return s>-1&&(r=ht(e.slice(s)),e=e.slice(0,s)),m(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),o.length>0&&b.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done((function(e){a=arguments,o.html(r?b("<div>").append(b.parseHTML(e)).find(r):e)})).always(n&&function(e,t){o.each((function(){n.apply(this,a||[e.responseText,t,e])}))}),this},b.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){b.fn[t]=function(e){return this.on(t,e)}})),b.expr.pseudos.animated=function(e){return b.grep(b.timers,(function(t){return e===t.elem})).length},b.offset={setOffset:function(e,t,n){var r,i,a,o,s,l,u=b.css(e,"position"),c=b(e),h={};"static"===u&&(e.style.position="relative"),s=c.offset(),a=b.css(e,"top"),l=b.css(e,"left"),("absolute"===u||"fixed"===u)&&(a+l).indexOf("auto")>-1?(o=(r=c.position()).top,i=r.left):(o=parseFloat(a)||0,i=parseFloat(l)||0),m(t)&&(t=t.call(e,n,b.extend({},s))),null!=t.top&&(h.top=t.top-s.top+o),null!=t.left&&(h.left=t.left-s.left+i),"using"in t?t.using.call(e,h):c.css(h)}},b.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){b.offset.setOffset(this,e,t)}));var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===b.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===b.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=b(e).offset()).top+=b.css(e,"borderTopWidth",!0),i.left+=b.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-b.css(r,"marginTop",!0),left:t.left-i.left-b.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===b.css(e,"position");)e=e.offsetParent;return e||ge}))}}),b.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;b.fn[e]=function(r){return H(this,(function(e,r,i){var a;if(v(e)?a=e:9===e.nodeType&&(a=e.defaultView),void 0===i)return a?a[t]:e[r];a?a.scrollTo(n?a.pageXOffset:i,n?i:a.pageYOffset):e[r]=i}),e,r,arguments.length)}})),b.each(["top","left"],(function(e,t){b.cssHooks[t]=Fe(f.pixelPosition,(function(e,n){if(n)return n=ke(e,t),ze.test(n)?b(e).position()[t]+"px":n}))})),b.each({Height:"height",Width:"width"},(function(e,t){b.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,r){b.fn[r]=function(i,a){var o=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===a?"margin":"border");return H(this,(function(t,n,i){var a;return v(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(a=t.documentElement,Math.max(t.body["scroll"+e],a["scroll"+e],t.body["offset"+e],a["offset"+e],a["client"+e])):void 0===i?b.css(t,n,s):b.style(t,n,i,s)}),t,o?i:void 0,o)}}))})),b.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){b.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}})),b.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),b.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),b.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),m(e))return r=a.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(a.call(arguments)))}).guid=e.guid=e.guid||b.guid++,i},b.holdReady=function(e){e?b.readyWait++:b.ready(!0)},b.isArray=Array.isArray,b.parseJSON=JSON.parse,b.nodeName=A,b.isFunction=m,b.isWindow=v,b.camelCase=X,b.type=x,b.now=Date.now,b.isNumeric=function(e){var t=b.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"==typeof define&&define.amd&&define("jquery",[],(function(){return b}));var Ht=e.jQuery,jt=e.$;return b.noConflict=function(t){return e.$===b&&(e.$=jt),t&&e.jQuery===b&&(e.jQuery=Ht),b},t||(e.jQuery=e.$=b),b})),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).window=e.window||{})}(this,(function(e){"use strict";function t(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function r(e){return"string"==typeof e}function i(e){return"function"==typeof e}function a(e){return"number"==typeof e}function o(e){return void 0===e}function s(e){return"object"==typeof e}function l(e){return!1!==e}function u(){return"undefined"!=typeof window}function c(e){return i(e)||r(e)}function h(e){return(me=st(e,Qe))&&on}function d(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")}function p(e,t){return!t&&console.warn(e)}function f(e,t){return e&&(Qe[e]=t)&&me&&(me[e]=t)||Qe}function m(){return 0}function v(e){var t,n,r=e[0];if(s(r)||i(r)||(e=[e]),!(t=(r._gsap||{}).harness)){for(n=at.length;n--&&!at[n].targetTest(r););t=at[n]}for(n=e.length;n--;)e[n]&&(e[n]._gsap||(e[n]._gsap=new Lt(e[n],t)))||e.splice(n,1);return e}function g(e){return e._gsap||v(dt(e))[0]._gsap}function y(e,t){var n=e[t];return i(n)?e[t]():o(n)&&e.getAttribute(t)||n}function x(e,t){return(e=e.split(",")).forEach(t)||e}function b(e){return Math.round(1e5*e)/1e5||0}function _(e,t){for(var n=t.length,r=0;e.indexOf(t[r])<0&&++r<n;);return r<n}function w(e,t,n){var r,i=a(e[1]),o=(i?2:1)+(t<2?0:1),s=e[o];if(i&&(s.duration=e[1]),s.parent=n,t){for(r=s;n&&!("immediateRender"in r);)r=n.vars.defaults||{},n=l(n.vars.inherit)&&n.parent;s.immediateRender=l(r.immediateRender),t<2?s.runBackwards=1:s.startAt=e[o-1]}return s}function E(){var e,t,n=et.length,r=et.slice(0);for(tt={},e=et.length=0;e<n;e++)(t=r[e])&&t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0)._lazy=0)}function T(e,t,n,r){et.length&&E(),e.render(t,n,r),et.length&&E()}function M(e){var t=parseFloat(e);return(t||0===t)&&(e+"").match(Je).length<2?t:e}function S(e){return e}function A(e,t){for(var n in t)n in e||(e[n]=t[n]);return e}function C(e,t){for(var n in t)n in e||"duration"===n||"ease"===n||(e[n]=t[n])}function L(e,t){for(var n in t)e[n]=s(t[n])?L(e[n]||(e[n]={}),t[n]):t[n];return e}function P(e,t){var n,r={};for(n in e)n in t||(r[n]=e[n]);return r}function R(e){var t=e.parent||he,n=e.keyframes?C:A;if(l(e.inherit))for(;t;)n(e,t.vars.defaults),t=t.parent;return e}function I(e,t,n,r){void 0===n&&(n="_first"),void 0===r&&(r="_last");var i=t._prev,a=t._next;i?i._next=a:e[n]===t&&(e[n]=a),a?a._prev=i:e[r]===t&&(e[r]=i),t._next=t._prev=t.parent=null}function D(e,t){!e.parent||t&&!e.parent.autoRemoveChildren||e.parent.remove(e),e._act=0}function O(e){for(var t=e;t;)t._dirty=1,t=t.parent;return e}function N(e){return e._repeat?lt(e._tTime,e=e.duration()+e._rDelay)*e:0}function z(e,t){return(e-t._start)*t._ts+(0<=t._ts?0:t._dirty?t.totalDuration():t._tDur)}function U(e){return e._end=b(e._start+(e._tDur/Math.abs(e._ts||e._rts||Ue)||0))}function B(e,t){var n;if((t._time||t._initted&&!t._dur)&&(n=z(e.rawTime(),t),(!t._dur||ct(0,t.totalDuration(),n)-t._tTime>Ue)&&t.render(n,!0)),O(e)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)0<=n.rawTime()&&n.totalTime(n._tTime),n=n._dp;e._zTime=-Ue}}function k(e,t,n,r){return t.parent&&D(t),t._start=b(n+t._delay),t._end=b(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),function(e,t,n,r,i){void 0===n&&(n="_first"),void 0===r&&(r="_last");var a,o=e[r];if(i)for(a=t[i];o&&o[i]>a;)o=o._prev;o?(t._next=o._next,o._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[r]=t,t._prev=o,t.parent=t._dp=e}(e,t,"_first","_last",e._sort?"_start":0),e._recent=t,r||B(e,t),e}function F(e,t,n,r){return zt(e,t),e._initted?!n&&e._pt&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)&&ge!==xt.frame?(et.push(e),e._lazy=[t,r],1):void 0:1}function G(e,t,n){var r=e._repeat,i=b(t)||0;return e._dur=i,e._tDur=r?r<0?1e12:b(i*(r+1)+e._rDelay*r):i,e._time>i&&(e._time=i,e._tTime=Math.min(e._tTime,e._tDur)),n||O(e.parent),e.parent&&U(e),e}function H(e){return e instanceof It?O(e):G(e,e._dur)}function j(e,t){var n,i,a=e.labels,o=e._recent||ut,s=e.duration()>=ze?o.endTime(!1):e._dur;return r(t)&&(isNaN(t)||t in a)?"<"===(n=t.charAt(0))||">"===n?("<"===n?o._start:o.endTime(0<=o._repeat))+(parseFloat(t.substr(1))||0):(n=t.indexOf("="))<0?(t in a||(a[t]=s),a[t]):(i=+(t.charAt(n-1)+t.substr(n+1)),1<n?j(e,t.substr(0,n-1))+i:s+i):null==t?s:+t}function V(e,t){return e||0===e?t(e):t}function W(e){return(e+"").substr((parseFloat(e)+"").length)}function X(e,t){return e&&s(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&s(e[0]))&&!e.nodeType&&e!==de}function q(e){return e.sort((function(){return.5-Math.random()}))}function Y(e){if(i(e))return e;var t=s(e)?e:{each:e},n=Mt(t.ease),a=t.from||0,o=parseFloat(t.base)||0,l={},u=0<a&&a<1,c=isNaN(a)||u,h=t.axis,d=a,p=a;return r(a)?d=p={center:.5,edges:.5,end:1}[a]||0:!u&&c&&(d=a[0],p=a[1]),function(e,r,i){var s,u,f,m,v,g,y,x,_,w=(i||t).length,E=l[w];if(!E){if(!(_="auto"===t.grid?0:(t.grid||[1,ze])[1])){for(y=-ze;y<(y=i[_++].getBoundingClientRect().left)&&_<w;);_--}for(E=l[w]=[],s=c?Math.min(_,w)*d-.5:a%_,u=c?w*p/_-.5:a/_|0,x=ze,g=y=0;g<w;g++)f=g%_-s,m=u-(g/_|0),E[g]=v=h?Math.abs("y"===h?m:f):Ge(f*f+m*m),y<v&&(y=v),v<x&&(x=v);"random"===a&&q(E),E.max=y-x,E.min=x,E.v=w=(parseFloat(t.amount)||parseFloat(t.each)*(w<_?w-1:h?"y"===h?w/_:_:Math.max(_,w/_))||0)*("edges"===a?-1:1),E.b=w<0?o-w:o,E.u=W(t.amount||t.each)||0,n=n&&w<0?Tt(n):n}return w=(E[e]-E.min)/E.max||0,b(E.b+(n?n(w):w)*E.v)+E.u}}function $(e){var t=e<1?Math.pow(10,(e+"").length-2):1;return function(n){return~~(Math.round(parseFloat(n)/e)*e*t)/t+(a(n)?0:W(n))}}function Z(e,t){var n,r,o=Ve(e);return!o&&s(e)&&(n=o=e.radius||ze,e.values?(e=dt(e.values),(r=!a(e[0]))&&(n*=n)):e=$(e.increment)),V(t,o?i(e)?function(t){return r=e(t),Math.abs(r-t)<=n?r:t}:function(t){for(var i,o,s=parseFloat(r?t.x:t),l=parseFloat(r?t.y:0),u=ze,c=0,h=e.length;h--;)(i=r?(i=e[h].x-s)*i+(o=e[h].y-l)*o:Math.abs(e[h]-s))<u&&(u=i,c=h);return c=!n||u<=n?e[c]:t,r||c===t||a(t)?c:c+W(t)}:$(e))}function J(e,t,n,r){return V(Ve(e)?!t:!0===n?!!(n=0):!r,(function(){return Ve(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&~~(Math.round((e+Math.random()*(t-e))/n)*n*r)/r}))}function Q(e,t,n){return V(n,(function(n){return e[~~t(n)]}))}function K(e){for(var t,n,r,i,a=0,o="";~(t=e.indexOf("random(",a));)r=e.indexOf(")",t),i="["===e.charAt(t+7),n=e.substr(t+7,r-t-7).match(i?Je:We),o+=e.substr(a,t-a)+J(i?n:+n[0],+n[1],+n[2]||1e-5),a=r+1;return o+e.substr(a,e.length-a)}function ee(e,t,n){var r,i,a,o=e.labels,s=ze;for(r in o)(i=o[r]-t)<0==!!n&&i&&s>(i=Math.abs(i))&&(a=r,s=i);return a}function te(e){return D(e),e.progress()<1&&ft(e,"onInterrupt"),e}function ne(e,t,n){return(6*(e=e<0?e+1:1<e?e-1:e)<1?t+(n-t)*e*6:e<.5?n:3*e<2?t+(n-t)*(2/3-e)*6:t)*mt+.5|0}function re(e,t,n){var r,i,o,s,l,u,c,h,d,p,f=e?a(e)?[e>>16,e>>8&mt,e&mt]:0:vt.black;if(!f){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),vt[e])f=vt[e];else if("#"===e.charAt(0))4===e.length&&(e="#"+(r=e.charAt(1))+r+(i=e.charAt(2))+i+(o=e.charAt(3))+o),f=[(e=parseInt(e.substr(1),16))>>16,e>>8&mt,e&mt];else if("hsl"===e.substr(0,3))if(f=p=e.match(We),t){if(~e.indexOf("="))return f=e.match(Xe),n&&f.length<4&&(f[3]=1),f}else s=+f[0]%360/360,l=f[1]/100,r=2*(u=f[2]/100)-(i=u<=.5?u*(l+1):u+l-u*l),3<f.length&&(f[3]*=1),f[0]=ne(s+1/3,r,i),f[1]=ne(s,r,i),f[2]=ne(s-1/3,r,i);else f=e.match(We)||vt.transparent;f=f.map(Number)}return t&&!p&&(r=f[0]/mt,i=f[1]/mt,o=f[2]/mt,u=((c=Math.max(r,i,o))+(h=Math.min(r,i,o)))/2,c===h?s=l=0:(d=c-h,l=.5<u?d/(2-c-h):d/(c+h),s=c===r?(i-o)/d+(i<o?6:0):c===i?(o-r)/d+2:(r-i)/d+4,s*=60),f[0]=~~(s+.5),f[1]=~~(100*l+.5),f[2]=~~(100*u+.5)),n&&f.length<4&&(f[3]=1),f}function ie(e){var t=[],n=[],r=-1;return e.split(gt).forEach((function(e){var i=e.match(qe)||[];t.push.apply(t,i),n.push(r+=i.length+1)})),t.c=n,t}function ae(e,t,n){var r,i,a,o,s="",l=(e+s).match(gt),u=t?"hsla(":"rgba(",c=0;if(!l)return e;if(l=l.map((function(e){return(e=re(e,t,1))&&u+(t?e[0]+","+e[1]+"%,"+e[2]+"%,"+e[3]:e.join(","))+")"})),n&&(a=ie(e),(r=n.c).join(s)!==a.c.join(s)))for(o=(i=e.replace(gt,"1").split(qe)).length-1;c<o;c++)s+=i[c]+(~r.indexOf(c)?l.shift()||u+"0,0,0,0)":(a.length?a:l.length?l:n).shift());if(!i)for(o=(i=e.split(gt)).length-1;c<o;c++)s+=i[c]+l[c];return s+i[o]}function oe(e){var t,n=e.join(" ");if(gt.lastIndex=0,gt.test(n))return t=yt.test(n),e[1]=ae(e[1],t),e[0]=ae(e[0],t,ie(e[1])),!0}function se(e,t,n,r){void 0===n&&(n=function(e){return 1-t(1-e)}),void 0===r&&(r=function(e){return e<.5?t(2*e)/2:1-t(2*(1-e))/2});var i,a={easeIn:t,easeOut:n,easeInOut:r};return x(e,(function(e){for(var t in _t[e]=Qe[e]=a,_t[i=e.toLowerCase()]=n,a)_t[i+("easeIn"===t?".in":"easeOut"===t?".out":".inOut")]=_t[e+"."+t]=a[t]})),a}function le(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}}function ue(e,t,n){function r(e){return 1===e?1:i*Math.pow(2,-10*e)*je((e-o)*a)+1}var i=1<=t?t:1,a=(n||(e?.3:.45))/(t<1?t:1),o=a/Be*(Math.asin(1/i)||0),s="out"===e?r:"in"===e?function(e){return 1-r(1-e)}:le(r);return a=Be/a,s.config=function(t,n){return ue(e,t,n)},s}function ce(e,t){function n(e){return e?--e*e*((t+1)*e+t)+1:0}void 0===t&&(t=1.70158);var r="out"===e?n:"in"===e?function(e){return 1-n(1-e)}:le(n);return r.config=function(t){return ce(e,t)},r}var he,de,pe,fe,me,ve,ge,ye,xe,be,_e,we,Ee,Te,Me,Se,Ae,Ce,Le,Pe,Re,Ie,De,Oe={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Ne={duration:.5,overwrite:!1,delay:0},ze=1e8,Ue=1/ze,Be=2*Math.PI,ke=Be/4,Fe=0,Ge=Math.sqrt,He=Math.cos,je=Math.sin,Ve=Array.isArray,We=/(?:-?\.?\d|\.)+/gi,Xe=/[-+=.]*\d+[.e\-+]*\d*[e\-\+]*\d*/g,qe=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Ye=/[-+=.]*\d+(?:\.|e-|e)*\d*/gi,$e=/\(([^()]+)\)/i,Ze=/[+-]=-?[\.\d]+/,Je=/[#\-+.]*\b[a-z\d-=+%.]+/gi,Qe={},Ke={},et=[],tt={},nt={},rt={},it=30,at=[],ot="",st=function(e,t){for(var n in t)e[n]=t[n];return e},lt=function(e,t){return(e/=t)&&~~e===e?~~e-1:~~e},ut={_start:0,endTime:m},ct=function(e,t,n){return n<e?e:t<n?t:n},ht=[].slice,dt=function(e,t){return!r(e)||t||!pe&&bt()?Ve(e)?function(e,t,n){return void 0===n&&(n=[]),e.forEach((function(e){return r(e)&&!t||X(e,1)?n.push.apply(n,dt(e)):n.push(e)}))||n}(e,t):X(e)?ht.call(e,0):e?[e]:[]:ht.call(fe.querySelectorAll(e),0)},pt=function(e,t,n,r,i){var a=t-e,o=r-n;return V(i,(function(t){return n+(t-e)/a*o}))},ft=function(e,t,n){var r,i,a=e.vars,o=a[t];if(o)return r=a[t+"Params"],i=a.callbackScope||e,n&&et.length&&E(),r?o.apply(i,r):o.call(i)},mt=255,vt={aqua:[0,mt,mt],lime:[0,mt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,mt],navy:[0,0,128],white:[mt,mt,mt],olive:[128,128,0],yellow:[mt,mt,0],orange:[mt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[mt,0,0],pink:[mt,192,203],cyan:[0,mt,mt],transparent:[mt,mt,mt,0]},gt=function(){var e,t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(e in vt)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),yt=/hsl[a]?\(/,xt=(Te=Date.now,Me=500,Se=33,Ae=Te(),Ce=Ae,Pe=Le=1/240,Ee={time:0,frame:0,tick:function(){St(!0)},wake:function(){ve&&(!pe&&u()&&(de=pe=window,fe=de.document||{},Qe.gsap=on,(de.gsapVersions||(de.gsapVersions=[])).push(on.version),h(me||de.GreenSockGlobals||!de.gsap&&de||{}),we=de.requestAnimationFrame),be&&Ee.sleep(),_e=we||function(e){return setTimeout(e,1e3*(Pe-Ee.time)+1|0)},xe=1,St(2))},sleep:function(){(we?de.cancelAnimationFrame:clearTimeout)(be),xe=0,_e=m},lagSmoothing:function(e,t){Me=e||1e8,Se=Math.min(t,Me,0)},fps:function(e){Le=1/(e||240),Pe=Ee.time+Le},add:function(e){Re.indexOf(e)<0&&Re.push(e),bt()},remove:function(e){var t;~(t=Re.indexOf(e))&&Re.splice(t,1)},_listeners:Re=[]}),bt=function(){return!xe&&xt.wake()},_t={},wt=/^[\d.\-M][\d.\-,\s]/,Et=/["']/g,Tt=function(e){return function(t){return 1-e(1-t)}},Mt=function(e,t){return e&&(i(e)?e:_t[e]||function(e){var t=(e+"").split("("),n=_t[t[0]];return n&&1<t.length&&n.config?n.config.apply(null,~e.indexOf("{")?[function(e){for(var t,n,r,i={},a=e.substr(1,e.length-3).split(":"),o=a[0],s=1,l=a.length;s<l;s++)n=a[s],t=s!==l-1?n.lastIndexOf(","):n.length,r=n.substr(0,t),i[o]=isNaN(r)?r.replace(Et,"").trim():+r,o=n.substr(t+1).trim();return i}(t[1])]:$e.exec(e)[1].split(",").map(M)):_t._CE&&wt.test(e)?_t._CE("",e):n}(e))||t};function St(e){var t,n,r=Te()-Ce,i=!0===e;Me<r&&(Ae+=r-Se),Ce+=r,Ee.time=(Ce-Ae)/1e3,(0<(t=Ee.time-Pe)||i)&&(Ee.frame++,Pe+=t+(Le<=t?.004:Le-t),n=1),i||(be=_e(St)),n&&Re.forEach((function(t){return t(Ee.time,r,Ee.frame,e)}))}function At(e){return e<De?Ie*e*e:e<.7272727272727273?Ie*Math.pow(e-1.5/2.75,2)+.75:e<.9090909090909092?Ie*(e-=2.25/2.75)*e+.9375:Ie*Math.pow(e-2.625/2.75,2)+.984375}x("Linear,Quad,Cubic,Quart,Quint,Strong",(function(e,t){var n=t<5?t+1:t;se(e+",Power"+(n-1),t?function(e){return Math.pow(e,n)}:function(e){return e},(function(e){return 1-Math.pow(1-e,n)}),(function(e){return e<.5?Math.pow(2*e,n)/2:1-Math.pow(2*(1-e),n)/2}))})),_t.Linear.easeNone=_t.none=_t.Linear.easeIn,se("Elastic",ue("in"),ue("out"),ue()),Ie=7.5625,De=1/2.75,se("Bounce",(function(e){return 1-At(1-e)}),At),se("Expo",(function(e){return e?Math.pow(2,10*(e-1)):0})),se("Circ",(function(e){return-(Ge(1-e*e)-1)})),se("Sine",(function(e){return 1-He(e*ke)})),se("Back",ce("in"),ce("out"),ce()),_t.SteppedEase=_t.steps=Qe.SteppedEase={config:function(e,t){void 0===e&&(e=1);var n=1/e,r=e+(t?0:1),i=t?1:0;return function(e){return((r*ct(0,.99999999,e)|0)+i)*n}}},Ne.ease=_t["quad.out"],x("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(e){return ot+=e+","+e+"Params,"}));var Ct,Lt=function(e,t){this.id=Fe++,(e._gsap=this).target=e,this.harness=t,this.get=t?t.get:y,this.set=t?t.getSetter:Xt},Pt=((Ct=Rt.prototype).delay=function(e){return e||0===e?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+e-this._delay),this._delay=e,this):this._delay},Ct.duration=function(e){return arguments.length?this.totalDuration(0<this._repeat?e+(e+this._rDelay)*this._repeat:e):this.totalDuration()&&this._dur},Ct.totalDuration=function(e){return arguments.length?(this._dirty=0,G(this,this._repeat<0?e:(e-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},Ct.totalTime=function(e,t){if(bt(),!arguments.length)return this._tTime;var n=this.parent||this._dp;if(n&&n.smoothChildTiming&&this._ts){for(this._start=b(n._time-(0<this._ts?e/this._ts:((this._dirty?this.totalDuration():this._tDur)-e)/-this._ts)),U(this),n._dirty||O(n);n.parent;)n.parent._time!==n._start+(0<=n._ts?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&k(this._dp,this,this._start-this._delay)}return(this._tTime!==e||!this._dur&&!t||this._initted&&Math.abs(this._zTime)===Ue)&&(this._ts||(this._pTime=e),T(this,e,t)),this},Ct.time=function(e,t){return arguments.length?this.totalTime(Math.min(this.totalDuration(),e+N(this))%this._dur||(e?this._dur:0),t):this._time},Ct.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},Ct.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?e:1-e)+N(this),t):this.duration()?Math.min(1,this._time/this._dur):this.ratio},Ct.iteration=function(e,t){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(e-1)*n,t):this._repeat?lt(this._tTime,n)+1:1},Ct.timeScale=function(e){if(!arguments.length)return this._rts===-Ue?0:this._rts;if(this._rts===e)return this;var t=this.parent&&this._ts?z(this.parent._time,this):this._tTime;return this._rts=+e||0,this._ts=this._ps||e===-Ue?0:this._rts,function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e}(this.totalTime(ct(0,this._tDur,t),!0))},Ct.paused=function(e){return arguments.length?(this._ps!==e&&((this._ps=e)?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(bt(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&(this._tTime-=Ue)&&Math.abs(this._zTime)!==Ue))),this):this._ps},Ct.startTime=function(e){if(arguments.length){this._start=e;var t=this.parent||this._dp;return!t||!t._sort&&this.parent||k(t,this,e-this._delay),this}return this._start},Ct.endTime=function(e){return this._start+(l(e)?this.totalDuration():this.duration())/Math.abs(this._ts)},Ct.rawTime=function(e){var t=this.parent||this._dp;return t?e&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?z(t.rawTime(e),this):this._tTime:this._tTime},Ct.repeat=function(e){return arguments.length?(this._repeat=e,H(this)):this._repeat},Ct.repeatDelay=function(e){return arguments.length?(this._rDelay=e,H(this)):this._rDelay},Ct.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},Ct.seek=function(e,t){return this.totalTime(j(this,e),l(t))},Ct.restart=function(e,t){return this.play().totalTime(e?-this._delay:0,l(t))},Ct.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},Ct.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},Ct.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},Ct.resume=function(){return this.paused(!1)},Ct.reversed=function(e){return arguments.length?(!!e!==this.reversed()&&this.timeScale(-this._rts||(e?-Ue:0)),this):this._rts<0},Ct.invalidate=function(){return this._initted=0,this._zTime=-Ue,this},Ct.isActive=function(e){var t,n=this.parent||this._dp,r=this._start;return!(n&&!(this._ts&&(this._initted||!e)&&n.isActive(e)&&(t=n.rawTime(!0))>=r&&t<this.endTime(!0)-Ue))},Ct.eventCallback=function(e,t,n){var r=this.vars;return 1<arguments.length?(t?(r[e]=t,n&&(r[e+"Params"]=n),"onUpdate"===e&&(this._onUpdate=t)):delete r[e],this):r[e]},Ct.then=function(e){var t=this;return new Promise((function(n){function r(){var e=t.then;t.then=null,i(a)&&(a=a(t))&&(a.then||a===t)&&(t.then=e),n(a),t.then=e}var a=i(e)?e:S;t._initted&&1===t.totalProgress()&&0<=t._ts||!t._tTime&&t._ts<0?r():t._prom=r}))},Ct.kill=function(){te(this)},Rt);function Rt(e,t){var n=e.parent||he;this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,G(this,+e.duration,1),this.data=e.data,xe||xt.wake(),n&&k(n,this,t||0===t?t:n._time,1),e.reversed&&this.reverse(),e.paused&&this.paused(!0)}A(Pt.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Ue,_prom:0,_ps:!1,_rts:1});var It=function(e){function o(t,r){var i;return void 0===t&&(t={}),(i=e.call(this,t,r)||this).labels={},i.smoothChildTiming=!!t.smoothChildTiming,i.autoRemoveChildren=!!t.autoRemoveChildren,i._sort=l(t.sortChildren),i.parent&&B(i.parent,n(i)),i}t(o,e);var s=o.prototype;return s.to=function(e,t,n,r){return new Ft(e,w(arguments,0,this),j(this,a(t)?r:n)),this},s.from=function(e,t,n,r){return new Ft(e,w(arguments,1,this),j(this,a(t)?r:n)),this},s.fromTo=function(e,t,n,r,i){return new Ft(e,w(arguments,2,this),j(this,a(t)?i:r)),this},s.set=function(e,t,n){return t.duration=0,t.parent=this,R(t).repeatDelay||(t.repeat=0),t.immediateRender=!!t.immediateRender,new Ft(e,t,j(this,n),1),this},s.call=function(e,t,n){return k(this,Ft.delayedCall(0,e,t),j(this,n))},s.staggerTo=function(e,t,n,r,i,a,o){return n.duration=t,n.stagger=n.stagger||r,n.onComplete=a,n.onCompleteParams=o,n.parent=this,new Ft(e,n,j(this,i)),this},s.staggerFrom=function(e,t,n,r,i,a,o){return n.runBackwards=1,R(n).immediateRender=l(n.immediateRender),this.staggerTo(e,t,n,r,i,a,o)},s.staggerFromTo=function(e,t,n,r,i,a,o,s){return r.startAt=n,R(r).immediateRender=l(r.immediateRender),this.staggerTo(e,t,r,i,a,o,s)},s.render=function(e,t,n){var r,i,a,o,s,l,u,c,h,d,p,f,m=this._time,v=this._dirty?this.totalDuration():this._tDur,g=this._dur,y=this!==he&&v-Ue<e&&0<=e?v:e<Ue?0:e,x=this._zTime<0!=e<0&&(this._initted||!g);if(y!==this._tTime||n||x){if(m!==this._time&&g&&(y+=this._time-m,e+=this._time-m),r=y,h=this._start,l=!(c=this._ts),x&&(g||(m=this._zTime),!e&&t||(this._zTime=e)),this._repeat&&(p=this._yoyo,(g<(r=b(y%(s=g+this._rDelay)))||v===y)&&(r=g),(o=~~(y/s))&&o===y/s&&(r=g,o--),p&&1&o&&(r=g-r,f=1),o!==(d=lt(this._tTime,s))&&!this._lock)){var _=p&&1&d,w=_===(p&&1&o);if(o<d&&(_=!_),m=_?0:g,this._lock=1,this.render(m,t,!g)._lock=0,!t&&this.parent&&ft(this,"onRepeat"),this.vars.repeatRefresh&&!f&&(this.invalidate()._lock=1),m!==this._time||l!=!this._ts)return this;if(w&&(this._lock=2,m=_?g+1e-4:-1e-4,this.render(m,!0),this.vars.repeatRefresh&&!f&&this.invalidate()),this._lock=0,!this._ts&&!l)return this}if(this._hasPause&&!this._forcing&&this._lock<2&&(u=function(e,t,n){var r;if(t<n)for(r=e._first;r&&r._start<=n;){if(!r._dur&&"isPause"===r.data&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=n;){if(!r._dur&&"isPause"===r.data&&r._start<t)return r;r=r._prev}}(this,b(m),b(r)))&&(y-=r-(r=u._start)),this._tTime=y,this._time=r,this._act=!c,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=e),m||!r||t||ft(this,"onStart"),m<=r&&0<=e)for(i=this._first;i;){if(a=i._next,(i._act||r>=i._start)&&i._ts&&u!==i){if(i.parent!==this)return this.render(e,t,n);if(i.render(0<i._ts?(r-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(r-i._start)*i._ts,t,n),r!==this._time||!this._ts&&!l){u=0,a&&(y+=this._zTime=-Ue);break}}i=a}else{i=this._last;for(var E=e<0?e:r;i;){if(a=i._prev,(i._act||E<=i._end)&&i._ts&&u!==i){if(i.parent!==this)return this.render(e,t,n);if(i.render(0<i._ts?(E-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(E-i._start)*i._ts,t,n),r!==this._time||!this._ts&&!l){u=0,a&&(y+=this._zTime=E?-Ue:Ue);break}}i=a}}if(u&&!t&&(this.pause(),u.render(m<=r?0:-Ue)._zTime=m<=r?1:-1,this._ts))return this._start=h,U(this),this.render(e,t,n);this._onUpdate&&!t&&ft(this,"onUpdate",!0),(y===v&&v>=this.totalDuration()||!y&&this._ts<0)&&(h!==this._start&&Math.abs(c)===Math.abs(this._ts)||this._lock||(!e&&g||!(e&&0<this._ts||!y&&this._ts<0)||D(this,1),t||e<0&&!m||(ft(this,y===v?"onComplete":"onReverseComplete",!0),this._prom&&this._prom())))}return this},s.add=function(e,t){var n=this;if(a(t)||(t=j(this,t)),!(e instanceof Pt)){if(Ve(e))return e.forEach((function(e){return n.add(e,t)})),O(this);if(r(e))return this.addLabel(e,t);if(!i(e))return this;e=Ft.delayedCall(0,e)}return this!==e?k(this,e,t):this},s.getChildren=function(e,t,n,r){void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===n&&(n=!0),void 0===r&&(r=-ze);for(var i=[],a=this._first;a;)a._start>=r&&(a instanceof Ft?t&&i.push(a):(n&&i.push(a),e&&i.push.apply(i,a.getChildren(!0,t,n)))),a=a._next;return i},s.getById=function(e){for(var t=this.getChildren(1,1,1),n=t.length;n--;)if(t[n].vars.id===e)return t[n]},s.remove=function(e){return r(e)?this.removeLabel(e):i(e)?this.killTweensOf(e):(I(this,e),e===this._recent&&(this._recent=this._last),O(this))},s.totalTime=function(t,n){return arguments.length?(this._forcing=1,this.parent||this._dp||!this._ts||(this._start=b(xt.time-(0<this._ts?t/this._ts:(this.totalDuration()-t)/-this._ts))),e.prototype.totalTime.call(this,t,n),this._forcing=0,this):this._tTime},s.addLabel=function(e,t){return this.labels[e]=j(this,t),this},s.removeLabel=function(e){return delete this.labels[e],this},s.addPause=function(e,t,n){var r=Ft.delayedCall(0,t||m,n);return r.data="isPause",this._hasPause=1,k(this,r,j(this,e))},s.removePause=function(e){var t=this._first;for(e=j(this,e);t;)t._start===e&&"isPause"===t.data&&D(t),t=t._next},s.killTweensOf=function(e,t,n){for(var r=this.getTweensOf(e,n),i=r.length;i--;)Ot!==r[i]&&r[i].kill(e,t);return this},s.getTweensOf=function(e,t){for(var n,r=[],i=dt(e),a=this._first;a;)a instanceof Ft?!_(a._targets,i)||t&&!a.isActive("started"===t)||r.push(a):(n=a.getTweensOf(i,t)).length&&r.push.apply(r,n),a=a._next;return r},s.tweenTo=function(e,t){t=t||{};var n=this,r=j(n,e),i=t.startAt,a=t.onStart,o=t.onStartParams,s=Ft.to(n,A(t,{ease:"none",lazy:!1,time:r,duration:t.duration||Math.abs((r-(i&&"time"in i?i.time:n._time))/n.timeScale())||Ue,onStart:function(){n.pause();var e=t.duration||Math.abs((r-n._time)/n.timeScale());s._dur!==e&&G(s,e).render(s._time,!0,!0),a&&a.apply(s,o||[])}}));return s},s.tweenFromTo=function(e,t,n){return this.tweenTo(t,A({startAt:{time:j(this,e)}},n))},s.recent=function(){return this._recent},s.nextLabel=function(e){return void 0===e&&(e=this._time),ee(this,j(this,e))},s.previousLabel=function(e){return void 0===e&&(e=this._time),ee(this,j(this,e),1)},s.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.previousLabel(this._time+Ue)},s.shiftChildren=function(e,t,n){void 0===n&&(n=0);for(var r,i=this._first,a=this.labels;i;)i._start>=n&&(i._start+=e),i=i._next;if(t)for(r in a)a[r]>=n&&(a[r]+=e);return O(this)},s.invalidate=function(){var t=this._first;for(this._lock=0;t;)t.invalidate(),t=t._next;return e.prototype.invalidate.call(this)},s.clear=function(e){void 0===e&&(e=!0);for(var t,n=this._first;n;)t=n._next,this.remove(n),n=t;return this._time=this._tTime=0,e&&(this.labels={}),O(this)},s.totalDuration=function(e){var t,n,r,i,a=0,o=this,s=o._last,l=ze;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-e:e));if(o._dirty){for(i=o.parent;s;)t=s._prev,s._dirty&&s.totalDuration(),l<(r=s._start)&&o._sort&&s._ts&&!o._lock?(o._lock=1,k(o,s,r-s._delay,1)._lock=0):l=r,r<0&&s._ts&&(a-=r,(!i&&!o._dp||i&&i.smoothChildTiming)&&(o._start+=r/o._ts,o._time-=r,o._tTime-=r),o.shiftChildren(-r,!1,-1e20),l=0),a<(n=U(s))&&s._ts&&(a=n),s=t;G(o,o===he&&o._time>a?o._time:Math.min(ze,a),1),o._dirty=0}return o._tDur},o.updateRoot=function(e){if(he._ts&&(T(he,z(e,he)),ge=xt.frame),xt.frame>=it){it+=Oe.autoSleep||120;var t=he._first;if((!t||!t._ts)&&Oe.autoSleep&&xt._listeners.length<2){for(;t&&!t._ts;)t=t._next;t||xt.sleep()}}},o}(Pt);function Dt(e,t,n,a,o,l){var u,c,h,d;if(nt[e]&&!1!==(u=new nt[e]).init(o,u.rawVars?t[e]:function(e,t,n,a,o){if(i(e)&&(e=Ut(e,o,t,n,a)),!s(e)||e.style&&e.nodeType||Ve(e))return r(e)?Ut(e,o,t,n,a):e;var l,u={};for(l in e)u[l]=Ut(e[l],o,t,n,a);return u}(t[e],a,o,l,n),n,a,l)&&(n._pt=c=new en(n._pt,o,e,0,1,u.render,u,0,u.priority),n!==ye))for(h=n._ptLookup[n._targets.indexOf(o)],d=u._props.length;d--;)h[u._props[d]]=c;return u}A(It.prototype,{_lock:0,_hasPause:0,_forcing:0});var Ot,Nt=function(e,t,n,a,o,s,l,u,c){i(a)&&(a=a(o||0,e,s));var h,p=e[t],f="get"!==n?n:i(p)?c?e[t.indexOf("set")||!i(e["get"+t.substr(3)])?t:"get"+t.substr(3)](c):e[t]():p,m=i(p)?c?Wt:Vt:jt;if(r(a)&&(~a.indexOf("random(")&&(a=K(a)),"="===a.charAt(1)&&(a=parseFloat(f)+parseFloat(a.substr(2))*("-"===a.charAt(0)?-1:1)+(W(f)||0))),f!==a)return isNaN(f+a)?(p||t in e||d(t,a),function(e,t,n,r,i,a,o){var s,l,u,c,h,d,p,f,m=new en(this._pt,e,t,0,1,$t,null,i),v=0,g=0;for(m.b=n,m.e=r,n+="",(p=~(r+="").indexOf("random("))&&(r=K(r)),a&&(a(f=[n,r],e,t),n=f[0],r=f[1]),l=n.match(Ye)||[];s=Ye.exec(r);)c=s[0],h=r.substring(v,s.index),u?u=(u+1)%5:"rgba("===h.substr(-5)&&(u=1),c!==l[g++]&&(d=parseFloat(l[g-1])||0,m._pt={_next:m._pt,p:h||1===g?h:",",s:d,c:"="===c.charAt(1)?parseFloat(c.substr(2))*("-"===c.charAt(0)?-1:1):parseFloat(c)-d,m:u&&u<4?Math.round:0},v=Ye.lastIndex);return m.c=v<r.length?r.substring(v,r.length):"",m.fp=o,(Ze.test(r)||p)&&(m.e=0),this._pt=m}.call(this,e,t,f,a,m,u||Oe.stringFilter,c)):(h=new en(this._pt,e,t,+f||0,a-(f||0),"boolean"==typeof p?Yt:qt,0,m),c&&(h.fp=c),l&&h.modifier(l,this,e),this._pt=h)},zt=function e(t,n){var r,i,a,o,s,u,c,h,d,p,f,m,y=t.vars,x=y.ease,b=y.startAt,_=y.immediateRender,w=y.lazy,T=y.onUpdate,M=y.onUpdateParams,S=y.callbackScope,C=y.runBackwards,L=y.yoyoEase,R=y.keyframes,I=y.autoRevert,O=t._dur,N=t._startAt,z=t._targets,U=t.parent,B=U&&"nested"===U.data?U.parent._targets:z,k="auto"===t._overwrite,F=t.timeline;if(!F||R&&x||(x="none"),t._ease=Mt(x,Ne.ease),t._yEase=L?Tt(Mt(!0===L?x:L,Ne.ease)):0,L&&t._yoyo&&!t._repeat&&(L=t._yEase,t._yEase=t._ease,t._ease=L),!F){if(N&&N.render(-1,!0).kill(),b){if(D(t._startAt=Ft.set(z,A({data:"isStart",overwrite:!1,parent:U,immediateRender:!0,lazy:l(w),startAt:null,delay:0,onUpdate:T,onUpdateParams:M,callbackScope:S,stagger:0},b))),_)if(0<n)I||(t._startAt=0);else if(O)return}else if(C&&O)if(N)I||(t._startAt=0);else if(n&&(_=!1),D(t._startAt=Ft.set(z,st(P(y,Ke),{overwrite:!1,data:"isFromStart",lazy:_&&l(w),immediateRender:_,stagger:0,parent:U}))),_){if(!n)return}else e(t._startAt,Ue);for(r=P(y,Ke),m=(h=z[t._pt=0]?g(z[0]).harness:0)&&y[h.prop],w=O&&l(w)||w&&!O,i=0;i<z.length;i++){if(c=(s=z[i])._gsap||v(z)[i]._gsap,t._ptLookup[i]=p={},tt[c.id]&&E(),f=B===z?i:B.indexOf(s),h&&!1!==(d=new h).init(s,m||r,t,f,B)&&(t._pt=o=new en(t._pt,s,d.name,0,1,d.render,d,0,d.priority),d._props.forEach((function(e){p[e]=o})),d.priority&&(u=1)),!h||m)for(a in r)nt[a]&&(d=Dt(a,r,t,f,s,B))?d.priority&&(u=1):p[a]=o=Nt.call(t,s,a,"get",r[a],f,B,0,y.stringFilter);t._op&&t._op[i]&&t.kill(s,t._op[i]),k&&t._pt&&(Ot=t,he.killTweensOf(s,p,"started"),Ot=0),t._pt&&w&&(tt[c.id]=1)}u&&Kt(t),t._onInit&&t._onInit(t)}t._from=!F&&!!y.runBackwards,t._onUpdate=T,t._initted=1},Ut=function(e,t,n,a,o){return i(e)?e.call(t,n,a,o):r(e)&&~e.indexOf("random(")?K(e):e},Bt=ot+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",kt=(Bt+",id,stagger,delay,duration,paused").split(","),Ft=function(e){function i(t,r,i,o){var u;"number"==typeof r&&(i.duration=r,r=i,i=null);var h,d,f,g,y,x,b,_,w=(u=e.call(this,o?r:R(r),i)||this).vars,E=w.duration,T=w.delay,M=w.immediateRender,S=w.stagger,C=w.overwrite,L=w.keyframes,P=w.defaults,I=u.parent,D=(Ve(t)?a(t[0]):"length"in r)?[t]:dt(t);if(u._targets=D.length?v(D):p("GSAP target "+t+" not found. https://greensock.com",!Oe.nullTargetWarn)||[],u._ptLookup=[],u._overwrite=C,L||S||c(E)||c(T)){if(r=u.vars,(h=u.timeline=new It({data:"nested",defaults:P||{}})).kill(),h.parent=n(u),L)A(h.vars.defaults,{ease:"none"}),L.forEach((function(e){return h.to(D,e,">")}));else{if(g=D.length,b=S?Y(S):m,s(S))for(y in S)~Bt.indexOf(y)&&((_=_||{})[y]=S[y]);for(d=0;d<g;d++){for(y in f={},r)kt.indexOf(y)<0&&(f[y]=r[y]);f.stagger=0,_&&st(f,_),r.yoyoEase&&!r.repeat&&(f.yoyoEase=r.yoyoEase),x=D[d],f.duration=+Ut(E,n(u),d,x,D),f.delay=(+Ut(T,n(u),d,x,D)||0)-u._delay,!S&&1===g&&f.delay&&(u._delay=T=f.delay,u._start+=T,f.delay=0),h.to(x,f,b(d,x,D))}E=T=0}E||u.duration(E=h.duration())}else u.timeline=0;return!0===C&&(Ot=n(u),he.killTweensOf(D),Ot=0),I&&B(I,n(u)),(M||!E&&!L&&u._start===I._time&&l(M)&&function e(t){return!t||t._ts&&e(t.parent)}(n(u))&&"nested"!==I.data)&&(u._tTime=-Ue,u.render(Math.max(0,-T))),u}t(i,e);var o=i.prototype;return o.render=function(e,t,n){var r,i,a,o,s,l,u,c,h,d=this._time,p=this._tDur,f=this._dur,m=p-Ue<e&&0<=e?p:e<Ue?0:e;if(f){if(m!==this._tTime||!e||n||this._startAt&&this._zTime<0!=e<0){if(r=m,c=this.timeline,this._repeat){if((f<(r=b(m%(o=f+this._rDelay)))||p===m)&&(r=f),(a=~~(m/o))&&a===m/o&&(r=f,a--),(l=this._yoyo&&1&a)&&(h=this._yEase,r=f-r),s=lt(this._tTime,o),r===d&&!n&&this._initted)return this;a!==s&&(!this.vars.repeatRefresh||l||this._lock||(this._lock=n=1,this.render(o*a,!0).invalidate()._lock=0))}if(!this._initted){if(F(this,r,n,t))return this._tTime=0,this;if(f!==this._dur)return this.render(e,t,n)}for(this._tTime=m,this._time=r,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=u=(h||this._ease)(r/f),this._from&&(this.ratio=u=1-u),d||!r||t||ft(this,"onStart"),i=this._pt;i;)i.r(u,i.d),i=i._next;c&&c.render(e<0?e:!r&&l?-Ue:c._dur*u,t,n)||this._startAt&&(this._zTime=e),this._onUpdate&&!t&&(e<0&&this._startAt&&this._startAt.render(e,!0,n),ft(this,"onUpdate")),this._repeat&&a!==s&&this.vars.onRepeat&&!t&&this.parent&&ft(this,"onRepeat"),m!==this._tDur&&m||this._tTime!==m||(e<0&&this._startAt&&!this._onUpdate&&this._startAt.render(e,!0,n),!e&&f||!(e&&0<this._ts||!m&&this._ts<0)||D(this,1),t||e<0&&!d||m<p&&0<this.timeScale()||(ft(this,m===p?"onComplete":"onReverseComplete",!0),this._prom&&this._prom()))}}else!function(e,t,n,r){var i,a=e._zTime<0?0:1,o=t<0?0:1,s=e._rDelay,l=0;if(s&&e._repeat&&(l=ct(0,e._tDur,t),lt(l,s)!==lt(e._tTime,s)&&(a=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),(e._initted||!F(e,t,r,n))&&(o!==a||r||e._zTime===Ue||!t&&e._zTime)){for(e._zTime=t||(n?Ue:0),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,n||ft(e,"onStart"),i=e._pt;i;)i.r(o,i.d),i=i._next;!o&&e._startAt&&!e._onUpdate&&e._start&&e._startAt.render(t,!0,r),e._onUpdate&&(n||ft(e,"onUpdate")),l&&e._repeat&&!n&&e.parent&&ft(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(e.ratio&&D(e,1),n||(ft(e,e.ratio?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}}(this,e,t,n);return this},o.targets=function(){return this._targets},o.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._act=this._lazy=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),e.prototype.invalidate.call(this)},o.kill=function(e,t){if(void 0===t&&(t="all"),!(e||t&&"all"!==t)&&(this._lazy=0,this.parent))return te(this);if(this.timeline)return this.timeline.killTweensOf(e,t,Ot&&!0!==Ot.vars.overwrite),this;var n,i,a,o,s,l,u,c=this._targets,h=e?dt(e):c,d=this._ptLookup,p=this._pt;if((!t||"all"===t)&&function(e,t){for(var n=e.length,r=n===t.length;r&&n--&&e[n]===t[n];);return n<0}(c,h))return te(this);for(n=this._op=this._op||[],"all"!==t&&(r(t)&&(s={},x(t,(function(e){return s[e]=1})),t=s),t=function(e,t){var n,r,i,a,o=e[0]?g(e[0]).harness:0,s=o&&o.aliases;if(!s)return t;for(r in n=st({},t),s)if(r in n)for(i=(a=s[r].split(",")).length;i--;)n[a[i]]=n[r];return n}(c,t)),u=c.length;u--;)if(~h.indexOf(c[u]))for(s in i=d[u],"all"===t?(n[u]=t,o=i,a={}):(a=n[u]=n[u]||{},o=t),o)(l=i&&i[s])&&("kill"in l.d&&!0!==l.d.kill(s)||I(this,l,"_pt"),delete i[s]),"all"!==a&&(a[s]=1);return this._initted&&!this._pt&&p&&te(this),this},i.to=function(e,t,n){return new i(e,t,n)},i.from=function(e,t){return new i(e,w(arguments,1))},i.delayedCall=function(e,t,n,r){return new i(t,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:e,onComplete:t,onReverseComplete:t,onCompleteParams:n,onReverseCompleteParams:n,callbackScope:r})},i.fromTo=function(e,t,n){return new i(e,w(arguments,2))},i.set=function(e,t){return t.duration=0,t.repeatDelay||(t.repeat=0),new i(e,t)},i.killTweensOf=function(e,t,n){return he.killTweensOf(e,t,n)},i}(Pt);function Gt(e,t,n){return e.setAttribute(t,n)}function Ht(e,t,n,r){r.mSet(e,t,r.m.call(r.tween,n,r.mt),r)}A(Ft.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),x("staggerTo,staggerFrom,staggerFromTo",(function(e){Ft[e]=function(){var t=new It,n=ht.call(arguments,0);return n.splice("staggerFromTo"===e?5:4,0,0),t[e].apply(t,n)}}));var jt=function(e,t,n){return e[t]=n},Vt=function(e,t,n){return e[t](n)},Wt=function(e,t,n,r){return e[t](r.fp,n)},Xt=function(e,t){return i(e[t])?Vt:o(e[t])&&e.setAttribute?Gt:jt},qt=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4,t)},Yt=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},$t=function(e,t){var n=t._pt,r="";if(!e&&t.b)r=t.b;else if(1===e&&t.e)r=t.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*e):Math.round(1e4*(n.s+n.c*e))/1e4)+r,n=n._next;r+=t.c}t.set(t.t,t.p,r,t)},Zt=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},Jt=function(e,t,n,r){for(var i,a=this._pt;a;)i=a._next,a.p===r&&a.modifier(e,t,n),a=i},Qt=function(e){for(var t,n,r=this._pt;r;)n=r._next,r.p===e&&!r.op||r.op===e?I(this,r,"_pt"):r.dep||(t=1),r=n;return!t},Kt=function(e){for(var t,n,r,i,a=e._pt;a;){for(t=a._next,n=r;n&&n.pr>a.pr;)n=n._next;(a._prev=n?n._prev:i)?a._prev._next=a:r=a,(a._next=n)?n._prev=a:i=a,a=t}e._pt=r},en=(tn.prototype.modifier=function(e,t,n){this.mSet=this.mSet||this.set,this.set=Ht,this.m=e,this.mt=n,this.tween=t},tn);function tn(e,t,n,r,i,a,o,s,l){this.t=t,this.s=r,this.c=i,this.p=n,this.r=a||qt,this.d=o||this,this.set=s||jt,this.pr=l||0,(this._next=e)&&(e._prev=this)}x(ot+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert",(function(e){return Ke[e]=1})),Qe.TweenMax=Qe.TweenLite=Ft,Qe.TimelineLite=Qe.TimelineMax=It,he=new It({sortChildren:!1,defaults:Ne,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),Oe.stringFilter=oe;var nn={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach((function(e){return function(e){var t=(e=!e.name&&e.default||e).name,n=i(e),r=t&&!n&&e.init?function(){this._props=[]}:e,a={init:m,render:Zt,add:Nt,kill:Qt,modifier:Jt,rawVars:0},o={targetTest:0,get:0,getSetter:Xt,aliases:{},register:0};if(bt(),e!==r){if(nt[t])return;A(r,A(P(e,a),o)),st(r.prototype,st(a,P(e,o))),nt[r.prop=t]=r,e.targetTest&&(at.push(r),Ke[t]=1),t=("css"===t?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}f(t,r),e.register&&e.register(on,r,en)}(e)}))},timeline:function(e){return new It(e)},getTweensOf:function(e,t){return he.getTweensOf(e,t)},getProperty:function(e,t,n,i){r(e)&&(e=dt(e)[0]);var a=g(e||{}).get,o=n?S:M;return"native"===n&&(n=""),e?t?o((nt[t]&&nt[t].get||a)(e,t,n,i)):function(t,n,r){return o((nt[t]&&nt[t].get||a)(e,t,n,r))}:e},quickSetter:function(e,t,n){if(1<(e=dt(e)).length){var r=e.map((function(e){return on.quickSetter(e,t,n)})),i=r.length;return function(e){for(var t=i;t--;)r[t](e)}}e=e[0]||{};var a=nt[t],o=g(e),s=a?function(t){var r=new a;ye._pt=0,r.init(e,n?t+n:t,ye,0,[e]),r.render(1,r),ye._pt&&Zt(1,ye)}:o.set(e,t);return a?s:function(r){return s(e,t,n?r+n:r,o,1)}},isTweening:function(e){return 0<he.getTweensOf(e,!0).length},defaults:function(e){return e&&e.ease&&(e.ease=Mt(e.ease,Ne.ease)),L(Ne,e||{})},config:function(e){return L(Oe,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,r=e.plugins,i=e.defaults,a=e.extendTimeline;(r||"").split(",").forEach((function(e){return e&&!nt[e]&&!Qe[e]&&p(t+" effect requires "+e+" plugin.")})),rt[t]=function(e,t,r){return n(dt(e),A(t||{},i),r)},a&&(It.prototype[t]=function(e,n,r){return this.add(rt[t](e,s(n)?n:(r=n)&&{},this),r)})},registerEase:function(e,t){_t[e]=Mt(t)},parseEase:function(e,t){return arguments.length?Mt(e,t):_t},getById:function(e){return he.getById(e)},exportRoot:function(e,t){void 0===e&&(e={});var n,r,i=new It(e);for(i.smoothChildTiming=l(e.smoothChildTiming),he.remove(i),i._dp=0,i._time=i._tTime=he._time,n=he._first;n;)r=n._next,!t&&!n._dur&&n instanceof Ft&&n.vars.onComplete===n._targets[0]||k(i,n,n._start-n._delay),n=r;return k(he,i,0),i},utils:{wrap:function e(t,n,r){var i=n-t;return Ve(t)?Q(t,e(0,t.length),n):V(r,(function(e){return(i+(e-t)%i)%i+t}))},wrapYoyo:function e(t,n,r){var i=n-t,a=2*i;return Ve(t)?Q(t,e(0,t.length-1),n):V(r,(function(e){return t+(i<(e=(a+(e-t)%a)%a)?a-e:e)}))},distribute:Y,random:J,snap:Z,normalize:function(e,t,n){return pt(e,t,0,1,n)},getUnit:W,clamp:function(e,t,n){return V(n,(function(n){return ct(e,t,n)}))},splitColor:re,toArray:dt,mapRange:pt,pipe:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(e,t){return t(e)}),e)}},unitize:function(e,t){return function(n){return e(parseFloat(n))+(t||W(n))}},interpolate:function e(t,n,i,a){var o=isNaN(t+n)?0:function(e){return(1-e)*t+e*n};if(!o){var s,l,u,c,h,d=r(t),p={};if(!0===i&&(a=1)&&(i=null),d)t={p:t},n={p:n};else if(Ve(t)&&!Ve(n)){for(u=[],c=t.length,h=c-2,l=1;l<c;l++)u.push(e(t[l-1],t[l]));c--,o=function(e){e*=c;var t=Math.min(h,~~e);return u[t](e-t)},i=n}else a||(t=st(Ve(t)?[]:{},t));if(!u){for(s in n)Nt.call(p,t,s,"get",n[s]);o=function(e){return Zt(e,p)||(d?t.p:t)}}}return V(i,o)},shuffle:q},install:h,effects:rt,ticker:xt,updateRoot:It.updateRoot,plugins:nt,globalTimeline:he,core:{PropTween:en,globals:f,Tween:Ft,Timeline:It,Animation:Pt,getCache:g,_removeLinkedListItem:I}};function rn(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n}function an(e,t){return{name:e,rawVars:1,init:function(e,n,i){i._onInit=function(e){var i,a;if(r(n)&&(i={},x(n,(function(e){return i[e]=1})),n=i),t){for(a in i={},n)i[a]=t(n[a]);n=i}!function(e,t){var n,r,i,a=e._targets;for(n in t)for(r=a.length;r--;)(i=(i=e._ptLookup[r][n])&&i.d)&&(i._pt&&(i=rn(i,n)),i&&i.modifier&&i.modifier(t[n],e,a[r],n))}(e,n)}}}}x("to,from,fromTo,delayedCall,set,killTweensOf",(function(e){return nn[e]=Ft[e]})),xt.add(It.updateRoot),ye=nn.to({},{duration:0});var on=nn.registerPlugin({name:"attr",init:function(e,t,n,r,i){for(var a in t)this.add(e,"setAttribute",(e.getAttribute(a)||0)+"",t[a],r,i,0,0,a),this._props.push(a)}},{name:"endArray",init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n])}},an("roundProps",$),an("modifiers"),an("snap",Z))||nn;function sn(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)}function ln(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)}function un(e,t){return t.set(t.t,t.p,e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)}function cn(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)}function hn(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)}function dn(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)}function pn(e,t,n){return e.style[t]=n}function fn(e,t,n){return e.style.setProperty(t,n)}function mn(e,t,n){return e._gsap[t]=n}function vn(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n}function gn(e,t,n,r,i){var a=e._gsap;a.scaleX=a.scaleY=n,a.renderTransform(i,a)}function yn(e,t,n,r,i){var a=e._gsap;a[t]=n,a.renderTransform(i,a)}function xn(e,t){var n=Gn.createElementNS?Gn.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Gn.createElement(e);return n.style?n:Gn.createElement(e)}function bn(e,t,n){var r=getComputedStyle(e);return r[t]||r.getPropertyValue(t.replace(vr,"-$1").toLowerCase())||r.getPropertyValue(t)||!n&&bn(e,Er(t)||t,1)||""}function _n(){"undefined"==typeof window||(Fn=window,Gn=Fn.document,Hn=Gn.documentElement,Vn=xn("div")||{style:{}},Wn=xn("div"),br=Er(br),_r=Er(_r),Vn.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",qn=!!Er("perspective"),jn=1)}function wn(e){var t,n=xn("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,i=this.nextSibling,a=this.style.cssText;if(Hn.appendChild(n),n.appendChild(this),this.style.display="block",e)try{t=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=wn}catch(e){}else this._gsapBBox&&(t=this._gsapBBox());return r&&(i?r.insertBefore(this,i):r.appendChild(this)),Hn.removeChild(n),this.style.cssText=a,t}function En(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])}function Tn(e){var t;try{t=e.getBBox()}catch(n){t=wn.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===wn||(t=wn.call(e,!0)),!t||t.width||t.x||t.y?t:{x:+En(e,["x","cx","x1"])||0,y:+En(e,["y","cy","y1"])||0,width:0,height:0}}function Mn(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!Tn(e))}function Sn(e,t){if(t){var n=e.style;t in dr&&(t=br),n.removeProperty?("ms"!==t.substr(0,2)&&"webkit"!==t.substr(0,6)||(t="-"+t),n.removeProperty(t.replace(vr,"-$1").toLowerCase())):n.removeAttribute(t)}}function An(e,t,n,r,i,a){var o=new en(e._pt,t,n,0,1,a?dn:hn);return(e._pt=o).b=r,o.e=i,e._props.push(n),o}function Cn(e,t,n,r){var i,a,o,s,l=parseFloat(n)||0,u=(n+"").trim().substr((l+"").length)||"px",c=Vn.style,h=gr.test(t),d="svg"===e.tagName.toLowerCase(),p=(d?"client":"offset")+(h?"Width":"Height"),f="px"===r,m="%"===r;return r===u||!l||Tr[r]||Tr[u]?l:("px"===u||f||(l=Cn(e,t,n,"px")),s=e.getCTM&&Mn(e),m&&(dr[t]||~t.indexOf("adius"))?b(l/(s?e.getBBox()[h?"width":"height"]:e[p])*100):(c[h?"width":"height"]=100+(f?u:r),a=~t.indexOf("adius")||"em"===r&&e.appendChild&&!d?e:e.parentNode,s&&(a=(e.ownerSVGElement||{}).parentNode),a&&a!==Gn&&a.appendChild||(a=Gn.body),(o=a._gsap)&&m&&o.width&&h&&o.time===xt.time?b(l/o.width*100):(!m&&"%"!==u||(c.position=bn(e,"position")),a===e&&(c.position="static"),a.appendChild(Vn),i=Vn[p],a.removeChild(Vn),c.position="absolute",h&&m&&((o=g(a)).time=xt.time,o.width=a[p]),b(f?i*l/100:i&&l?100/i*l:0))))}function Ln(e,t,n,r){var i;return jn||_n(),t in xr&&"transform"!==t&&~(t=xr[t]).indexOf(",")&&(t=t.split(",")[0]),dr[t]&&"transform"!==t?(i=Lr(e,r),i="transformOrigin"!==t?i[t]:Pr(bn(e,_r))+" "+i.zOrigin+"px"):(i=e.style[t])&&"auto"!==i&&!r&&!~(i+"").indexOf("calc(")||(i=Sr[t]&&Sr[t](e,t,n)||bn(e,t)||y(e,t)||("opacity"===t?1:0)),n&&!~(i+"").indexOf(" ")?Cn(e,t,i,n)+n:i}function Pn(e,t,n,r){if(!n||"none"===n){var i=Er(t,e,1),a=i&&bn(e,i,1);a&&a!==n&&(t=i,n=a)}var o,s,l,u,c,h,d,p,f,m,v,g,y=new en(this._pt,e.style,t,0,1,$t),x=0,b=0;if(y.b=n,y.e=r,n+="","auto"==(r+="")&&(e.style[t]=r,r=bn(e,t)||r,e.style[t]=n),oe(o=[n,r]),r=o[1],l=(n=o[0]).match(qe)||[],(r.match(qe)||[]).length){for(;s=qe.exec(r);)d=s[0],f=r.substring(x,s.index),c?c=(c+1)%5:"rgba("!==f.substr(-5)&&"hsla("!==f.substr(-5)||(c=1),d!==(h=l[b++]||"")&&(u=parseFloat(h)||0,v=h.substr((u+"").length),(g="="===d.charAt(1)?+(d.charAt(0)+"1"):0)&&(d=d.substr(2)),p=parseFloat(d),m=d.substr((p+"").length),x=qe.lastIndex-m.length,m||(m=m||Oe.units[t]||v,x===r.length&&(r+=m,y.e+=m)),v!==m&&(u=Cn(e,t,h,m)||0),y._pt={_next:y._pt,p:f||1===b?f:",",s:u,c:g?g*p:p-u,m:c&&c<4?Math.round:0});y.c=x<r.length?r.substring(x,r.length):""}else y.r="display"===t&&"none"===r?dn:hn;return Ze.test(r)&&(y.e=0),this._pt=y}function Rn(e){var t=e.split(" "),n=t[0],r=t[1]||"50%";return"top"!==n&&"bottom"!==n&&"left"!==r&&"right"!==r||(e=n,n=r,r=e),t[0]=Mr[n]||n,t[1]=Mr[r]||r,t.join(" ")}function In(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n,r,i,a=t.t,o=a.style,s=t.u,l=a._gsap;if("all"===s||!0===s)o.cssText="",r=1;else for(i=(s=s.split(",")).length;-1<--i;)n=s[i],dr[n]&&(r=1,n="transformOrigin"===n?_r:br),Sn(a,n);r&&(Sn(a,br),l&&(l.svg&&a.removeAttribute("transform"),Lr(a,1),l.uncache=1))}}function Dn(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e}function On(e){var t=bn(e,br);return Dn(t)?Ar:t.substr(7).match(Xe).map(b)}function Nn(e,t){var n,r,i,a,o=e._gsap||g(e),s=e.style,l=On(e);return o.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(l=[(i=e.transform.baseVal.consolidate().matrix).a,i.b,i.c,i.d,i.e,i.f]).join(",")?Ar:l:(l!==Ar||e.offsetParent||e===Hn||o.svg||(i=s.display,s.display="block",(n=e.parentNode)&&e.offsetParent||(a=1,r=e.nextSibling,Hn.appendChild(e)),l=On(e),i?s.display=i:Sn(e,"display"),a&&(r?n.insertBefore(e,r):n?n.appendChild(e):Hn.removeChild(e))),t&&6<l.length?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)}function zn(e,t,n,r,i,a){var o,s,l,u=e._gsap,c=i||Nn(e,!0),h=u.xOrigin||0,d=u.yOrigin||0,p=u.xOffset||0,f=u.yOffset||0,m=c[0],v=c[1],g=c[2],y=c[3],x=c[4],b=c[5],_=t.split(" "),w=parseFloat(_[0])||0,E=parseFloat(_[1])||0;n?c!==Ar&&(s=m*y-v*g)&&(l=w*(-v/s)+E*(m/s)-(m*b-v*x)/s,w=w*(y/s)+E*(-g/s)+(g*b-y*x)/s,E=l):(w=(o=Tn(e)).x+(~_[0].indexOf("%")?w/100*o.width:w),E=o.y+(~(_[1]||_[0]).indexOf("%")?E/100*o.height:E)),r||!1!==r&&u.smooth?(x=w-h,b=E-d,u.xOffset=p+(x*m+b*g)-x,u.yOffset=f+(x*v+b*y)-b):u.xOffset=u.yOffset=0,u.xOrigin=w,u.yOrigin=E,u.smooth=!!r,u.origin=t,u.originIsAbsolute=!!n,e.style[_r]="0px 0px",a&&(An(a,u,"xOrigin",h,w),An(a,u,"yOrigin",d,E),An(a,u,"xOffset",p,u.xOffset),An(a,u,"yOffset",f,u.yOffset)),e.setAttribute("data-svg-origin",w+" "+E)}function Un(e,t,n){var r=W(t);return b(parseFloat(t)+parseFloat(Cn(e,"x",n+"px",r)))+r}function Bn(e,t,n,i,a,o){var s,l,u=360,c=r(a),h=parseFloat(a)*(c&&~a.indexOf("rad")?pr:1),d=o?h*o:h-i,p=i+d+"deg";return c&&("short"===(s=a.split("_")[1])&&(d%=u)!=d%180&&(d+=d<0?u:-u),"cw"===s&&d<0?d=(d+36e9)%u-~~(d/u)*u:"ccw"===s&&0<d&&(d=(d-36e9)%u-~~(d/u)*u)),e._pt=l=new en(e._pt,t,n,i,d,ln),l.e=p,l.u="deg",e._props.push(n),l}function kn(e,t,n){var r,i,a,o,s,l,u,c=Wn.style,h=n._gsap;for(i in c.cssText=getComputedStyle(n).cssText+";position:absolute;display:block;",c[br]=t,Gn.body.appendChild(Wn),r=Lr(Wn,1),dr)(a=h[i])!==(o=r[i])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(i)<0&&(s=W(a)!==(u=W(o))?Cn(n,i,a,u):parseFloat(a),l=parseFloat(o),e._pt=new en(e._pt,h,i,s,l-s,sn),e._pt.u=u||0,e._props.push(i));Gn.body.removeChild(Wn)}Ft.version=It.version=on.version="3.2.6",ve=1,u()&&bt();var Fn,Gn,Hn,jn,Vn,Wn,Xn,qn,Yn=_t.Power0,$n=_t.Power1,Zn=_t.Power2,Jn=_t.Power3,Qn=_t.Power4,Kn=_t.Linear,er=_t.Quad,tr=_t.Cubic,nr=_t.Quart,rr=_t.Quint,ir=_t.Strong,ar=_t.Elastic,or=_t.Back,sr=_t.SteppedEase,lr=_t.Bounce,ur=_t.Sine,cr=_t.Expo,hr=_t.Circ,dr={},pr=180/Math.PI,fr=Math.PI/180,mr=Math.atan2,vr=/([A-Z])/g,gr=/(?:left|right|width|margin|padding|x)/i,yr=/[\s,\(]\S/,xr={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},br="transform",_r=br+"Origin",wr="O,Moz,ms,Ms,Webkit".split(","),Er=function(e,t,n){var r=(t||Vn).style,i=5;if(e in r&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);i--&&!(wr[i]+e in r););return i<0?null:(3===i?"ms":0<=i?wr[i]:"")+e},Tr={deg:1,rad:1,turn:1},Mr={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Sr={clearProps:function(e,t,n,r,i){if("isFromStart"!==i.data){var a=e._pt=new en(e._pt,t,n,0,0,In);return a.u=r,a.pr=-10,a.tween=i,e._props.push(n),1}}},Ar=[1,0,0,1,0,0],Cr={},Lr=function(e,t){var n=e._gsap||new Lt(e);if("x"in n&&!t&&!n.uncache)return n;var r,i,a,o,s,l,u,c,h,d,p,f,m,v,g,y,x,_,w,E,T,M,S,A,C,L,P,R,I,D,O,N,z=e.style,U=n.scaleX<0,B="deg",k=bn(e,_r)||"0";return r=i=a=l=u=c=h=d=p=0,o=s=1,n.svg=!(!e.getCTM||!Mn(e)),v=Nn(e,n.svg),n.svg&&(A=!n.uncache&&e.getAttribute("data-svg-origin"),zn(e,A||k,!!A||n.originIsAbsolute,!1!==n.smooth,v)),f=n.xOrigin||0,m=n.yOrigin||0,v!==Ar&&(_=v[0],w=v[1],E=v[2],T=v[3],r=M=v[4],i=S=v[5],6===v.length?(o=Math.sqrt(_*_+w*w),s=Math.sqrt(T*T+E*E),l=_||w?mr(w,_)*pr:0,(h=E||T?mr(E,T)*pr+l:0)&&(s*=Math.cos(h*fr)),n.svg&&(r-=f-(f*_+m*E),i-=m-(f*w+m*T))):(N=v[6],D=v[7],P=v[8],R=v[9],I=v[10],O=v[11],r=v[12],i=v[13],a=v[14],u=(g=mr(N,I))*pr,g&&(A=M*(y=Math.cos(-g))+P*(x=Math.sin(-g)),C=S*y+R*x,L=N*y+I*x,P=M*-x+P*y,R=S*-x+R*y,I=N*-x+I*y,O=D*-x+O*y,M=A,S=C,N=L),c=(g=mr(-E,I))*pr,g&&(y=Math.cos(-g),O=T*(x=Math.sin(-g))+O*y,_=A=_*y-P*x,w=C=w*y-R*x,E=L=E*y-I*x),l=(g=mr(w,_))*pr,g&&(A=_*(y=Math.cos(g))+w*(x=Math.sin(g)),C=M*y+S*x,w=w*y-_*x,S=S*y-M*x,_=A,M=C),u&&359.9<Math.abs(u)+Math.abs(l)&&(u=l=0,c=180-c),o=b(Math.sqrt(_*_+w*w+E*E)),s=b(Math.sqrt(S*S+N*N)),g=mr(M,S),h=2e-4<Math.abs(g)?g*pr:0,p=O?1/(O<0?-O:O):0),n.svg&&(v=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!Dn(bn(e,br)),v&&e.setAttribute("transform",v))),90<Math.abs(h)&&Math.abs(h)<270&&(U?(o*=-1,h+=l<=0?180:-180,l+=l<=0?180:-180):(s*=-1,h+=h<=0?180:-180)),n.x=((n.xPercent=r&&Math.round(e.offsetWidth/2)===Math.round(-r)?-50:0)?0:r)+"px",n.y=((n.yPercent=i&&Math.round(e.offsetHeight/2)===Math.round(-i)?-50:0)?0:i)+"px",n.z=a+"px",n.scaleX=b(o),n.scaleY=b(s),n.rotation=b(l)+B,n.rotationX=b(u)+B,n.rotationY=b(c)+B,n.skewX=h+B,n.skewY=d+B,n.transformPerspective=p+"px",(n.zOrigin=parseFloat(k.split(" ")[2])||0)&&(z[_r]=Pr(k)),n.xOffset=n.yOffset=0,n.force3D=Oe.force3D,n.renderTransform=n.svg?zr:qn?Nr:Rr,n.uncache=0,n},Pr=function(e){return(e=e.split(" "))[0]+" "+e[1]},Rr=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,Nr(e,t)},Ir="0deg",Dr="0px",Or=") ",Nr=function(e,t){var n=t||this,r=n.xPercent,i=n.yPercent,a=n.x,o=n.y,s=n.z,l=n.rotation,u=n.rotationY,c=n.rotationX,h=n.skewX,d=n.skewY,p=n.scaleX,f=n.scaleY,m=n.transformPerspective,v=n.force3D,g=n.target,y=n.zOrigin,x="",b="auto"===v&&e&&1!==e||!0===v;if(y&&(c!==Ir||u!==Ir)){var _,w=parseFloat(u)*fr,E=Math.sin(w),T=Math.cos(w);w=parseFloat(c)*fr,a=Un(g,a,E*(_=Math.cos(w))*-y),o=Un(g,o,-Math.sin(w)*-y),s=Un(g,s,T*_*-y+y)}m!==Dr&&(x+="perspective("+m+Or),(r||i)&&(x+="translate("+r+"%, "+i+"%) "),!b&&a===Dr&&o===Dr&&s===Dr||(x+=s!==Dr||b?"translate3d("+a+", "+o+", "+s+") ":"translate("+a+", "+o+Or),l!==Ir&&(x+="rotate("+l+Or),u!==Ir&&(x+="rotateY("+u+Or),c!==Ir&&(x+="rotateX("+c+Or),h===Ir&&d===Ir||(x+="skew("+h+", "+d+Or),1===p&&1===f||(x+="scale("+p+", "+f+Or),g.style[br]=x||"translate(0, 0)"},zr=function(e,t){var n,r,i,a,o,s=t||this,l=s.xPercent,u=s.yPercent,c=s.x,h=s.y,d=s.rotation,p=s.skewX,f=s.skewY,m=s.scaleX,v=s.scaleY,g=s.target,y=s.xOrigin,x=s.yOrigin,_=s.xOffset,w=s.yOffset,E=s.forceCSS,T=parseFloat(c),M=parseFloat(h);d=parseFloat(d),p=parseFloat(p),(f=parseFloat(f))&&(p+=f=parseFloat(f),d+=f),d||p?(d*=fr,p*=fr,n=Math.cos(d)*m,r=Math.sin(d)*m,i=Math.sin(d-p)*-v,a=Math.cos(d-p)*v,p&&(f*=fr,o=Math.tan(p-f),i*=o=Math.sqrt(1+o*o),a*=o,f&&(o=Math.tan(f),n*=o=Math.sqrt(1+o*o),r*=o)),n=b(n),r=b(r),i=b(i),a=b(a)):(n=m,a=v,r=i=0),(T&&!~(c+"").indexOf("px")||M&&!~(h+"").indexOf("px"))&&(T=Cn(g,"x",c,"px"),M=Cn(g,"y",h,"px")),(y||x||_||w)&&(T=b(T+y-(y*n+x*i)+_),M=b(M+x-(y*r+x*a)+w)),(l||u)&&(T=b(T+l/100*(o=g.getBBox()).width),M=b(M+u/100*o.height)),o="matrix("+n+","+r+","+i+","+a+","+T+","+M+")",g.setAttribute("transform",o),E&&(g.style[br]=o)};x("padding,margin,Width,Radius",(function(e,t){var n="Right",r="Bottom",i="Left",a=(t<3?["Top",n,r,i]:["Top"+i,"Top"+n,r+n,r+i]).map((function(n){return t<2?e+n:"border"+n+e}));Sr[1<t?"border"+e:e]=function(e,t,n,r,i){var o,s;if(arguments.length<4)return o=a.map((function(t){return Ln(e,t,n)})),5===(s=o.join(" ")).split(o[0]).length?o[0]:s;o=(r+"").split(" "),s={},a.forEach((function(e,t){return s[e]=o[t]=o[t]||o[(t-1)/2|0]})),e.init(t,s,i)}}));var Ur,Br,kr={name:"css",register:_n,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,r,i){var a,o,s,l,u,c,h,p,f,m,v,g,y,x,b,_=this._props,w=e.style;for(h in jn||_n(),t)if("autoRound"!==h&&(o=t[h],!nt[h]||!Dt(h,t,n,r,e,i)))if(u=typeof o,c=Sr[h],"function"===u&&(u=typeof(o=o.call(n,r,e,i))),"string"===u&&~o.indexOf("random(")&&(o=K(o)),c)c(this,e,h,o,n)&&(b=1);else if("--"===h.substr(0,2))this.add(w,"setProperty",getComputedStyle(e).getPropertyValue(h)+"",o+"",r,i,0,0,h);else{if(a=Ln(e,h),l=parseFloat(a),(m="string"===u&&"="===o.charAt(1)?+(o.charAt(0)+"1"):0)&&(o=o.substr(2)),s=parseFloat(o),h in xr&&("autoAlpha"===h&&(1===l&&"hidden"===Ln(e,"visibility")&&s&&(l=0),An(this,w,"visibility",l?"inherit":"hidden",s?"inherit":"hidden",!s)),"scale"!==h&&"transform"!==h&&~(h=xr[h]).indexOf(",")&&(h=h.split(",")[0])),v=h in dr)if(g||((y=e._gsap).renderTransform||Lr(e),x=!1!==t.smoothOrigin&&y.smooth,(g=this._pt=new en(this._pt,w,br,0,1,y.renderTransform,y,0,-1)).dep=1),"scale"===h)this._pt=new en(this._pt,y,"scaleY",y.scaleY,m?m*s:s-y.scaleY),_.push("scaleY",h),h+="X";else{if("transformOrigin"===h){o=Rn(o),y.svg?zn(e,o,0,x,0,this):((f=parseFloat(o.split(" ")[2])||0)!==y.zOrigin&&An(this,y,"zOrigin",y.zOrigin,f),An(this,w,h,Pr(a),Pr(o)));continue}if("svgOrigin"===h){zn(e,o,1,x,0,this);continue}if(h in Cr){Bn(this,y,h,l,o,m);continue}if("smoothOrigin"===h){An(this,y,"smooth",y.smooth,o);continue}if("force3D"===h){y[h]=o;continue}if("transform"===h){kn(this,o,e);continue}}else h in w||(h=Er(h)||h);if(v||(s||0===s)&&(l||0===l)&&!yr.test(o)&&h in w)(p=(a+"").substr((l+"").length))!==(f=(o+"").substr(((s=s||0)+"").length)||(h in Oe.units?Oe.units[h]:p))&&(l=Cn(e,h,a,f)),this._pt=new en(this._pt,v?y:w,h,l,m?m*s:s-l,"px"!==f||!1===t.autoRound||v?sn:cn),this._pt.u=f||0,p!==f&&(this._pt.b=a,this._pt.r=un);else if(h in w)Pn.call(this,e,h,a,o);else{if(!(h in e)){d(h,o);continue}this.add(e,h,e[h],o,r,i)}_.push(h)}b&&Kt(this)},get:Ln,aliases:xr,getSetter:function(e,t,n){var r=xr[t];return r&&r.indexOf(",")<0&&(t=r),t in dr&&t!==_r&&(e._gsap.x||Ln(e,"x"))?n&&Xn===n?"scale"===t?vn:mn:(Xn=n||{})&&("scale"===t?gn:yn):e.style&&!o(e.style[t])?pn:~t.indexOf("-")?fn:Xt(e,t)},core:{_removeProperty:Sn,_getMatrix:Nn}};on.utils.checkPrefix=Er,Br=x("x,y,z,scale,scaleX,scaleY,xPercent,yPercent"+","+(Ur="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(e){dr[e]=1})),x(Ur,(function(e){Oe.units[e]="deg",Cr[e]=1})),xr[Br[13]]="x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+Ur,x("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(e){var t=e.split(":");xr[t[1]]=Br[t[0]]})),x("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(e){Oe.units[e]="px"})),on.registerPlugin(kr);var Fr=on.registerPlugin(kr)||on,Gr=Fr.core.Tween;e.Back=or,e.Bounce=lr,e.CSSPlugin=kr,e.Circ=hr,e.Cubic=tr,e.Elastic=ar,e.Expo=cr,e.Linear=Kn,e.Power0=Yn,e.Power1=$n,e.Power2=Zn,e.Power3=Jn,e.Power4=Qn,e.Quad=er,e.Quart=nr,e.Quint=rr,e.Sine=ur,e.SteppedEase=sr,e.Strong=ir,e.TimelineLite=It,e.TimelineMax=It,e.TweenLite=Ft,e.TweenMax=Gr,e.default=Fr,e.gsap=Fr,"undefined"==typeof window||window!==e?Object.defineProperty(e,"__esModule",{value:!0}):delete e.default})),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).window=e.window||{})}(this,(function(e){"use strict";function t(){return"undefined"!=typeof window}function n(){return i||t()&&(i=window.gsap)&&i.registerPlugin&&i}function r(){return a||(l(),s||console.warn("Please gsap.registerPlugin(CSSPlugin, CSSRulePlugin)")),a}var i,a,o,s,l=function(e){i=e||n(),t()&&(o=document),i&&(s=i.plugins.css)&&(a=1)},u={version:"3.2.6",name:"cssRule",init:function(e,t,n,i,a){if(!r()||void 0===e.cssText)return!1;var l=e._gsProxy=e._gsProxy||o.createElement("div");this.ss=e,this.style=l.style,l.style.cssText=e.cssText,s.prototype.init.call(this,l,t,n,i,a)},render:function(e,t){for(var n,r=t._pt,i=t.style,a=t.ss;r;)r.r(e,r.d),r=r._next;for(n=i.length;-1<--n;)a[i[n]]=i[i[n]]},getRule:function(e){r();var t,n,i,a,s=o.all?"rules":"cssRules",l=o.styleSheets,u=l.length,c=":"===e.charAt(0);for(e=(c?"":",")+e.split("::").join(":").toLowerCase()+",",c&&(a=[]);u--;){try{if(!(n=l[u][s]))continue;t=n.length}catch(e){console.warn(e);continue}for(;-1<--t;)if((i=n[t]).selectorText&&-1!==(","+i.selectorText.split("::").join(":").toLowerCase()+",").indexOf(e)){if(!c)return i.style;a.push(i.style)}}return a},register:l};n()&&i.registerPlugin(u),e.CSSRulePlugin=u,e.default=u,"undefined"==typeof window||window!==e?Object.defineProperty(e,"__esModule",{value:!0}):delete e.default})),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.THREE=e.THREE||{})}(this,(function(e){function t(){}function n(e,t){this.x=e||0,this.y=t||0}function r(e,t,i,a,o,s,l,u,c,h){Object.defineProperty(this,"id",{value:ui++}),this.uuid=li.generateUUID(),this.name="",this.image=void 0!==e?e:r.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:r.DEFAULT_MAPPING,this.wrapS=void 0!==i?i:1001,this.wrapT=void 0!==a?a:1001,this.magFilter=void 0!==o?o:1006,this.minFilter=void 0!==s?s:1008,this.anisotropy=void 0!==c?c:1,this.format=void 0!==l?l:1023,this.type=void 0!==u?u:1009,this.offset=new n(0,0),this.repeat=new n(1,1),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==h?h:3e3,this.version=0,this.onUpdate=null}function i(e,t,n,r){this.x=e||0,this.y=t||0,this.z=n||0,this.w=void 0!==r?r:1}function a(e,t,n){this.uuid=li.generateUUID(),this.width=e,this.height=t,this.scissor=new i(0,0,e,t),this.scissorTest=!1,this.viewport=new i(0,0,e,t),void 0===(n=n||{}).minFilter&&(n.minFilter=1006),this.texture=new r(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function o(e,t,n){a.call(this,e,t,n),this.activeMipMapLevel=this.activeCubeFace=0}function s(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._w=void 0!==r?r:1}function l(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0}function u(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),0<arguments.length&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function c(e,t,n,i,a,o,s,l,u,c){e=void 0!==e?e:[],r.call(this,e,void 0!==t?t:301,n,i,a,o,s,l,u,c),this.flipY=!1}function h(e,t,n){var r=e[0];if(0>=r||0<r)return e;var i=t*n,a=di[i];if(void 0===a&&(a=new Float32Array(i),di[i]=a),0!==t)for(r.toArray(a,0),r=1,i=0;r!==t;++r)i+=n,e[r].toArray(a,i);return a}function d(e,t){var n=pi[t];void 0===n&&(n=new Int32Array(t),pi[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocTextureUnit();return n}function p(e,t){e.uniform1f(this.addr,t)}function f(e,t){e.uniform1i(this.addr,t)}function m(e,t){void 0===t.x?e.uniform2fv(this.addr,t):e.uniform2f(this.addr,t.x,t.y)}function v(e,t){void 0!==t.x?e.uniform3f(this.addr,t.x,t.y,t.z):void 0!==t.r?e.uniform3f(this.addr,t.r,t.g,t.b):e.uniform3fv(this.addr,t)}function g(e,t){void 0===t.x?e.uniform4fv(this.addr,t):e.uniform4f(this.addr,t.x,t.y,t.z,t.w)}function y(e,t){e.uniformMatrix2fv(this.addr,!1,t.elements||t)}function x(e,t){e.uniformMatrix3fv(this.addr,!1,t.elements||t)}function b(e,t){e.uniformMatrix4fv(this.addr,!1,t.elements||t)}function _(e,t,n){var r=n.allocTextureUnit();e.uniform1i(this.addr,r),n.setTexture2D(t||ci,r)}function w(e,t,n){var r=n.allocTextureUnit();e.uniform1i(this.addr,r),n.setTextureCube(t||hi,r)}function E(e,t){e.uniform2iv(this.addr,t)}function T(e,t){e.uniform3iv(this.addr,t)}function M(e,t){e.uniform4iv(this.addr,t)}function S(e,t){e.uniform1fv(this.addr,t)}function A(e,t){e.uniform1iv(this.addr,t)}function C(e,t){e.uniform2fv(this.addr,h(t,this.size,2))}function L(e,t){e.uniform3fv(this.addr,h(t,this.size,3))}function P(e,t){e.uniform4fv(this.addr,h(t,this.size,4))}function R(e,t){e.uniformMatrix2fv(this.addr,!1,h(t,this.size,4))}function I(e,t){e.uniformMatrix3fv(this.addr,!1,h(t,this.size,9))}function D(e,t){e.uniformMatrix4fv(this.addr,!1,h(t,this.size,16))}function O(e,t,n){var r=t.length,i=d(n,r);for(e.uniform1iv(this.addr,i),e=0;e!==r;++e)n.setTexture2D(t[e]||ci,i[e])}function N(e,t,n){var r=t.length,i=d(n,r);for(e.uniform1iv(this.addr,i),e=0;e!==r;++e)n.setTextureCube(t[e]||hi,i[e])}function z(e,t,n){this.id=e,this.addr=n,this.setValue=function(e){switch(e){case 5126:return p;case 35664:return m;case 35665:return v;case 35666:return g;case 35674:return y;case 35675:return x;case 35676:return b;case 35678:return _;case 35680:return w;case 5124:case 35670:return f;case 35667:case 35671:return E;case 35668:case 35672:return T;case 35669:case 35673:return M}}(t.type)}function U(e,t,n){this.id=e,this.addr=n,this.size=t.size,this.setValue=function(e){switch(e){case 5126:return S;case 35664:return C;case 35665:return L;case 35666:return P;case 35674:return R;case 35675:return I;case 35676:return D;case 35678:return O;case 35680:return N;case 5124:case 35670:return A;case 35667:case 35671:return E;case 35668:case 35672:return T;case 35669:case 35673:return M}}(t.type)}function B(e){this.id=e,this.seq=[],this.map={}}function k(e,t,n){this.seq=[],this.map={},this.renderer=n,n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(var r=0;r<n;++r){var i=e.getActiveUniform(t,r),a=e.getUniformLocation(t,i.name),o=this,s=i.name,l=s.length;for(fi.lastIndex=0;;){var u=fi.exec(s),c=fi.lastIndex,h=u[1],d=u[3];if("]"===u[2]&&(h|=0),void 0===d||"["===d&&c+2===l){s=o,i=void 0===d?new z(h,i,a):new U(h,i,a),s.seq.push(i),s.map[i.id]=i;break}void 0===(d=o.map[h])&&(d=new B(h),h=o,o=d,h.seq.push(o),h.map[o.id]=o),o=d}}}function F(e,t,n){return void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}function G(e,t,n,i,a,o,s,l,u,c,h,d){r.call(this,null,o,s,l,u,c,i,a,h,d),this.image={data:e,width:t,height:n},this.magFilter=void 0!==u?u:1003,this.minFilter=void 0!==c?c:1003,this.flipY=this.generateMipmaps=!1,this.unpackAlignment=1}function H(e,t){this.min=void 0!==e?e:new n(1/0,1/0),this.max=void 0!==t?t:new n(-1/0,-1/0)}function j(e,t){var r,i,a,o,s,u,c,h,d,p,f,m,v,g,y,x=e.context,b=e.state;this.render=function(_,w,E){if(0!==t.length){_=new l;var T=E.w/E.z,M=.5*E.z,S=.5*E.w,A=new n((R=16/E.w)*T,R),C=new l(1,1,0),L=new n(1,1),P=new H;if(P.min.set(E.x,E.y),P.max.set(E.x+(E.z-16),E.y+(E.w-16)),void 0===v){var R=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),I=new Uint16Array([0,1,2,0,2,3]);f=x.createBuffer(),m=x.createBuffer(),x.bindBuffer(x.ARRAY_BUFFER,f),x.bufferData(x.ARRAY_BUFFER,R,x.STATIC_DRAW),x.bindBuffer(x.ELEMENT_ARRAY_BUFFER,m),x.bufferData(x.ELEMENT_ARRAY_BUFFER,I,x.STATIC_DRAW),g=x.createTexture(),y=x.createTexture(),b.bindTexture(x.TEXTURE_2D,g),x.texImage2D(x.TEXTURE_2D,0,x.RGB,16,16,0,x.RGB,x.UNSIGNED_BYTE,null),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_S,x.CLAMP_TO_EDGE),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_T,x.CLAMP_TO_EDGE),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,x.NEAREST),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,x.NEAREST),b.bindTexture(x.TEXTURE_2D,y),x.texImage2D(x.TEXTURE_2D,0,x.RGBA,16,16,0,x.RGBA,x.UNSIGNED_BYTE,null),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_S,x.CLAMP_TO_EDGE),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_T,x.CLAMP_TO_EDGE),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,x.NEAREST),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,x.NEAREST);R={vertexShader:"uniform lowp int renderType;\nuniform vec3 screenPosition;\nuniform vec2 scale;\nuniform float rotation;\nuniform sampler2D occlusionMap;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main() {\nvUV = uv;\nvec2 pos = position;\nif ( renderType == 2 ) {\nvec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );\nvVisibility =        visibility.r / 9.0;\nvVisibility *= 1.0 - visibility.g / 9.0;\nvVisibility *=       visibility.b / 9.0;\nvVisibility *= 1.0 - visibility.a / 9.0;\npos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;\npos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;\n}\ngl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );\n}",fragmentShader:"uniform lowp int renderType;\nuniform sampler2D map;\nuniform float opacity;\nuniform vec3 color;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main() {\nif ( renderType == 0 ) {\ngl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );\n} else if ( renderType == 1 ) {\ngl_FragColor = texture2D( map, vUV );\n} else {\nvec4 texture = texture2D( map, vUV );\ntexture.a *= opacity * vVisibility;\ngl_FragColor = texture;\ngl_FragColor.rgb *= color;\n}\n}"},I=x.createProgram();var D=x.createShader(x.FRAGMENT_SHADER),O=x.createShader(x.VERTEX_SHADER),N="precision "+e.getPrecision()+" float;\n";x.shaderSource(D,N+R.fragmentShader),x.shaderSource(O,N+R.vertexShader),x.compileShader(D),x.compileShader(O),x.attachShader(I,D),x.attachShader(I,O),x.linkProgram(I),v=I,d=x.getAttribLocation(v,"position"),p=x.getAttribLocation(v,"uv"),r=x.getUniformLocation(v,"renderType"),i=x.getUniformLocation(v,"map"),a=x.getUniformLocation(v,"occlusionMap"),o=x.getUniformLocation(v,"opacity"),s=x.getUniformLocation(v,"color"),u=x.getUniformLocation(v,"scale"),c=x.getUniformLocation(v,"rotation"),h=x.getUniformLocation(v,"screenPosition")}for(x.useProgram(v),b.initAttributes(),b.enableAttribute(d),b.enableAttribute(p),b.disableUnusedAttributes(),x.uniform1i(a,0),x.uniform1i(i,1),x.bindBuffer(x.ARRAY_BUFFER,f),x.vertexAttribPointer(d,2,x.FLOAT,!1,16,0),x.vertexAttribPointer(p,2,x.FLOAT,!1,16,8),x.bindBuffer(x.ELEMENT_ARRAY_BUFFER,m),b.disable(x.CULL_FACE),b.setDepthWrite(!1),I=0,D=t.length;I<D;I++)if(R=16/E.w,A.set(R*T,R),O=t[I],_.set(O.matrixWorld.elements[12],O.matrixWorld.elements[13],O.matrixWorld.elements[14]),_.applyMatrix4(w.matrixWorldInverse),_.applyMatrix4(w.projectionMatrix),C.copy(_),L.x=E.x+C.x*M+M-8,L.y=E.y+C.y*S+S-8,!0===P.containsPoint(L)){b.activeTexture(x.TEXTURE0),b.bindTexture(x.TEXTURE_2D,null),b.activeTexture(x.TEXTURE1),b.bindTexture(x.TEXTURE_2D,g),x.copyTexImage2D(x.TEXTURE_2D,0,x.RGB,L.x,L.y,16,16,0),x.uniform1i(r,0),x.uniform2f(u,A.x,A.y),x.uniform3f(h,C.x,C.y,C.z),b.disable(x.BLEND),b.enable(x.DEPTH_TEST),x.drawElements(x.TRIANGLES,6,x.UNSIGNED_SHORT,0),b.activeTexture(x.TEXTURE0),b.bindTexture(x.TEXTURE_2D,y),x.copyTexImage2D(x.TEXTURE_2D,0,x.RGBA,L.x,L.y,16,16,0),x.uniform1i(r,1),b.disable(x.DEPTH_TEST),b.activeTexture(x.TEXTURE1),b.bindTexture(x.TEXTURE_2D,g),x.drawElements(x.TRIANGLES,6,x.UNSIGNED_SHORT,0),O.positionScreen.copy(C),O.customUpdateCallback?O.customUpdateCallback(O):O.updateLensFlares(),x.uniform1i(r,2),b.enable(x.BLEND);N=0;for(var z=O.lensFlares.length;N<z;N++){var U=O.lensFlares[N];.001<U.opacity&&.001<U.scale&&(C.x=U.x,C.y=U.y,C.z=U.z,R=U.size*U.scale/E.w,A.x=R*T,A.y=R,x.uniform3f(h,C.x,C.y,C.z),x.uniform2f(u,A.x,A.y),x.uniform1f(c,U.rotation),x.uniform1f(o,U.opacity),x.uniform3f(s,U.color.r,U.color.g,U.color.b),b.setBlending(U.blending,U.blendEquation,U.blendSrc,U.blendDst),e.setTexture2D(U.texture,1),x.drawElements(x.TRIANGLES,6,x.UNSIGNED_SHORT,0))}}b.enable(x.CULL_FACE),b.enable(x.DEPTH_TEST),b.setDepthWrite(!0),e.resetGLState()}}}function V(e,t){var n,i,a,o,u,c,h,d,p,f,m,v,g,y,x,b,_;function w(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:t.id-e.id}var E,T,M,S,A=e.context,C=e.state,L=new l,P=new s,R=new l;this.render=function(s,l){if(0!==t.length){if(void 0===M){var I=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),D=new Uint16Array([0,1,2,0,2,3]);E=A.createBuffer(),T=A.createBuffer(),A.bindBuffer(A.ARRAY_BUFFER,E),A.bufferData(A.ARRAY_BUFFER,I,A.STATIC_DRAW),A.bindBuffer(A.ELEMENT_ARRAY_BUFFER,T),A.bufferData(A.ELEMENT_ARRAY_BUFFER,D,A.STATIC_DRAW);I=A.createProgram(),D=A.createShader(A.VERTEX_SHADER);var O=A.createShader(A.FRAGMENT_SHADER);A.shaderSource(D,["precision "+e.getPrecision()+" float;","uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float rotation;\nuniform vec2 scale;\nuniform vec2 uvOffset;\nuniform vec2 uvScale;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvoid main() {\nvUV = uvOffset + uv * uvScale;\nvec2 alignedPosition = position * scale;\nvec2 rotatedPosition;\nrotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\nrotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\nvec4 finalPosition;\nfinalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\nfinalPosition.xy += rotatedPosition;\nfinalPosition = projectionMatrix * finalPosition;\ngl_Position = finalPosition;\n}"].join("\n")),A.shaderSource(O,["precision "+e.getPrecision()+" float;","uniform vec3 color;\nuniform sampler2D map;\nuniform float opacity;\nuniform int fogType;\nuniform vec3 fogColor;\nuniform float fogDensity;\nuniform float fogNear;\nuniform float fogFar;\nuniform float alphaTest;\nvarying vec2 vUV;\nvoid main() {\nvec4 texture = texture2D( map, vUV );\nif ( texture.a < alphaTest ) discard;\ngl_FragColor = vec4( color * texture.xyz, texture.a * opacity );\nif ( fogType > 0 ) {\nfloat depth = gl_FragCoord.z / gl_FragCoord.w;\nfloat fogFactor = 0.0;\nif ( fogType == 1 ) {\nfogFactor = smoothstep( fogNear, fogFar, depth );\n} else {\nconst float LOG2 = 1.442695;\nfogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );\nfogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );\n}\ngl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}\n}"].join("\n")),A.compileShader(D),A.compileShader(O),A.attachShader(I,D),A.attachShader(I,O),A.linkProgram(I),M=I,b=A.getAttribLocation(M,"position"),_=A.getAttribLocation(M,"uv"),n=A.getUniformLocation(M,"uvOffset"),i=A.getUniformLocation(M,"uvScale"),a=A.getUniformLocation(M,"rotation"),o=A.getUniformLocation(M,"scale"),u=A.getUniformLocation(M,"color"),c=A.getUniformLocation(M,"map"),h=A.getUniformLocation(M,"opacity"),d=A.getUniformLocation(M,"modelViewMatrix"),p=A.getUniformLocation(M,"projectionMatrix"),f=A.getUniformLocation(M,"fogType"),m=A.getUniformLocation(M,"fogDensity"),v=A.getUniformLocation(M,"fogNear"),g=A.getUniformLocation(M,"fogFar"),y=A.getUniformLocation(M,"fogColor"),x=A.getUniformLocation(M,"alphaTest"),(I=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")).width=8,I.height=8,(D=I.getContext("2d")).fillStyle="white",D.fillRect(0,0,8,8),(S=new r(I)).needsUpdate=!0}A.useProgram(M),C.initAttributes(),C.enableAttribute(b),C.enableAttribute(_),C.disableUnusedAttributes(),C.disable(A.CULL_FACE),C.enable(A.BLEND),A.bindBuffer(A.ARRAY_BUFFER,E),A.vertexAttribPointer(b,2,A.FLOAT,!1,16,0),A.vertexAttribPointer(_,2,A.FLOAT,!1,16,8),A.bindBuffer(A.ELEMENT_ARRAY_BUFFER,T),A.uniformMatrix4fv(p,!1,l.projectionMatrix.elements),C.activeTexture(A.TEXTURE0),A.uniform1i(c,0),D=I=0,(O=s.fog)?(A.uniform3f(y,O.color.r,O.color.g,O.color.b),O.isFog?(A.uniform1f(v,O.near),A.uniform1f(g,O.far),A.uniform1i(f,1),D=I=1):O.isFogExp2&&(A.uniform1f(m,O.density),A.uniform1i(f,2),D=I=2)):(A.uniform1i(f,0),D=I=0);O=0;for(var N=t.length;O<N;O++){(U=t[O]).modelViewMatrix.multiplyMatrices(l.matrixWorldInverse,U.matrixWorld),U.z=-U.modelViewMatrix.elements[14]}t.sort(w);var z=[];for(O=0,N=t.length;O<N;O++){var U,B=(U=t[O]).material;!1!==B.visible&&(A.uniform1f(x,B.alphaTest),A.uniformMatrix4fv(d,!1,U.modelViewMatrix.elements),U.matrixWorld.decompose(L,P,R),z[0]=R.x,z[1]=R.y,U=0,s.fog&&B.fog&&(U=D),I!==U&&(A.uniform1i(f,U),I=U),null!==B.map?(A.uniform2f(n,B.map.offset.x,B.map.offset.y),A.uniform2f(i,B.map.repeat.x,B.map.repeat.y)):(A.uniform2f(n,0,0),A.uniform2f(i,1,1)),A.uniform1f(h,B.opacity),A.uniform3f(u,B.color.r,B.color.g,B.color.b),A.uniform1f(a,B.rotation),A.uniform2fv(o,z),C.setBlending(B.blending,B.blendEquation,B.blendSrc,B.blendDst),C.setDepthTest(B.depthTest),C.setDepthWrite(B.depthWrite),B.map?e.setTexture2D(B.map,0):e.setTexture2D(S,0),A.drawElements(A.TRIANGLES,6,A.UNSIGNED_SHORT,0))}C.enable(A.CULL_FACE),e.resetGLState()}}}function W(){Object.defineProperty(this,"id",{value:bi++}),this.uuid=li.generateUUID(),this.name="",this.type="Material",this.lights=this.fog=!0,this.blending=1,this.side=0,this.shading=2,this.vertexColors=0,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendEquationAlpha=this.blendDstAlpha=this.blendSrcAlpha=null,this.depthFunc=3,this.depthWrite=this.depthTest=!0,this.clippingPlanes=null,this.clipShadows=this.clipIntersection=!1,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.alphaTest=this.polygonOffsetUnits=this.polygonOffsetFactor=0,this.premultipliedAlpha=!1,this.overdraw=0,this._needsUpdate=this.visible=!0}function X(e){W.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.morphNormals=this.morphTargets=this.skinning=this.clipping=this.lights=this.fog=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function q(e){W.call(this),this.type="MeshDepthMaterial",this.depthPacking=3200,this.morphTargets=this.skinning=!1,this.displacementMap=this.alphaMap=this.map=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.lights=this.fog=!1,this.setValues(e)}function Y(e,t){this.min=void 0!==e?e:new l(1/0,1/0,1/0),this.max=void 0!==t?t:new l(-1/0,-1/0,-1/0)}function $(e,t){this.center=void 0!==e?e:new l,this.radius=void 0!==t?t:0}function Z(){this.elements=new Float32Array([1,0,0,0,1,0,0,0,1]),0<arguments.length&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}function J(e,t){this.normal=void 0!==e?e:new l(1,0,0),this.constant=void 0!==t?t:0}function Q(e,t,n,r,i,a){this.planes=[void 0!==e?e:new J,void 0!==t?t:new J,void 0!==n?n:new J,void 0!==r?r:new J,void 0!==i?i:new J,void 0!==a?a:new J]}function K(e,t,r,o){function s(t,n,r,i){var a,o=t.geometry;a=_;var s=t.customDepthMaterial;return r&&(a=w,s=t.customDistanceMaterial),s?a=s:(s=!1,n.morphTargets&&(o&&o.isBufferGeometry?s=o.morphAttributes&&o.morphAttributes.position&&0<o.morphAttributes.position.length:o&&o.isGeometry&&(s=o.morphTargets&&0<o.morphTargets.length)),o=0,s&&(o|=1),(t=t.isSkinnedMesh&&n.skinning)&&(o|=2),a=a[o]),e.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length&&(o=a.uuid,s=n.uuid,void 0===(t=E[o])&&(t={},E[o]=t),void 0===(o=t[s])&&(o=a.clone(),t[s]=o),a=o),a.visible=n.visible,a.wireframe=n.wireframe,s=n.side,I.renderSingleSided&&2==s&&(s=0),I.renderReverseSided&&(0===s?s=1:1===s&&(s=0)),a.side=s,a.clipShadows=n.clipShadows,a.clippingPlanes=n.clippingPlanes,a.wireframeLinewidth=n.wireframeLinewidth,a.linewidth=n.linewidth,r&&void 0!==a.uniforms.lightPos&&a.uniforms.lightPos.value.copy(i),a}function c(e,t,n){if(!1!==e.visible){0!=(e.layers.mask&t.layers.mask)&&(e.isMesh||e.isLine||e.isPoints)&&e.castShadow&&(!1===e.frustumCulled||!0===p.intersectsObject(e))&&!0===e.material.visible&&(e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),b.push(e));for(var r=0,i=(e=e.children).length;r<i;r++)c(e[r],t,n)}}var h=e.context,d=e.state,p=new Q,f=new u,m=t.shadows,v=new n,g=new n(o.maxTextureSize,o.maxTextureSize),y=new l,x=new l,b=[],_=Array(4),w=Array(4),E={},T=[new l(1,0,0),new l(-1,0,0),new l(0,0,1),new l(0,0,-1),new l(0,1,0),new l(0,-1,0)],M=[new l(0,1,0),new l(0,1,0),new l(0,1,0),new l(0,1,0),new l(0,0,1),new l(0,0,-1)],S=[new i,new i,new i,new i,new i,new i];(t=new q).depthPacking=3201,t.clipping=!0,o=xi.distanceRGBA;for(var A=mi.clone(o.uniforms),C=0;4!==C;++C){var L=0!=(1&C),P=0!=(2&C),R=t.clone();R.morphTargets=L,R.skinning=P,_[C]=R,L=new X({defines:{USE_SHADOWMAP:""},uniforms:A,vertexShader:o.vertexShader,fragmentShader:o.fragmentShader,morphTargets:L,skinning:P,clipping:!0}),w[C]=L}var I=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.renderSingleSided=this.renderReverseSided=!0,this.render=function(t,n){if(!1!==I.enabled&&(!1!==I.autoUpdate||!1!==I.needsUpdate)&&0!==m.length){d.buffers.color.setClear(1,1,1,1),d.disable(h.BLEND),d.setDepthTest(!0),d.setScissorTest(!1);for(var i,o,l=0,u=m.length;l<u;l++){var _=m[l],w=_.shadow;if(void 0===w)console.warn("THREE.WebGLShadowMap:",_,"has no shadow.");else{var E=w.camera;if(v.copy(w.mapSize),v.min(g),_&&_.isPointLight){i=6,o=!0;var A=v.x,C=v.y;S[0].set(2*A,C,A,C),S[1].set(0,C,A,C),S[2].set(3*A,C,A,C),S[3].set(A,C,A,C),S[4].set(3*A,0,A,C),S[5].set(A,0,A,C),v.x*=4,v.y*=2}else i=1,o=!1;for(null===w.map&&(w.map=new a(v.x,v.y,{minFilter:1003,magFilter:1003,format:1023}),E.updateProjectionMatrix()),w.isSpotLightShadow&&w.update(_),w&&w.isRectAreaLightShadow&&w.update(_),A=w.map,w=w.matrix,x.setFromMatrixPosition(_.matrixWorld),E.position.copy(x),e.setRenderTarget(A),e.clear(),A=0;A<i;A++){o?(y.copy(E.position),y.add(T[A]),E.up.copy(M[A]),E.lookAt(y),d.viewport(S[A])):(y.setFromMatrixPosition(_.target.matrixWorld),E.lookAt(y)),E.updateMatrixWorld(),E.matrixWorldInverse.getInverse(E.matrixWorld),w.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),w.multiply(E.projectionMatrix),w.multiply(E.matrixWorldInverse),f.multiplyMatrices(E.projectionMatrix,E.matrixWorldInverse),p.setFromMatrix(f),b.length=0,c(t,n,E);C=0;for(var L=b.length;C<L;C++){var P=b[C],R=r.update(P);if((O=P.material)&&O.isMultiMaterial)for(var D=R.groups,O=O.materials,N=0,z=D.length;N<z;N++){var U=D[N],B=O[U.materialIndex];!0===B.visible&&(B=s(P,B,o,x),e.renderBufferDirect(E,null,R,B,P,U))}else B=s(P,O,o,x),e.renderBufferDirect(E,null,R,B,P,null)}}}}i=e.getClearColor(),o=e.getClearAlpha(),e.setClearColor(i,o),I.needsUpdate=!1}}}function ee(e,t){this.origin=void 0!==e?e:new l,this.direction=void 0!==t?t:new l}function te(e,t,n,r){this._x=e||0,this._y=t||0,this._z=n||0,this._order=r||te.DefaultOrder}function ne(){this.mask=1}function re(){Object.defineProperty(this,"id",{value:_i++}),this.uuid=li.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=re.DefaultUp.clone();var e=new l,t=new te,n=new s,r=new l(1,1,1);t.onChange((function(){n.setFromEuler(t,!1)})),n.onChange((function(){t.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{enumerable:!0,value:e},rotation:{enumerable:!0,value:t},quaternion:{enumerable:!0,value:n},scale:{enumerable:!0,value:r},modelViewMatrix:{value:new u},normalMatrix:{value:new Z}}),this.matrix=new u,this.matrixWorld=new u,this.matrixAutoUpdate=re.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new ne,this.visible=!0,this.receiveShadow=this.castShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={},this.onBeforeRender=function(){},this.onAfterRender=function(){}}function ie(e,t){this.start=void 0!==e?e:new l,this.end=void 0!==t?t:new l}function ae(e,t,n){this.a=void 0!==e?e:new l,this.b=void 0!==t?t:new l,this.c=void 0!==n?n:new l}function oe(e,t,n,r,i,a){this.a=e,this.b=t,this.c=n,this.normal=r&&r.isVector3?r:new l,this.vertexNormals=Array.isArray(r)?r:[],this.color=i&&i.isColor?i:new F,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0!==a?a:0}function se(e){W.call(this),this.type="MeshBasicMaterial",this.color=new F(16777215),this.lightMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.envMap=this.alphaMap=this.specularMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.lights=this.morphTargets=this.skinning=!1,this.setValues(e)}function le(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.uuid=li.generateUUID(),this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===n,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function ue(e,t){le.call(this,new Int8Array(e),t)}function ce(e,t){le.call(this,new Uint8Array(e),t)}function he(e,t){le.call(this,new Uint8ClampedArray(e),t)}function de(e,t){le.call(this,new Int16Array(e),t)}function pe(e,t){le.call(this,new Uint16Array(e),t)}function fe(e,t){le.call(this,new Int32Array(e),t)}function me(e,t){le.call(this,new Uint32Array(e),t)}function ve(e,t){le.call(this,new Float32Array(e),t)}function ge(e,t){le.call(this,new Float64Array(e),t)}function ye(){this.indices=[],this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingSphere=this.boundingBox=null,this.groupsNeedUpdate=this.uvsNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.verticesNeedUpdate=!1}function xe(e){for(var t=e.length,n=-1/0;t--;)e[t]>n&&(n=e[t]);return n}function be(){Object.defineProperty(this,"id",{value:wi++}),this.uuid=li.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingSphere=this.boundingBox=null,this.groupsNeedUpdate=this.lineDistancesNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.uvsNeedUpdate=this.verticesNeedUpdate=this.elementsNeedUpdate=!1}function _e(){Object.defineProperty(this,"id",{value:wi++}),this.uuid=li.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingSphere=this.boundingBox=null,this.drawRange={start:0,count:1/0}}function we(e,t){re.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new _e,this.material=void 0!==t?t:new se({color:16777215*Math.random()}),this.drawMode=0,this.updateMorphTargets()}function Ee(e,t,n,r,i,a){be.call(this),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:a},this.fromBufferGeometry(new Te(e,t,n,r,i,a)),this.mergeVertices()}function Te(e,t,n,r,i,a){function o(e,t,n,r,i,a,o,m,v,g,y){var x=a/v,b=o/g,_=a/2,w=o/2,E=m/2;o=v+1;var T,M,S=g+1,A=a=0,C=new l;for(M=0;M<S;M++){var L=M*b-w;for(T=0;T<o;T++)C[e]=(T*x-_)*r,C[t]=L*i,C[n]=E,c.push(C.x,C.y,C.z),C[e]=0,C[t]=0,C[n]=0<m?1:-1,h.push(C.x,C.y,C.z),d.push(T/v),d.push(1-M/g),a+=1}for(M=0;M<g;M++)for(T=0;T<v;T++)e=p+T+o*(M+1),t=p+(T+1)+o*(M+1),n=p+(T+1)+o*M,u.push(p+T+o*M,e,n),u.push(e,t,n),A+=6;s.addGroup(f,A,y),f+=A,p+=a}_e.call(this),this.type="BoxBufferGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:a};var s=this;r=Math.floor(r)||1,i=Math.floor(i)||1,a=Math.floor(a)||1;var u=[],c=[],h=[],d=[],p=0,f=0;o("z","y","x",-1,-1,n,t,e,a,i,0),o("z","y","x",1,-1,n,t,-e,a,i,1),o("x","z","y",1,1,e,n,t,r,a,2),o("x","z","y",1,-1,e,n,-t,r,a,3),o("x","y","z",1,-1,e,t,n,r,i,4),o("x","y","z",-1,-1,e,t,-n,r,i,5),this.setIndex(u),this.addAttribute("position",new ve(c,3)),this.addAttribute("normal",new ve(h,3)),this.addAttribute("uv",new ve(d,2))}function Me(e,t,n,r){be.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r},this.fromBufferGeometry(new Se(e,t,n,r))}function Se(e,t,n,r){_e.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};var i=e/2,a=t/2,o=(n=Math.floor(n)||1)+1,s=(r=Math.floor(r)||1)+1,l=e/n,u=t/r,c=[],h=[],d=[],p=[];for(e=0;e<s;e++){var f=e*u-a;for(t=0;t<o;t++)h.push(t*l-i,-f,0),d.push(0,0,1),p.push(t/n),p.push(1-e/r)}for(e=0;e<r;e++)for(t=0;t<n;t++)i=t+o*(e+1),a=t+1+o*(e+1),s=t+1+o*e,c.push(t+o*e,i,s),c.push(i,a,s);this.setIndex(c),this.addAttribute("position",new ve(h,3)),this.addAttribute("normal",new ve(d,3)),this.addAttribute("uv",new ve(p,2))}function Ae(){re.call(this),this.type="Camera",this.matrixWorldInverse=new u,this.projectionMatrix=new u}function Ce(e,t,n,r){Ae.call(this),this.type="PerspectiveCamera",this.fov=void 0!==e?e:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==t?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function Le(e,t,n,r,i,a){Ae.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=void 0!==i?i:.1,this.far=void 0!==a?a:2e3,this.updateProjectionMatrix()}function Pe(e,t,n){var r,i,a;return{setMode:function(e){r=e},setIndex:function(n){n.array instanceof Uint32Array&&t.get("OES_element_index_uint")?(i=e.UNSIGNED_INT,a=4):n.array instanceof Uint16Array?(i=e.UNSIGNED_SHORT,a=2):(i=e.UNSIGNED_BYTE,a=1)},render:function(t,o){e.drawElements(r,o,i,t*a),n.calls++,n.vertices+=o,r===e.TRIANGLES&&(n.faces+=o/3)},renderInstances:function(o,s,l){var u=t.get("ANGLE_instanced_arrays");null===u?console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays."):(u.drawElementsInstancedANGLE(r,l,i,s*a,o.maxInstancedCount),n.calls++,n.vertices+=l*o.maxInstancedCount,r===e.TRIANGLES&&(n.faces+=o.maxInstancedCount*l/3))}}}function Re(e,t,n){var r;return{setMode:function(e){r=e},render:function(t,i){e.drawArrays(r,t,i),n.calls++,n.vertices+=i,r===e.TRIANGLES&&(n.faces+=i/3)},renderInstances:function(i){var a=t.get("ANGLE_instanced_arrays");if(null===a)console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");else{var o=(o=i.attributes.position).isInterleavedBufferAttribute?o.data.count:o.count;a.drawArraysInstancedANGLE(r,0,o,i.maxInstancedCount),n.calls++,n.vertices+=o*i.maxInstancedCount,r===e.TRIANGLES&&(n.faces+=i.maxInstancedCount*o/3)}}}}function Ie(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var r;switch(t.type){case"DirectionalLight":r={direction:new l,color:new F,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new n};break;case"SpotLight":r={position:new l,direction:new l,color:new F,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new n};break;case"PointLight":r={position:new l,color:new F,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new n};break;case"HemisphereLight":r={direction:new l,skyColor:new F,groundColor:new F};break;case"RectAreaLight":r={color:new F,position:new l,halfWidth:new l,halfHeight:new l}}return e[t.id]=r}}}function De(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),!1===e.getShaderParameter(r,e.COMPILE_STATUS)&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==e.getShaderInfoLog(r)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",t===e.VERTEX_SHADER?"vertex":"fragment",e.getShaderInfoLog(r),function(e){e=e.split("\n");for(var t=0;t<e.length;t++)e[t]=t+1+": "+e[t];return e.join("\n")}(n)),r}function Oe(e){switch(e){case 3e3:return["Linear","( value )"];case 3001:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case 3007:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw Error("unsupported encoding: "+e)}}function Ne(e,t){var n=Oe(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function ze(e,t){var n=Oe(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function Ue(e,t){var n;switch(t){case 1:n="Linear";break;case 2:n="Reinhard";break;case 3:n="Uncharted2";break;case 4:n="OptimizedCineon";break;default:throw Error("unsupported toneMapping: "+t)}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Be(e){return""!==e}function ke(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights)}function Fe(e){return e.replace(/#include +<([\w\d.]+)>/g,(function(e,t){var n=vi[t];if(void 0===n)throw Error("Can not resolve #include <"+t+">");return Fe(n)}))}function Ge(e){return e.replace(/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,(function(e,t,n,r){for(e="",t=parseInt(t);t<parseInt(n);t++)e+=r.replace(/\[ i \]/g,"[ "+t+" ]");return e}))}function He(e,t,n,r){var i=e.context,a=n.extensions,o=n.defines,s=n.__webglShader.vertexShader,l=n.__webglShader.fragmentShader,u="SHADOWMAP_TYPE_BASIC";1===r.shadowMapType?u="SHADOWMAP_TYPE_PCF":2===r.shadowMapType&&(u="SHADOWMAP_TYPE_PCF_SOFT");var c="ENVMAP_TYPE_CUBE",h="ENVMAP_MODE_REFLECTION",d="ENVMAP_BLENDING_MULTIPLY";if(r.envMap){switch(n.envMap.mapping){case 301:case 302:c="ENVMAP_TYPE_CUBE";break;case 306:case 307:c="ENVMAP_TYPE_CUBE_UV";break;case 303:case 304:c="ENVMAP_TYPE_EQUIREC";break;case 305:c="ENVMAP_TYPE_SPHERE"}switch(n.envMap.mapping){case 302:case 304:h="ENVMAP_MODE_REFRACTION"}switch(n.combine){case 0:d="ENVMAP_BLENDING_MULTIPLY";break;case 1:d="ENVMAP_BLENDING_MIX";break;case 2:d="ENVMAP_BLENDING_ADD"}}var p,f,m=0<e.gammaFactor?e.gammaFactor:1,v=(a=function(e,t,n){return[(e=e||{}).derivatives||t.envMapCubeUV||t.bumpMap||t.normalMap||t.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(e.fragDepth||t.logarithmicDepthBuffer)&&n.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",e.drawBuffers&&n.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(e.shaderTextureLOD||t.envMap)&&n.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Be).join("\n")}(a,r,e.extensions),function(e){var t,n=[];for(t in e){var r=e[t];!1!==r&&n.push("#define "+t+" "+r)}return n.join("\n")}(o)),g=i.createProgram();return n.isRawShaderMaterial?(o=[v,"\n"].filter(Be).join("\n"),u=[a,v,"\n"].filter(Be).join("\n")):(o=["precision "+r.precision+" float;","precision "+r.precision+" int;","#define SHADER_NAME "+n.__webglShader.name,v,r.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+m,"#define MAX_BONES "+r.maxBones,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+h:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.displacementMap&&r.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.vertexColors?"#define USE_COLOR":"",r.flatShading?"#define FLAT_SHADED":"",r.skinning?"#define USE_SKINNING":"",r.useVertexTexture?"#define BONE_TEXTURE":"",r.morphTargets?"#define USE_MORPHTARGETS":"",r.morphNormals&&!1===r.flatShading?"#define USE_MORPHNORMALS":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+r.numClippingPlanes,r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+u:"",r.sizeAttenuation?"#define USE_SIZEATTENUATION":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&e.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Be).join("\n"),u=[a,"precision "+r.precision+" float;","precision "+r.precision+" int;","#define SHADER_NAME "+n.__webglShader.name,v,r.alphaTest?"#define ALPHATEST "+r.alphaTest:"","#define GAMMA_FACTOR "+m,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+c:"",r.envMap?"#define "+h:"",r.envMap?"#define "+d:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.vertexColors?"#define USE_COLOR":"",r.gradientMap?"#define USE_GRADIENTMAP":"",r.flatShading?"#define FLAT_SHADED":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+r.numClippingPlanes,"#define UNION_CLIPPING_PLANES "+(r.numClippingPlanes-r.numClipIntersection),r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+u:"",r.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",r.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&e.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",r.envMap&&e.extensions.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",0!==r.toneMapping?"#define TONE_MAPPING":"",0!==r.toneMapping?vi.tonemapping_pars_fragment:"",0!==r.toneMapping?Ue("toneMapping",r.toneMapping):"",r.outputEncoding||r.mapEncoding||r.envMapEncoding||r.emissiveMapEncoding?vi.encodings_pars_fragment:"",r.mapEncoding?Ne("mapTexelToLinear",r.mapEncoding):"",r.envMapEncoding?Ne("envMapTexelToLinear",r.envMapEncoding):"",r.emissiveMapEncoding?Ne("emissiveMapTexelToLinear",r.emissiveMapEncoding):"",r.outputEncoding?ze("linearToOutputTexel",r.outputEncoding):"",r.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(Be).join("\n")),s=ke(s=Fe(s),r),l=ke(l=Fe(l),r),n.isShaderMaterial||(s=Ge(s),l=Ge(l)),l=u+l,s=De(i,i.VERTEX_SHADER,o+s),l=De(i,i.FRAGMENT_SHADER,l),i.attachShader(g,s),i.attachShader(g,l),void 0!==n.index0AttributeName?i.bindAttribLocation(g,0,n.index0AttributeName):!0===r.morphTargets&&i.bindAttribLocation(g,0,"position"),i.linkProgram(g),r=i.getProgramInfoLog(g),c=i.getShaderInfoLog(s),h=i.getShaderInfoLog(l),m=d=!0,!1===i.getProgramParameter(g,i.LINK_STATUS)?(d=!1,console.error("THREE.WebGLProgram: shader error: ",i.getError(),"gl.VALIDATE_STATUS",i.getProgramParameter(g,i.VALIDATE_STATUS),"gl.getProgramInfoLog",r,c,h)):""!==r?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",r):""!==c&&""!==h||(m=!1),m&&(this.diagnostics={runnable:d,material:n,programLog:r,vertexShader:{log:c,prefix:o},fragmentShader:{log:h,prefix:u}}),i.deleteShader(s),i.deleteShader(l),this.getUniforms=function(){return void 0===p&&(p=new k(i,g,e)),p},this.getAttributes=function(){if(void 0===f){for(var e={},t=i.getProgramParameter(g,i.ACTIVE_ATTRIBUTES),n=0;n<t;n++){var r=i.getActiveAttrib(g,n).name;e[r]=i.getAttribLocation(g,r)}f=e}return f},this.destroy=function(){i.deleteProgram(g),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.id=Ei++,this.code=t,this.usedTimes=1,this.program=g,this.vertexShader=s,this.fragmentShader=l,this}function je(e,t){function n(e,t){var n;return e?e.isTexture?n=e.encoding:e.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),n=e.texture.encoding):n=3e3,3e3===n&&t&&(n=3007),n}var r=[],i={MeshDepthMaterial:"depth",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points"},a="precision supportsVertexTextures map mapEncoding envMap envMapMode envMapEncoding lightMap aoMap emissiveMap emissiveMapEncoding bumpMap normalMap displacementMap specularMap roughnessMap metalnessMap gradientMap alphaMap combine vertexColors fog useFog fogExp flatShading sizeAttenuation logarithmicDepthBuffer skinning maxBones useVertexTexture morphTargets morphNormals maxMorphTargets maxMorphNormals premultipliedAlpha numDirLights numPointLights numSpotLights numHemiLights numRectAreaLights shadowMapEnabled shadowMapType toneMapping physicallyCorrectLights alphaTest doubleSided flipSided numClippingPlanes numClipIntersection depthPacking".split(" ");this.getParameters=function(r,a,o,s,l,u){var c,h=i[r.type];t.floatVertexTextures&&u&&u.skeleton&&u.skeleton.useVertexTexture?c=1024:(c=Math.floor((t.maxVertexUniforms-20)/4),void 0!==u&&u&&u.isSkinnedMesh&&((c=Math.min(u.skeleton.bones.length,c))<u.skeleton.bones.length&&console.warn("WebGLRenderer: too many bones - "+u.skeleton.bones.length+", this GPU supports just "+c+" (try OpenGL instead of ANGLE)")));var d=e.getPrecision();null!==r.precision&&((d=t.getMaxPrecision(r.precision))!==r.precision&&console.warn("THREE.WebGLProgram.getParameters:",r.precision,"not supported, using",d,"instead."));var p=e.getCurrentRenderTarget();return{shaderID:h,precision:d,supportsVertexTextures:t.vertexTextures,outputEncoding:n(p?p.texture:null,e.gammaOutput),map:!!r.map,mapEncoding:n(r.map,e.gammaInput),envMap:!!r.envMap,envMapMode:r.envMap&&r.envMap.mapping,envMapEncoding:n(r.envMap,e.gammaInput),envMapCubeUV:!!r.envMap&&(306===r.envMap.mapping||307===r.envMap.mapping),lightMap:!!r.lightMap,aoMap:!!r.aoMap,emissiveMap:!!r.emissiveMap,emissiveMapEncoding:n(r.emissiveMap,e.gammaInput),bumpMap:!!r.bumpMap,normalMap:!!r.normalMap,displacementMap:!!r.displacementMap,roughnessMap:!!r.roughnessMap,metalnessMap:!!r.metalnessMap,specularMap:!!r.specularMap,alphaMap:!!r.alphaMap,gradientMap:!!r.gradientMap,combine:r.combine,vertexColors:r.vertexColors,fog:!!o,useFog:r.fog,fogExp:o&&o.isFogExp2,flatShading:1===r.shading,sizeAttenuation:r.sizeAttenuation,logarithmicDepthBuffer:t.logarithmicDepthBuffer,skinning:r.skinning,maxBones:c,useVertexTexture:t.floatVertexTextures&&u&&u.skeleton&&u.skeleton.useVertexTexture,morphTargets:r.morphTargets,morphNormals:r.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:a.directional.length,numPointLights:a.point.length,numSpotLights:a.spot.length,numRectAreaLights:a.rectArea.length,numHemiLights:a.hemi.length,numClippingPlanes:s,numClipIntersection:l,shadowMapEnabled:e.shadowMap.enabled&&u.receiveShadow&&0<a.shadows.length,shadowMapType:e.shadowMap.type,toneMapping:e.toneMapping,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:r.premultipliedAlpha,alphaTest:r.alphaTest,doubleSided:2===r.side,flipSided:1===r.side,depthPacking:void 0!==r.depthPacking&&r.depthPacking}},this.getProgramCode=function(e,t){var n=[];if(t.shaderID?n.push(t.shaderID):(n.push(e.fragmentShader),n.push(e.vertexShader)),void 0!==e.defines)for(var r in e.defines)n.push(r),n.push(e.defines[r]);for(r=0;r<a.length;r++)n.push(t[a[r]]);return n.join()},this.acquireProgram=function(t,n,i){for(var a,o=0,s=r.length;o<s;o++){var l=r[o];if(l.code===i){++(a=l).usedTimes;break}}return void 0===a&&(a=new He(e,i,t,n),r.push(a)),a},this.releaseProgram=function(e){if(0==--e.usedTimes){var t=r.indexOf(e);r[t]=r[r.length-1],r.pop(),e.destroy()}},this.programs=r}function Ve(e,t,n){function r(e){var o=e.target;null!==(e=a[o.id]).index&&i(e.index);var s,l=e.attributes;for(s in l)i(l[s]);o.removeEventListener("dispose",r),delete a[o.id],(s=t.get(o)).wireframe&&i(s.wireframe),t.delete(o),(o=t.get(e)).wireframe&&i(o.wireframe),t.delete(e),n.memory.geometries--}function i(n){var r;void 0!==(r=n.isInterleavedBufferAttribute?t.get(n.data).__webglBuffer:t.get(n).__webglBuffer)&&(e.deleteBuffer(r),n.isInterleavedBufferAttribute?t.delete(n.data):t.delete(n))}var a={};return{get:function(e){var t,i=e.geometry;return void 0!==a[i.id]?a[i.id]:(i.addEventListener("dispose",r),i.isBufferGeometry?t=i:i.isGeometry&&(void 0===i._bufferGeometry&&(i._bufferGeometry=(new _e).setFromObject(e)),t=i._bufferGeometry),a[i.id]=t,n.memory.geometries++,t)}}}function We(e,t,n){function r(n,r){var i=n.isInterleavedBufferAttribute?n.data:n,a=t.get(i);if(void 0===a.__webglBuffer){a.__webglBuffer=e.createBuffer(),e.bindBuffer(r,a.__webglBuffer),e.bufferData(r,i.array,i.dynamic?e.DYNAMIC_DRAW:e.STATIC_DRAW);var o=e.FLOAT,s=i.array;s instanceof Float32Array?o=e.FLOAT:s instanceof Float64Array?console.warn("Unsupported data buffer format: Float64Array"):s instanceof Uint16Array?o=e.UNSIGNED_SHORT:s instanceof Int16Array?o=e.SHORT:s instanceof Uint32Array?o=e.UNSIGNED_INT:s instanceof Int32Array?o=e.INT:s instanceof Int8Array?o=e.BYTE:s instanceof Uint8Array&&(o=e.UNSIGNED_BYTE),a.bytesPerElement=s.BYTES_PER_ELEMENT,a.type=o,a.version=i.version,i.onUploadCallback()}else a.version!==i.version&&(e.bindBuffer(r,a.__webglBuffer),!1===i.dynamic?e.bufferData(r,i.array,e.STATIC_DRAW):-1===i.updateRange.count?e.bufferSubData(r,0,i.array):0===i.updateRange.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(e.bufferSubData(r,i.updateRange.offset*i.array.BYTES_PER_ELEMENT,i.array.subarray(i.updateRange.offset,i.updateRange.offset+i.updateRange.count)),i.updateRange.count=0),a.version=i.version)}var i=new Ve(e,t,n);return{getAttributeBuffer:function(e){return e.isInterleavedBufferAttribute?t.get(e.data).__webglBuffer:t.get(e).__webglBuffer},getAttributeProperties:function(e){return e.isInterleavedBufferAttribute?t.get(e.data):t.get(e)},getWireframeAttribute:function(n){var i=t.get(n);if(void 0!==i.wireframe)return i.wireframe;var a=[],o=n.index;if(n=n.attributes,null!==o){n=0;for(var s=(o=o.array).length;n<s;n+=3){var l=o[n+0],u=o[n+1],c=o[n+2];a.push(l,u,u,c,c,l)}}else for(o=n.position.array,n=0,s=o.length/3-1;n<s;n+=3)l=n+0,u=n+1,c=n+2,a.push(l,u,u,c,c,l);return r(a=new(65535<xe(a)?me:pe)(a,1),e.ELEMENT_ARRAY_BUFFER),i.wireframe=a},update:function(t){var n=i.get(t);t.geometry.isGeometry&&n.updateFromObject(t),t=n.index;var a=n.attributes;for(var o in null!==t&&r(t,e.ELEMENT_ARRAY_BUFFER),a)r(a[o],e.ARRAY_BUFFER);for(o in t=n.morphAttributes)for(var s=0,l=(a=t[o]).length;s<l;s++)r(a[s],e.ARRAY_BUFFER);return n}}}function Xe(e,t,n,r,i,a,o){function s(e,t){if(e.width>t||e.height>t){var n=t/Math.max(e.width,e.height),r=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return r.width=Math.floor(e.width*n),r.height=Math.floor(e.height*n),r.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,r.width,r.height),console.warn("THREE.WebGLRenderer: image is too big ("+e.width+"x"+e.height+"). Resized to "+r.width+"x"+r.height,e),r}return e}function l(e){return li.isPowerOfTwo(e.width)&&li.isPowerOfTwo(e.height)}function u(t){return 1003===t||1004===t||1005===t?e.NEAREST:e.LINEAR}function c(t){(t=t.target).removeEventListener("dispose",c);e:{var n=r.get(t);if(t.image&&n.__image__webglTextureCube)e.deleteTexture(n.__image__webglTextureCube);else{if(void 0===n.__webglInit)break e;e.deleteTexture(n.__webglTexture)}r.delete(t)}v.textures--}function h(t){(t=t.target).removeEventListener("dispose",h);var n=r.get(t),i=r.get(t.texture);if(t){if(void 0!==i.__webglTexture&&e.deleteTexture(i.__webglTexture),t.depthTexture&&t.depthTexture.dispose(),t.isWebGLRenderTargetCube)for(i=0;6>i;i++)e.deleteFramebuffer(n.__webglFramebuffer[i]),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[i]);else e.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer);r.delete(t.texture),r.delete(t)}v.textures--}function d(t,o){var u=r.get(t);if(0<t.version&&u.__version!==t.version)if(void 0===(d=t.image))console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",t);else{if(!1!==d.complete){void 0===u.__webglInit&&(u.__webglInit=!0,t.addEventListener("dispose",c),u.__webglTexture=e.createTexture(),v.textures++),n.activeTexture(e.TEXTURE0+o),n.bindTexture(e.TEXTURE_2D,u.__webglTexture),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,t.unpackAlignment);var h=s(t.image,i.maxTextureSize);if((1001!==t.wrapS||1001!==t.wrapT||1003!==t.minFilter&&1006!==t.minFilter)&&!1===l(h))if((d=h)instanceof HTMLImageElement||d instanceof HTMLCanvasElement){(f=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")).width=li.nearestPowerOfTwo(d.width),f.height=li.nearestPowerOfTwo(d.height),f.getContext("2d").drawImage(d,0,0,f.width,f.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+d.width+"x"+d.height+"). Resized to "+f.width+"x"+f.height,d),h=f}else h=d;var d=l(h),f=a(t.format),m=a(t.type);p(e.TEXTURE_2D,t,d);var y=t.mipmaps;if(t.isDepthTexture){if(y=e.DEPTH_COMPONENT,1015===t.type){if(!g)throw Error("Float Depth Texture only supported in WebGL2.0");y=e.DEPTH_COMPONENT32F}else g&&(y=e.DEPTH_COMPONENT16);1026===t.format&&y===e.DEPTH_COMPONENT&&1012!==t.type&&1014!==t.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),t.type=1012,m=a(t.type)),1027===t.format&&(y=e.DEPTH_STENCIL,1020!==t.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),t.type=1020,m=a(t.type))),n.texImage2D(e.TEXTURE_2D,0,y,h.width,h.height,0,f,m,null)}else if(t.isDataTexture)if(0<y.length&&d){for(var x=0,b=y.length;x<b;x++)h=y[x],n.texImage2D(e.TEXTURE_2D,x,f,h.width,h.height,0,f,m,h.data);t.generateMipmaps=!1}else n.texImage2D(e.TEXTURE_2D,0,f,h.width,h.height,0,f,m,h.data);else if(t.isCompressedTexture)for(x=0,b=y.length;x<b;x++)h=y[x],1023!==t.format&&1022!==t.format?-1<n.getCompressedTextureFormats().indexOf(f)?n.compressedTexImage2D(e.TEXTURE_2D,x,f,h.width,h.height,0,h.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(e.TEXTURE_2D,x,f,h.width,h.height,0,f,m,h.data);else if(0<y.length&&d){for(x=0,b=y.length;x<b;x++)h=y[x],n.texImage2D(e.TEXTURE_2D,x,f,f,m,h);t.generateMipmaps=!1}else n.texImage2D(e.TEXTURE_2D,0,f,f,m,h);return t.generateMipmaps&&d&&e.generateMipmap(e.TEXTURE_2D),u.__version=t.version,void(t.onUpdate&&t.onUpdate(t))}console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",t)}n.activeTexture(e.TEXTURE0+o),n.bindTexture(e.TEXTURE_2D,u.__webglTexture)}function p(n,o,s){s?(e.texParameteri(n,e.TEXTURE_WRAP_S,a(o.wrapS)),e.texParameteri(n,e.TEXTURE_WRAP_T,a(o.wrapT)),e.texParameteri(n,e.TEXTURE_MAG_FILTER,a(o.magFilter)),e.texParameteri(n,e.TEXTURE_MIN_FILTER,a(o.minFilter))):(e.texParameteri(n,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(n,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),1001===o.wrapS&&1001===o.wrapT||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",o),e.texParameteri(n,e.TEXTURE_MAG_FILTER,u(o.magFilter)),e.texParameteri(n,e.TEXTURE_MIN_FILTER,u(o.minFilter)),1003!==o.minFilter&&1006!==o.minFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",o)),!(s=t.get("EXT_texture_filter_anisotropic"))||1015===o.type&&null===t.get("OES_texture_float_linear")||1016===o.type&&null===t.get("OES_texture_half_float_linear")||!(1<o.anisotropy||r.get(o).__currentAnisotropy)||(e.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,i.getMaxAnisotropy())),r.get(o).__currentAnisotropy=o.anisotropy)}function f(t,i,o,s){var l=a(i.texture.format),u=a(i.texture.type);n.texImage2D(s,0,l,i.width,i.height,0,l,u,null),e.bindFramebuffer(e.FRAMEBUFFER,t),e.framebufferTexture2D(e.FRAMEBUFFER,o,s,r.get(i.texture).__webglTexture,0),e.bindFramebuffer(e.FRAMEBUFFER,null)}function m(t,n){e.bindRenderbuffer(e.RENDERBUFFER,t),n.depthBuffer&&!n.stencilBuffer?(e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t)):n.depthBuffer&&n.stencilBuffer?(e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,t)):e.renderbufferStorage(e.RENDERBUFFER,e.RGBA4,n.width,n.height),e.bindRenderbuffer(e.RENDERBUFFER,null)}var v=o.memory,g="undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext;this.setTexture2D=d,this.setTextureCube=function(t,o){var u=r.get(t);if(6===t.image.length)if(0<t.version&&u.__version!==t.version){u.__image__webglTextureCube||(t.addEventListener("dispose",c),u.__image__webglTextureCube=e.createTexture(),v.textures++),n.activeTexture(e.TEXTURE0+o),n.bindTexture(e.TEXTURE_CUBE_MAP,u.__image__webglTextureCube),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t.flipY);for(var h=t&&t.isCompressedTexture,d=t.image[0]&&t.image[0].isDataTexture,f=[],m=0;6>m;m++)f[m]=h||d?d?t.image[m].image:t.image[m]:s(t.image[m],i.maxCubemapSize);var g=l(f[0]),y=a(t.format),x=a(t.type);for(p(e.TEXTURE_CUBE_MAP,t,g),m=0;6>m;m++)if(h)for(var b,_=f[m].mipmaps,w=0,E=_.length;w<E;w++)b=_[w],1023!==t.format&&1022!==t.format?-1<n.getCompressedTextureFormats().indexOf(y)?n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+m,w,y,b.width,b.height,0,b.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+m,w,y,b.width,b.height,0,y,x,b.data);else d?n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+m,0,y,f[m].width,f[m].height,0,y,x,f[m].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+m,0,y,y,x,f[m]);t.generateMipmaps&&g&&e.generateMipmap(e.TEXTURE_CUBE_MAP),u.__version=t.version,t.onUpdate&&t.onUpdate(t)}else n.activeTexture(e.TEXTURE0+o),n.bindTexture(e.TEXTURE_CUBE_MAP,u.__image__webglTextureCube)},this.setTextureCubeDynamic=function(t,i){n.activeTexture(e.TEXTURE0+i),n.bindTexture(e.TEXTURE_CUBE_MAP,r.get(t).__webglTexture)},this.setupRenderTarget=function(t){var i=r.get(t),a=r.get(t.texture);t.addEventListener("dispose",h),a.__webglTexture=e.createTexture(),v.textures++;var o=!0===t.isWebGLRenderTargetCube,s=l(t);if(o){i.__webglFramebuffer=[];for(var u=0;6>u;u++)i.__webglFramebuffer[u]=e.createFramebuffer()}else i.__webglFramebuffer=e.createFramebuffer();if(o){for(n.bindTexture(e.TEXTURE_CUBE_MAP,a.__webglTexture),p(e.TEXTURE_CUBE_MAP,t.texture,s),u=0;6>u;u++)f(i.__webglFramebuffer[u],t,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+u);t.texture.generateMipmaps&&s&&e.generateMipmap(e.TEXTURE_CUBE_MAP),n.bindTexture(e.TEXTURE_CUBE_MAP,null)}else n.bindTexture(e.TEXTURE_2D,a.__webglTexture),p(e.TEXTURE_2D,t.texture,s),f(i.__webglFramebuffer,t,e.COLOR_ATTACHMENT0,e.TEXTURE_2D),t.texture.generateMipmaps&&s&&e.generateMipmap(e.TEXTURE_2D),n.bindTexture(e.TEXTURE_2D,null);if(t.depthBuffer){if(i=r.get(t),a=!0===t.isWebGLRenderTargetCube,t.depthTexture){if(a)throw Error("target.depthTexture not supported in Cube render targets");if(t&&t.isWebGLRenderTargetCube)throw Error("Depth Texture with cube render targets is not supported!");if(e.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer),!t.depthTexture||!t.depthTexture.isDepthTexture)throw Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");if(r.get(t.depthTexture).__webglTexture&&t.depthTexture.image.width===t.width&&t.depthTexture.image.height===t.height||(t.depthTexture.image.width=t.width,t.depthTexture.image.height=t.height,t.depthTexture.needsUpdate=!0),d(t.depthTexture,0),i=r.get(t.depthTexture).__webglTexture,1026===t.depthTexture.format)e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,i,0);else{if(1027!==t.depthTexture.format)throw Error("Unknown depthTexture format");e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,i,0)}}else if(a)for(i.__webglDepthbuffer=[],a=0;6>a;a++)e.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer[a]),i.__webglDepthbuffer[a]=e.createRenderbuffer(),m(i.__webglDepthbuffer[a],t);else e.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer),i.__webglDepthbuffer=e.createRenderbuffer(),m(i.__webglDepthbuffer,t);e.bindFramebuffer(e.FRAMEBUFFER,null)}},this.updateRenderTargetMipmap=function(t){var i=t.texture;i.generateMipmaps&&l(t)&&1003!==i.minFilter&&1006!==i.minFilter&&(t=t&&t.isWebGLRenderTargetCube?e.TEXTURE_CUBE_MAP:e.TEXTURE_2D,i=r.get(i).__webglTexture,n.bindTexture(t,i),e.generateMipmap(t),n.bindTexture(t,null))}}function qe(){var e={};return{get:function(t){t=t.uuid;var n=e[t];return void 0===n&&(n={},e[t]=n),n},delete:function(t){delete e[t.uuid]},clear:function(){e={}}}}function Ye(e,t,n){function r(t,n,r){var i=new Uint8Array(4),a=e.createTexture();for(e.bindTexture(t,a),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST),t=0;t<r;t++)e.texImage2D(n+t,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,i);return a}function a(t){!0!==x[t]&&(e.enable(t),x[t]=!0)}function o(t){!1!==x[t]&&(e.disable(t),x[t]=!1)}function s(t,r,i,s,l,u,c,h){0!==t?a(e.BLEND):o(e.BLEND),t===_&&h===C||(2===t?h?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ONE,e.ONE,e.ONE,e.ONE)):(e.blendEquation(e.FUNC_ADD),e.blendFunc(e.SRC_ALPHA,e.ONE)):3===t?h?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ZERO,e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ONE_MINUS_SRC_ALPHA)):(e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ZERO,e.ONE_MINUS_SRC_COLOR)):4===t?h?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA)):(e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ZERO,e.SRC_COLOR)):h?(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA)):(e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA)),_=t,C=h),5===t?(l=l||r,u=u||i,c=c||s,r===w&&l===M||(e.blendEquationSeparate(n(r),n(l)),w=r,M=l),i===E&&s===T&&u===S&&c===A||(e.blendFuncSeparate(n(i),n(s),n(u),n(c)),E=i,T=s,S=u,A=c)):A=S=M=T=E=w=null}function l(e){p.setFunc(e)}function u(t){L!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),L=t)}function c(t){0!==t?(a(e.CULL_FACE),t!==P&&(1===t?e.cullFace(e.BACK):2===t?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):o(e.CULL_FACE),P=t}function h(t){void 0===t&&(t=e.TEXTURE0+N-1),U!==t&&(e.activeTexture(t),U=t)}var d=new function(){var t=!1,n=new i,r=null,a=new i;return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,i,o,s){!0===s&&(t*=o,r*=o,i*=o),n.set(t,r,i,o),!1===a.equals(n)&&(e.clearColor(t,r,i,o),a.copy(n))},reset:function(){t=!1,r=null,a.set(0,0,0,1)}}},p=new function(){var t=!1,n=null,r=null,i=null;return{setTest:function(t){t?a(e.DEPTH_TEST):o(e.DEPTH_TEST)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){if(t)switch(t){case 0:e.depthFunc(e.NEVER);break;case 1:e.depthFunc(e.ALWAYS);break;case 2:e.depthFunc(e.LESS);break;case 3:e.depthFunc(e.LEQUAL);break;case 4:e.depthFunc(e.EQUAL);break;case 5:e.depthFunc(e.GEQUAL);break;case 6:e.depthFunc(e.GREATER);break;case 7:e.depthFunc(e.NOTEQUAL);break;default:e.depthFunc(e.LEQUAL)}else e.depthFunc(e.LEQUAL);r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,i=r=n=null}}},f=new function(){var t=!1,n=null,r=null,i=null,s=null,l=null,u=null,c=null,h=null;return{setTest:function(t){t?a(e.STENCIL_TEST):o(e.STENCIL_TEST)},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,a){r===t&&i===n&&s===a||(e.stencilFunc(t,n,a),r=t,i=n,s=a)},setOp:function(t,n,r){l===t&&u===n&&c===r||(e.stencilOp(t,n,r),l=t,u=n,c=r)},setLocked:function(e){t=e},setClear:function(t){h!==t&&(e.clearStencil(t),h=t)},reset:function(){t=!1,h=c=u=l=s=i=r=n=null}}},m=e.getParameter(e.MAX_VERTEX_ATTRIBS),v=new Uint8Array(m),g=new Uint8Array(m),y=new Uint8Array(m),x={},b=null,_=null,w=null,E=null,T=null,M=null,S=null,A=null,C=!1,L=null,P=null,R=null,I=null,D=null,O=null,N=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),z=(m=parseFloat(/^WebGL\ ([0-9])/.exec(e.getParameter(e.VERSION))[1]),1<=parseFloat(m)),U=null,B={},k=new i,F=new i,G={};return G[e.TEXTURE_2D]=r(e.TEXTURE_2D,e.TEXTURE_2D,1),G[e.TEXTURE_CUBE_MAP]=r(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),{buffers:{color:d,depth:p,stencil:f},init:function(){d.setClear(0,0,0,1),p.setClear(1),f.setClear(0),a(e.DEPTH_TEST),l(3),u(!1),c(1),a(e.CULL_FACE),a(e.BLEND),s(1)},initAttributes:function(){for(var e=0,t=v.length;e<t;e++)v[e]=0},enableAttribute:function(n){v[n]=1,0===g[n]&&(e.enableVertexAttribArray(n),g[n]=1),0!==y[n]&&(t.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(n,0),y[n]=0)},enableAttributeAndDivisor:function(t,n,r){v[t]=1,0===g[t]&&(e.enableVertexAttribArray(t),g[t]=1),y[t]!==n&&(r.vertexAttribDivisorANGLE(t,n),y[t]=n)},disableUnusedAttributes:function(){for(var t=0,n=g.length;t!==n;++t)g[t]!==v[t]&&(e.disableVertexAttribArray(t),g[t]=0)},enable:a,disable:o,getCompressedTextureFormats:function(){if(null===b&&(b=[],t.get("WEBGL_compressed_texture_pvrtc")||t.get("WEBGL_compressed_texture_s3tc")||t.get("WEBGL_compressed_texture_etc1")))for(var n=e.getParameter(e.COMPRESSED_TEXTURE_FORMATS),r=0;r<n.length;r++)b.push(n[r]);return b},setBlending:s,setColorWrite:function(e){d.setMask(e)},setDepthTest:function(e){p.setTest(e)},setDepthWrite:function(e){p.setMask(e)},setDepthFunc:l,setStencilTest:function(e){f.setTest(e)},setStencilWrite:function(e){f.setMask(e)},setStencilFunc:function(e,t,n){f.setFunc(e,t,n)},setStencilOp:function(e,t,n){f.setOp(e,t,n)},setFlipSided:u,setCullFace:c,setLineWidth:function(t){t!==R&&(z&&e.lineWidth(t),R=t)},setPolygonOffset:function(t,n,r){t?(a(e.POLYGON_OFFSET_FILL),(I!==n||D!==r)&&(e.polygonOffset(n,r),I=n,D=r)):o(e.POLYGON_OFFSET_FILL)},getScissorTest:function(){return O},setScissorTest:function(t){(O=t)?a(e.SCISSOR_TEST):o(e.SCISSOR_TEST)},activeTexture:h,bindTexture:function(t,n){null===U&&h();var r=B[U];void 0===r&&(r={type:void 0,texture:void 0},B[U]=r),r.type===t&&r.texture===n||(e.bindTexture(t,n||G[t]),r.type=t,r.texture=n)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(e){console.error(e)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(e){console.error(e)}},scissor:function(t){!1===k.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),k.copy(t))},viewport:function(t){!1===F.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),F.copy(t))},reset:function(){for(var t=0;t<g.length;t++)1===g[t]&&(e.disableVertexAttribArray(t),g[t]=0);x={},U=b=null,B={},P=L=_=null,d.reset(),p.reset(),f.reset()}}}function $e(e,t,n){function r(t){if("highp"===t){if(0<e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision&&0<e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision)return"highp";t="mediump"}return"mediump"===t&&0<e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision&&0<e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision?"mediump":"lowp"}var i,a=void 0!==n.precision?n.precision:"highp";(o=r(a))!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",o,"instead."),a=o),n=!0===n.logarithmicDepthBuffer&&!!t.get("EXT_frag_depth");var o=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),s=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),l=e.getParameter(e.MAX_TEXTURE_SIZE),u=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),c=e.getParameter(e.MAX_VERTEX_ATTRIBS),h=e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),d=e.getParameter(e.MAX_VARYING_VECTORS),p=e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),f=0<s,m=!!t.get("OES_texture_float");return{getMaxAnisotropy:function(){if(void 0!==i)return i;var n=t.get("EXT_texture_filter_anisotropic");return i=null!==n?e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:r,precision:a,logarithmicDepthBuffer:n,maxTextures:o,maxVertexTextures:s,maxTextureSize:l,maxCubemapSize:u,maxAttributes:c,maxVertexUniforms:h,maxVaryings:d,maxFragmentUniforms:p,vertexTextures:f,floatFragmentTextures:m,floatVertexTextures:f&&m}}function Ze(e){var t={};return{get:function(n){if(void 0!==t[n])return t[n];var r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case"WEBGL_compressed_texture_etc1":r=e.getExtension("WEBGL_compressed_texture_etc1");break;default:r=e.getExtension(n)}return null===r&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),t[n]=r}}}function Je(){function e(){u.value!==r&&(u.value=r,u.needsUpdate=0<i),n.numPlanes=i,n.numIntersection=0}function t(e,t,r,i){var a=null!==e?e.length:0,o=null;if(0!==a){if(o=u.value,!0!==i||null===o)for(i=r+4*a,t=t.matrixWorldInverse,l.getNormalMatrix(t),(null===o||o.length<i)&&(o=new Float32Array(i)),i=0;i!==a;++i,r+=4)s.copy(e[i]).applyMatrix4(t,l),s.normal.toArray(o,r),o[r+3]=s.constant;u.value=o,u.needsUpdate=!0}return n.numPlanes=a,o}var n=this,r=null,i=0,a=!1,o=!1,s=new J,l=new Z,u={value:null,needsUpdate:!1};this.uniform=u,this.numIntersection=this.numPlanes=0,this.init=function(e,n,o){var s=0!==e.length||n||0!==i||a;return a=n,r=t(e,o,0),i=e.length,s},this.beginShadows=function(){o=!0,t(null)},this.endShadows=function(){o=!1,e()},this.setState=function(n,s,l,c,h,d){if(!a||null===n||0===n.length||o&&!l)o?t(null):e();else{var p=4*(l=o?0:i),f=h.clippingState||null;for(u.value=f,f=t(n,c,p,d),n=0;n!==p;++n)f[n]=r[n];h.clippingState=f,this.numIntersection=s?this.numPlanes:0,this.numPlanes+=l}}}function Qe(e){function t(){Oe.init(),Oe.scissor(J.copy(ue).multiplyScalar(le)),Oe.viewport(te.copy(he).multiplyScalar(le)),Oe.buffers.color.setClear(re.r,re.g,re.b,ie,A)}function n(){Z=G=null,Y="",q=-1,Oe.reset()}function r(e){e.preventDefault(),n(),t(),Ne.clear()}function a(e){(e=e.target).removeEventListener("dispose",a),o(e),Ne.delete(e)}function o(e){var t=Ne.get(e).program;e.program=void 0,void 0!==t&&Be.releaseProgram(t)}function s(e,t){return Math.abs(t[0])-Math.abs(e[0])}function c(e,t){return e.object.renderOrder!==t.object.renderOrder?e.object.renderOrder-t.object.renderOrder:e.material.program&&t.material.program&&e.material.program!==t.material.program?e.material.program.id-t.material.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function h(e,t){return e.object.renderOrder!==t.object.renderOrder?e.object.renderOrder-t.object.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function d(e,t,n,r,i){var a;n.transparent?(r=I,a=++D):(r=P,a=++R),void 0!==(a=r[a])?(a.id=e.id,a.object=e,a.geometry=t,a.material=n,a.z=ye.z,a.group=i):(a={id:e.id,object:e,geometry:t,material:n,z:ye.z,group:i},r.push(a))}function p(e){if(!de.intersectsSphere(e))return!1;var t=pe.numPlanes;if(0===t)return!0;var n=B.clippingPlanes,r=e.center;e=-e.radius;var i=0;do{if(n[i].distanceToPoint(r)<e)return!1}while(++i!==t);return!0}function f(e,t){if(!1!==e.visible){if(0!=(e.layers.mask&t.layers.mask))if(e.isLight)L.push(e);else if(e.isSprite){var n;(n=!1===e.frustumCulled)||(ve.center.set(0,0,0),ve.radius=.7071067811865476,ve.applyMatrix4(e.matrixWorld),n=!0===p(ve)),n&&N.push(e)}else if(e.isLensFlare)z.push(e);else if(e.isImmediateRenderObject)!0===B.sortObjects&&(ye.setFromMatrixPosition(e.matrixWorld),ye.applyMatrix4(ge)),d(e,null,e.material,ye.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.update(),(n=!1===e.frustumCulled)||(null===(n=e.geometry).boundingSphere&&n.computeBoundingSphere(),ve.copy(n.boundingSphere).applyMatrix4(e.matrixWorld),n=!0===p(ve)),n)){if(!0===(a=e.material).visible)if(!0===B.sortObjects&&(ye.setFromMatrixPosition(e.matrixWorld),ye.applyMatrix4(ge)),n=Ue.update(e),a.isMultiMaterial)for(var r=n.groups,i=a.materials,a=0,o=r.length;a<o;a++){var s=r[a],l=i[s.materialIndex];!0===l.visible&&d(e,n,l,ye.z,s)}else d(e,n,a,ye.z,null)}for(a=0,o=(n=e.children).length;a<o;a++)f(n[a],t)}}function m(e,t,n,r){for(var i=0,a=e.length;i<a;i++){var o=(u=e[i]).object,s=u.geometry,l=void 0===r?u.material:r,u=u.group;if(o.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,o.matrixWorld),o.normalMatrix.getNormalMatrix(o.modelViewMatrix),o.onBeforeRender(B,t,n,s,l,u),o.isImmediateRenderObject){v(l);var c=g(n,t.fog,l,o);Y="",o.render((function(e){B.renderBufferImmediate(e,c,l)}))}else B.renderBufferDirect(n,t.fog,s,l,o,u);o.onAfterRender(B,t,n,s,l,u)}}function v(e){2===e.side?Oe.disable(U.CULL_FACE):Oe.enable(U.CULL_FACE),Oe.setFlipSided(1===e.side),!0===e.transparent?Oe.setBlending(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha):Oe.setBlending(0),Oe.setDepthFunc(e.depthFunc),Oe.setDepthTest(e.depthTest),Oe.setDepthWrite(e.depthWrite),Oe.setColorWrite(e.colorWrite),Oe.setPolygonOffset(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)}function g(e,t,n,r){ne=0;var i=Ne.get(n);if(fe&&(me||e!==Z)&&pe.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,e,i,e===Z&&n.id===q),!1===n.needsUpdate&&(void 0===i.program||n.fog&&i.fog!==t||n.lights&&i.lightsHash!==Ee.hash?n.needsUpdate=!0:void 0===i.numClippingPlanes||i.numClippingPlanes===pe.numPlanes&&i.numIntersection===pe.numIntersection||(n.needsUpdate=!0)),n.needsUpdate){e:{var s=Ne.get(n),l=Be.getParameters(n,Ee,t,pe.numPlanes,pe.numIntersection,r),u=Be.getProgramCode(n,l),c=s.program,h=!0;if(void 0===c)n.addEventListener("dispose",a);else if(c.code!==u)o(n);else{if(void 0!==l.shaderID)break e;h=!1}if(h&&(l.shaderID?(c=xi[l.shaderID],s.__webglShader={name:n.type,uniforms:mi.clone(c.uniforms),vertexShader:c.vertexShader,fragmentShader:c.fragmentShader}):s.__webglShader={name:n.type,uniforms:n.uniforms,vertexShader:n.vertexShader,fragmentShader:n.fragmentShader},n.__webglShader=s.__webglShader,c=Be.acquireProgram(n,l,u),s.program=c,n.program=c),l=c.getAttributes(),n.morphTargets)for(u=n.numSupportedMorphTargets=0;u<B.maxMorphTargets;u++)0<=l["morphTarget"+u]&&n.numSupportedMorphTargets++;if(n.morphNormals)for(u=n.numSupportedMorphNormals=0;u<B.maxMorphNormals;u++)0<=l["morphNormal"+u]&&n.numSupportedMorphNormals++;l=s.__webglShader.uniforms,(n.isShaderMaterial||n.isRawShaderMaterial)&&!0!==n.clipping||(s.numClippingPlanes=pe.numPlanes,s.numIntersection=pe.numIntersection,l.clippingPlanes=pe.uniform),s.fog=t,s.lightsHash=Ee.hash,n.lights&&(l.ambientLightColor.value=Ee.ambient,l.directionalLights.value=Ee.directional,l.spotLights.value=Ee.spot,l.rectAreaLights.value=Ee.rectArea,l.pointLights.value=Ee.point,l.hemisphereLights.value=Ee.hemi,l.directionalShadowMap.value=Ee.directionalShadowMap,l.directionalShadowMatrix.value=Ee.directionalShadowMatrix,l.spotShadowMap.value=Ee.spotShadowMap,l.spotShadowMatrix.value=Ee.spotShadowMatrix,l.pointShadowMap.value=Ee.pointShadowMap,l.pointShadowMatrix.value=Ee.pointShadowMatrix),u=s.program.getUniforms(),l=k.seqWithValue(u.seq,l),s.uniformsList=l}n.needsUpdate=!1}var d=!1;h=c=!1,l=(s=i.program).getUniforms(),u=i.__webglShader.uniforms;if(s.id!==G&&(U.useProgram(s.program),G=s.id,h=c=d=!0),n.id!==q&&(q=n.id,c=!0),(d||e!==Z)&&(l.set(U,e,"projectionMatrix"),De.logarithmicDepthBuffer&&l.setValue(U,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),e!==Z&&(Z=e,h=c=!0),(n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.envMap)&&(void 0!==(d=l.map.cameraPosition)&&d.setValue(U,ye.setFromMatrixPosition(e.matrixWorld))),(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&l.setValue(U,"viewMatrix",e.matrixWorldInverse),l.set(U,B,"toneMappingExposure"),l.set(U,B,"toneMappingWhitePoint")),n.skinning&&(l.setOptional(U,r,"bindMatrix"),l.setOptional(U,r,"bindMatrixInverse"),e=r.skeleton)&&(De.floatVertexTextures&&e.useVertexTexture?(l.set(U,e,"boneTexture"),l.set(U,e,"boneTextureWidth"),l.set(U,e,"boneTextureHeight")):l.setOptional(U,e,"boneMatrices")),c){var p;if(n.lights&&(e=h,u.ambientLightColor.needsUpdate=e,u.directionalLights.needsUpdate=e,u.pointLights.needsUpdate=e,u.spotLights.needsUpdate=e,u.rectAreaLights.needsUpdate=e,u.hemisphereLights.needsUpdate=e),t&&n.fog&&(u.fogColor.value=t.color,t.isFog?(u.fogNear.value=t.near,u.fogFar.value=t.far):t.isFogExp2&&(u.fogDensity.value=t.density)),n.isMeshBasicMaterial||n.isMeshLambertMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.isMeshNormalMaterial||n.isMeshDepthMaterial)u.opacity.value=n.opacity,u.diffuse.value=n.color,n.emissive&&u.emissive.value.copy(n.emissive).multiplyScalar(n.emissiveIntensity),u.map.value=n.map,u.specularMap.value=n.specularMap,u.alphaMap.value=n.alphaMap,n.lightMap&&(u.lightMap.value=n.lightMap,u.lightMapIntensity.value=n.lightMapIntensity),n.aoMap&&(u.aoMap.value=n.aoMap,u.aoMapIntensity.value=n.aoMapIntensity),n.map?p=n.map:n.specularMap?p=n.specularMap:n.displacementMap?p=n.displacementMap:n.normalMap?p=n.normalMap:n.bumpMap?p=n.bumpMap:n.roughnessMap?p=n.roughnessMap:n.metalnessMap?p=n.metalnessMap:n.alphaMap?p=n.alphaMap:n.emissiveMap&&(p=n.emissiveMap),void 0!==p&&(p.isWebGLRenderTarget&&(p=p.texture),t=p.offset,p=p.repeat,u.offsetRepeat.value.set(t.x,t.y,p.x,p.y)),u.envMap.value=n.envMap,u.flipEnvMap.value=n.envMap&&n.envMap.isCubeTexture?-1:1,u.reflectivity.value=n.reflectivity,u.refractionRatio.value=n.refractionRatio;n.isLineBasicMaterial?(u.diffuse.value=n.color,u.opacity.value=n.opacity):n.isLineDashedMaterial?(u.diffuse.value=n.color,u.opacity.value=n.opacity,u.dashSize.value=n.dashSize,u.totalSize.value=n.dashSize+n.gapSize,u.scale.value=n.scale):n.isPointsMaterial?(u.diffuse.value=n.color,u.opacity.value=n.opacity,u.size.value=n.size*le,u.scale.value=.5*oe,u.map.value=n.map,null!==n.map&&(p=n.map.offset,n=n.map.repeat,u.offsetRepeat.value.set(p.x,p.y,n.x,n.y))):n.isMeshLambertMaterial?n.emissiveMap&&(u.emissiveMap.value=n.emissiveMap):n.isMeshToonMaterial?(y(u,n),n.gradientMap&&(u.gradientMap.value=n.gradientMap)):n.isMeshPhongMaterial?y(u,n):n.isMeshPhysicalMaterial?(u.clearCoat.value=n.clearCoat,u.clearCoatRoughness.value=n.clearCoatRoughness,x(u,n)):n.isMeshStandardMaterial?x(u,n):n.isMeshDepthMaterial?n.displacementMap&&(u.displacementMap.value=n.displacementMap,u.displacementScale.value=n.displacementScale,u.displacementBias.value=n.displacementBias):n.isMeshNormalMaterial&&(n.bumpMap&&(u.bumpMap.value=n.bumpMap,u.bumpScale.value=n.bumpScale),n.normalMap&&(u.normalMap.value=n.normalMap,u.normalScale.value.copy(n.normalScale)),n.displacementMap&&(u.displacementMap.value=n.displacementMap,u.displacementScale.value=n.displacementScale,u.displacementBias.value=n.displacementBias)),void 0!==u.ltcMat&&(u.ltcMat.value=THREE.UniformsLib.LTC_MAT_TEXTURE),void 0!==u.ltcMag&&(u.ltcMag.value=THREE.UniformsLib.LTC_MAG_TEXTURE),k.upload(U,i.uniformsList,u,B)}return l.set(U,r,"modelViewMatrix"),l.set(U,r,"normalMatrix"),l.setValue(U,"modelMatrix",r.matrixWorld),s}function y(e,t){e.specular.value=t.specular,e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale)),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}function x(e,t){e.roughness.value=t.roughness,e.metalness.value=t.metalness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap),t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale)),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}function b(e){var t;if(1e3===e)return U.REPEAT;if(1001===e)return U.CLAMP_TO_EDGE;if(1002===e)return U.MIRRORED_REPEAT;if(1003===e)return U.NEAREST;if(1004===e)return U.NEAREST_MIPMAP_NEAREST;if(1005===e)return U.NEAREST_MIPMAP_LINEAR;if(1006===e)return U.LINEAR;if(1007===e)return U.LINEAR_MIPMAP_NEAREST;if(1008===e)return U.LINEAR_MIPMAP_LINEAR;if(1009===e)return U.UNSIGNED_BYTE;if(1017===e)return U.UNSIGNED_SHORT_4_4_4_4;if(1018===e)return U.UNSIGNED_SHORT_5_5_5_1;if(1019===e)return U.UNSIGNED_SHORT_5_6_5;if(1010===e)return U.BYTE;if(1011===e)return U.SHORT;if(1012===e)return U.UNSIGNED_SHORT;if(1013===e)return U.INT;if(1014===e)return U.UNSIGNED_INT;if(1015===e)return U.FLOAT;if(1016===e&&null!==(t=Ae.get("OES_texture_half_float")))return t.HALF_FLOAT_OES;if(1021===e)return U.ALPHA;if(1022===e)return U.RGB;if(1023===e)return U.RGBA;if(1024===e)return U.LUMINANCE;if(1025===e)return U.LUMINANCE_ALPHA;if(1026===e)return U.DEPTH_COMPONENT;if(1027===e)return U.DEPTH_STENCIL;if(100===e)return U.FUNC_ADD;if(101===e)return U.FUNC_SUBTRACT;if(102===e)return U.FUNC_REVERSE_SUBTRACT;if(200===e)return U.ZERO;if(201===e)return U.ONE;if(202===e)return U.SRC_COLOR;if(203===e)return U.ONE_MINUS_SRC_COLOR;if(204===e)return U.SRC_ALPHA;if(205===e)return U.ONE_MINUS_SRC_ALPHA;if(206===e)return U.DST_ALPHA;if(207===e)return U.ONE_MINUS_DST_ALPHA;if(208===e)return U.DST_COLOR;if(209===e)return U.ONE_MINUS_DST_COLOR;if(210===e)return U.SRC_ALPHA_SATURATE;if((2001===e||2002===e||2003===e||2004===e)&&null!==(t=Ae.get("WEBGL_compressed_texture_s3tc"))){if(2001===e)return t.COMPRESSED_RGB_S3TC_DXT1_EXT;if(2002===e)return t.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(2003===e)return t.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(2004===e)return t.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((2100===e||2101===e||2102===e||2103===e)&&null!==(t=Ae.get("WEBGL_compressed_texture_pvrtc"))){if(2100===e)return t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(2101===e)return t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(2102===e)return t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(2103===e)return t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(2151===e&&null!==(t=Ae.get("WEBGL_compressed_texture_etc1")))return t.COMPRESSED_RGB_ETC1_WEBGL;if((103===e||104===e)&&null!==(t=Ae.get("EXT_blend_minmax"))){if(103===e)return t.MIN_EXT;if(104===e)return t.MAX_EXT}return 1020===e&&null!==(t=Ae.get("WEBGL_depth_texture"))?t.UNSIGNED_INT_24_8_WEBGL:0}var _=void 0!==(e=e||{}).canvas?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),w=void 0!==e.context?e.context:null,E=void 0!==e.alpha&&e.alpha,T=void 0===e.depth||e.depth,M=void 0===e.stencil||e.stencil,S=void 0!==e.antialias&&e.antialias,A=void 0===e.premultipliedAlpha||e.premultipliedAlpha,C=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,L=[],P=[],R=-1,I=[],D=-1,O=new Float32Array(8),N=[],z=[];this.domElement=_,this.context=null,this.sortObjects=this.autoClearStencil=this.autoClearDepth=this.autoClearColor=this.autoClear=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.physicallyCorrectLights=this.gammaOutput=this.gammaInput=!1,this.toneMappingWhitePoint=this.toneMappingExposure=this.toneMapping=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var U,B=this,G=null,H=null,W=null,q=-1,Y="",Z=null,J=new i,ee=null,te=new i,ne=0,re=new F(0),ie=0,ae=_.width,oe=_.height,le=1,ue=new i(0,0,ae,oe),ce=!1,he=new i(0,0,ae,oe),de=new Q,pe=new Je,fe=!1,me=!1,ve=new $,ge=new u,ye=new l,xe=new u,be=new u,Ee={hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],shadows:[]},Me={calls:0,vertices:0,faces:0,points:0};this.info={render:Me,memory:{geometries:0,textures:0},programs:null};try{if(E={alpha:E,depth:T,stencil:M,antialias:S,premultipliedAlpha:A,preserveDrawingBuffer:C},null===(U=w||_.getContext("webgl",E)||_.getContext("experimental-webgl",E))){if(null!==_.getContext("webgl"))throw"Error creating WebGL context with your selected attributes.";throw"Error creating WebGL context."}void 0===U.getShaderPrecisionFormat&&(U.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}}),_.addEventListener("webglcontextlost",r,!1)}catch(e){console.error("THREE.WebGLRenderer: "+e)}var Ae=new Ze(U);Ae.get("WEBGL_depth_texture"),Ae.get("OES_texture_float"),Ae.get("OES_texture_float_linear"),Ae.get("OES_texture_half_float"),Ae.get("OES_texture_half_float_linear"),Ae.get("OES_standard_derivatives"),Ae.get("ANGLE_instanced_arrays"),Ae.get("OES_element_index_uint")&&(_e.MaxIndex=4294967296);var De=new $e(U,Ae,e),Oe=new Ye(U,Ae,b),Ne=new qe,ze=new Xe(U,Ae,Oe,Ne,De,b,this.info),Ue=new We(U,Ne,this.info),Be=new je(this,De),ke=new Ie;this.info.programs=Be.programs;var Fe,Ge,He,Ve,Qe=new Re(U,Ae,Me),Ke=new Pe(U,Ae,Me);t(),this.context=U,this.capabilities=De,this.extensions=Ae,this.properties=Ne,this.state=Oe;var et=new K(this,Ee,Ue,De);this.shadowMap=et;var tt=new V(this,N),nt=new j(this,z);this.getContext=function(){return U},this.getContextAttributes=function(){return U.getContextAttributes()},this.forceContextLoss=function(){Ae.get("WEBGL_lose_context").loseContext()},this.getMaxAnisotropy=function(){return De.getMaxAnisotropy()},this.getPrecision=function(){return De.precision},this.getPixelRatio=function(){return le},this.setPixelRatio=function(e){void 0!==e&&(le=e,this.setSize(he.z,he.w,!1))},this.getSize=function(){return{width:ae,height:oe}},this.setSize=function(e,t,n){ae=e,oe=t,_.width=e*le,_.height=t*le,!1!==n&&(_.style.width=e+"px",_.style.height=t+"px"),this.setViewport(0,0,e,t)},this.setViewport=function(e,t,n,r){Oe.viewport(he.set(e,t,n,r))},this.setScissor=function(e,t,n,r){Oe.scissor(ue.set(e,t,n,r))},this.setScissorTest=function(e){Oe.setScissorTest(ce=e)},this.getClearColor=function(){return re},this.setClearColor=function(e,t){re.set(e),ie=void 0!==t?t:1,Oe.buffers.color.setClear(re.r,re.g,re.b,ie,A)},this.getClearAlpha=function(){return ie},this.setClearAlpha=function(e){ie=e,Oe.buffers.color.setClear(re.r,re.g,re.b,ie,A)},this.clear=function(e,t,n){var r=0;(void 0===e||e)&&(r|=U.COLOR_BUFFER_BIT),(void 0===t||t)&&(r|=U.DEPTH_BUFFER_BIT),(void 0===n||n)&&(r|=U.STENCIL_BUFFER_BIT),U.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(e,t,n,r){this.setRenderTarget(e),this.clear(t,n,r)},this.resetGLState=n,this.dispose=function(){I=[],D=-1,P=[],R=-1,_.removeEventListener("webglcontextlost",r,!1)},this.renderBufferImmediate=function(e,t,n){Oe.initAttributes();var r=Ne.get(e);if(e.hasPositions&&!r.position&&(r.position=U.createBuffer()),e.hasNormals&&!r.normal&&(r.normal=U.createBuffer()),e.hasUvs&&!r.uv&&(r.uv=U.createBuffer()),e.hasColors&&!r.color&&(r.color=U.createBuffer()),t=t.getAttributes(),e.hasPositions&&(U.bindBuffer(U.ARRAY_BUFFER,r.position),U.bufferData(U.ARRAY_BUFFER,e.positionArray,U.DYNAMIC_DRAW),Oe.enableAttribute(t.position),U.vertexAttribPointer(t.position,3,U.FLOAT,!1,0,0)),e.hasNormals){if(U.bindBuffer(U.ARRAY_BUFFER,r.normal),!n.isMeshPhongMaterial&&!n.isMeshStandardMaterial&&!n.isMeshNormalMaterial&&1===n.shading)for(var i=0,a=3*e.count;i<a;i+=9){var o=e.normalArray,s=(o[i+0]+o[i+3]+o[i+6])/3,l=(o[i+1]+o[i+4]+o[i+7])/3,u=(o[i+2]+o[i+5]+o[i+8])/3;o[i+0]=s,o[i+1]=l,o[i+2]=u,o[i+3]=s,o[i+4]=l,o[i+5]=u,o[i+6]=s,o[i+7]=l,o[i+8]=u}U.bufferData(U.ARRAY_BUFFER,e.normalArray,U.DYNAMIC_DRAW),Oe.enableAttribute(t.normal),U.vertexAttribPointer(t.normal,3,U.FLOAT,!1,0,0)}e.hasUvs&&n.map&&(U.bindBuffer(U.ARRAY_BUFFER,r.uv),U.bufferData(U.ARRAY_BUFFER,e.uvArray,U.DYNAMIC_DRAW),Oe.enableAttribute(t.uv),U.vertexAttribPointer(t.uv,2,U.FLOAT,!1,0,0)),e.hasColors&&0!==n.vertexColors&&(U.bindBuffer(U.ARRAY_BUFFER,r.color),U.bufferData(U.ARRAY_BUFFER,e.colorArray,U.DYNAMIC_DRAW),Oe.enableAttribute(t.color),U.vertexAttribPointer(t.color,3,U.FLOAT,!1,0,0)),Oe.disableUnusedAttributes(),U.drawArrays(U.TRIANGLES,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,n,r,i,a){v(r);var o=g(e,t,r,i),l=!1;if((e=n.id+"_"+o.id+"_"+r.wireframe)!==Y&&(Y=e,l=!0),void 0!==(t=i.morphTargetInfluences)){var u=[];e=0;for(var c=t.length;e<c;e++)l=t[e],u.push([l,e]);u.sort(s),8<u.length&&(u.length=8);var h=n.morphAttributes;for(e=0,c=u.length;e<c;e++)l=u[e],O[e]=l[0],0!==l[0]?(t=l[1],!0===r.morphTargets&&h.position&&n.addAttribute("morphTarget"+e,h.position[t]),!0===r.morphNormals&&h.normal&&n.addAttribute("morphNormal"+e,h.normal[t])):(!0===r.morphTargets&&n.removeAttribute("morphTarget"+e),!0===r.morphNormals&&n.removeAttribute("morphNormal"+e));for(e=u.length,t=O.length;e<t;e++)O[e]=0;o.getUniforms().setValue(U,"morphTargetInfluences",O),l=!0}if(t=n.index,c=n.attributes.position,u=1,!0===r.wireframe&&(t=Ue.getWireframeAttribute(n),u=2),null!==t?(e=Ke).setIndex(t):e=Qe,l){var d;l=void 0;if(n&&n.isInstancedBufferGeometry&&null===(d=Ae.get("ANGLE_instanced_arrays")))console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");else{void 0===l&&(l=0),Oe.initAttributes();h=n.attributes,o=o.getAttributes();var p,f=r.defaultAttributeValues;for(p in o){var m=o[p];if(0<=m)if(void 0!==(M=h[p])){var y=M.normalized,x=M.itemSize,b=(w=Ue.getAttributeProperties(M)).__webglBuffer,_=w.type,w=w.bytesPerElement;if(M.isInterleavedBufferAttribute){var E=M.data,T=E.stride,M=M.offset;E&&E.isInstancedInterleavedBuffer?(Oe.enableAttributeAndDivisor(m,E.meshPerAttribute,d),void 0===n.maxInstancedCount&&(n.maxInstancedCount=E.meshPerAttribute*E.count)):Oe.enableAttribute(m),U.bindBuffer(U.ARRAY_BUFFER,b),U.vertexAttribPointer(m,x,_,y,T*w,(l*T+M)*w)}else M.isInstancedBufferAttribute?(Oe.enableAttributeAndDivisor(m,M.meshPerAttribute,d),void 0===n.maxInstancedCount&&(n.maxInstancedCount=M.meshPerAttribute*M.count)):Oe.enableAttribute(m),U.bindBuffer(U.ARRAY_BUFFER,b),U.vertexAttribPointer(m,x,_,y,0,l*x*w)}else if(void 0!==f&&void 0!==(y=f[p]))switch(y.length){case 2:U.vertexAttrib2fv(m,y);break;case 3:U.vertexAttrib3fv(m,y);break;case 4:U.vertexAttrib4fv(m,y);break;default:U.vertexAttrib1fv(m,y)}}Oe.disableUnusedAttributes()}null!==t&&U.bindBuffer(U.ELEMENT_ARRAY_BUFFER,Ue.getAttributeBuffer(t))}if(d=0,null!==t?d=t.count:void 0!==c&&(d=c.count),t=n.drawRange.start*u,c=null!==a?a.start*u:0,p=Math.max(t,c),0!==(a=Math.max(0,Math.min(d,t+n.drawRange.count*u,c+(null!==a?a.count*u:1/0))-1-p+1))){if(i.isMesh)if(!0===r.wireframe)Oe.setLineWidth(r.wireframeLinewidth*(null===H?le:1)),e.setMode(U.LINES);else switch(i.drawMode){case 0:e.setMode(U.TRIANGLES);break;case 1:e.setMode(U.TRIANGLE_STRIP);break;case 2:e.setMode(U.TRIANGLE_FAN)}else i.isLine?(void 0===(r=r.linewidth)&&(r=1),Oe.setLineWidth(r*(null===H?le:1)),i.isLineSegments?e.setMode(U.LINES):e.setMode(U.LINE_STRIP)):i.isPoints&&e.setMode(U.POINTS);n&&n.isInstancedBufferGeometry?0<n.maxInstancedCount&&e.renderInstances(n,p,a):e.render(p,a)}},this.render=function(e,t,n,r){if(void 0!==t&&!0!==t.isCamera)console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");else{Y="",q=-1,Z=null,!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),t.matrixWorldInverse.getInverse(t.matrixWorld),ge.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),de.setFromMatrix(ge),L.length=0,D=R=-1,N.length=0,z.length=0,me=this.localClippingEnabled,fe=pe.init(this.clippingPlanes,me,t),f(e,t),P.length=R+1,I.length=D+1,!0===B.sortObjects&&(P.sort(c),I.sort(h)),fe&&pe.beginShadows();for(var i=0,a=0,o=(g=L).length;a<o;a++){var s=g[a];s.castShadow&&(Ee.shadows[i++]=s)}Ee.shadows.length=i,et.render(e,t);var l,d,p,v,g=L,y=s=0,x=0,b=t.matrixWorldInverse,_=0,w=0,E=0,T=0,M=0;for(i=0,a=g.length;i<a;i++)if(l=(o=g[i]).color,d=o.intensity,p=o.distance,v=o.shadow&&o.shadow.map?o.shadow.map.texture:null,o.isAmbientLight)s+=l.r*d,y+=l.g*d,x+=l.b*d;else if(o.isDirectionalLight){var S=ke.get(o);S.color.copy(o.color).multiplyScalar(o.intensity),S.direction.setFromMatrixPosition(o.matrixWorld),ye.setFromMatrixPosition(o.target.matrixWorld),S.direction.sub(ye),S.direction.transformDirection(b),(S.shadow=o.castShadow)&&(S.shadowBias=o.shadow.bias,S.shadowRadius=o.shadow.radius,S.shadowMapSize=o.shadow.mapSize),Ee.directionalShadowMap[_]=v,Ee.directionalShadowMatrix[_]=o.shadow.matrix,Ee.directional[_++]=S}else o.isSpotLight?((S=ke.get(o)).position.setFromMatrixPosition(o.matrixWorld),S.position.applyMatrix4(b),S.color.copy(l).multiplyScalar(d),S.distance=p,S.direction.setFromMatrixPosition(o.matrixWorld),ye.setFromMatrixPosition(o.target.matrixWorld),S.direction.sub(ye),S.direction.transformDirection(b),S.coneCos=Math.cos(o.angle),S.penumbraCos=Math.cos(o.angle*(1-o.penumbra)),S.decay=0===o.distance?0:o.decay,(S.shadow=o.castShadow)&&(S.shadowBias=o.shadow.bias,S.shadowRadius=o.shadow.radius,S.shadowMapSize=o.shadow.mapSize),Ee.spotShadowMap[E]=v,Ee.spotShadowMatrix[E]=o.shadow.matrix,Ee.spot[E++]=S):o.isRectAreaLight?((S=ke.get(o)).color.copy(l).multiplyScalar(d/(o.width*o.height)),S.position.setFromMatrixPosition(o.matrixWorld),S.position.applyMatrix4(b),be.identity(),xe.copy(o.matrixWorld),xe.premultiply(b),be.extractRotation(xe),S.halfWidth.set(.5*o.width,0,0),S.halfHeight.set(0,.5*o.height,0),S.halfWidth.applyMatrix4(be),S.halfHeight.applyMatrix4(be),Ee.rectArea[T++]=S):o.isPointLight?((S=ke.get(o)).position.setFromMatrixPosition(o.matrixWorld),S.position.applyMatrix4(b),S.color.copy(o.color).multiplyScalar(o.intensity),S.distance=o.distance,S.decay=0===o.distance?0:o.decay,(S.shadow=o.castShadow)&&(S.shadowBias=o.shadow.bias,S.shadowRadius=o.shadow.radius,S.shadowMapSize=o.shadow.mapSize),Ee.pointShadowMap[w]=v,void 0===Ee.pointShadowMatrix[w]&&(Ee.pointShadowMatrix[w]=new u),ye.setFromMatrixPosition(o.matrixWorld).negate(),Ee.pointShadowMatrix[w].identity().setPosition(ye),Ee.point[w++]=S):o.isHemisphereLight&&((S=ke.get(o)).direction.setFromMatrixPosition(o.matrixWorld),S.direction.transformDirection(b),S.direction.normalize(),S.skyColor.copy(o.color).multiplyScalar(d),S.groundColor.copy(o.groundColor).multiplyScalar(d),Ee.hemi[M++]=S);Ee.ambient[0]=s,Ee.ambient[1]=y,Ee.ambient[2]=x,Ee.directional.length=_,Ee.spot.length=E,Ee.rectArea.length=T,Ee.point.length=w,Ee.hemi.length=M,Ee.hash=_+","+w+","+E+","+T+","+M+","+Ee.shadows.length,fe&&pe.endShadows(),Me.calls=0,Me.vertices=0,Me.faces=0,Me.points=0,void 0===n&&(n=null),this.setRenderTarget(n),null===(g=e.background)?Oe.buffers.color.setClear(re.r,re.g,re.b,ie,A):g&&g.isColor&&(Oe.buffers.color.setClear(g.r,g.g,g.b,1,A),r=!0),(this.autoClear||r)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil),g&&g.isCubeTexture?(void 0===He&&(He=new Ce,Ve=new we(new Te(5,5,5),new X({uniforms:xi.cube.uniforms,vertexShader:xi.cube.vertexShader,fragmentShader:xi.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1}))),He.projectionMatrix.copy(t.projectionMatrix),He.matrixWorld.extractRotation(t.matrixWorld),He.matrixWorldInverse.getInverse(He.matrixWorld),Ve.material.uniforms.tCube.value=g,Ve.modelViewMatrix.multiplyMatrices(He.matrixWorldInverse,Ve.matrixWorld),Ue.update(Ve),B.renderBufferDirect(He,null,Ve.geometry,Ve.material,Ve,null)):g&&g.isTexture&&(void 0===Fe&&(Fe=new Le(-1,1,1,-1,0,1),Ge=new we(new Se(2,2),new se({depthTest:!1,depthWrite:!1,fog:!1}))),Ge.material.map=g,Ue.update(Ge),B.renderBufferDirect(Fe,null,Ge.geometry,Ge.material,Ge,null)),e.overrideMaterial?(r=e.overrideMaterial,m(P,e,t,r),m(I,e,t,r)):(Oe.setBlending(0),m(P,e,t),m(I,e,t)),tt.render(e,t),nt.render(e,t,te),n&&ze.updateRenderTargetMipmap(n),Oe.setDepthTest(!0),Oe.setDepthWrite(!0),Oe.setColorWrite(!0)}},this.setFaceCulling=function(e,t){Oe.setCullFace(e),Oe.setFlipSided(0===t)},this.allocTextureUnit=function(){var e=ne;return e>=De.maxTextures&&console.warn("WebGLRenderer: trying to use "+e+" texture units while this GPU supports only "+De.maxTextures),ne+=1,e},this.setTexture2D=function(){var e=!1;return function(t,n){t&&t.isWebGLRenderTarget&&(e||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),e=!0),t=t.texture),ze.setTexture2D(t,n)}}(),this.setTexture=function(){var e=!1;return function(t,n){e||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),e=!0),ze.setTexture2D(t,n)}}(),this.setTextureCube=function(){var e=!1;return function(t,n){t&&t.isWebGLRenderTargetCube&&(e||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),e=!0),t=t.texture),t&&t.isCubeTexture||Array.isArray(t.image)&&6===t.image.length?ze.setTextureCube(t,n):ze.setTextureCubeDynamic(t,n)}}(),this.getCurrentRenderTarget=function(){return H},this.setRenderTarget=function(e){(H=e)&&void 0===Ne.get(e).__webglFramebuffer&&ze.setupRenderTarget(e);var t,n=e&&e.isWebGLRenderTargetCube;e?(t=Ne.get(e),t=n?t.__webglFramebuffer[e.activeCubeFace]:t.__webglFramebuffer,J.copy(e.scissor),ee=e.scissorTest,te.copy(e.viewport)):(t=null,J.copy(ue).multiplyScalar(le),ee=ce,te.copy(he).multiplyScalar(le)),W!==t&&(U.bindFramebuffer(U.FRAMEBUFFER,t),W=t),Oe.scissor(J),Oe.setScissorTest(ee),Oe.viewport(te),n&&(n=Ne.get(e.texture),U.framebufferTexture2D(U.FRAMEBUFFER,U.COLOR_ATTACHMENT0,U.TEXTURE_CUBE_MAP_POSITIVE_X+e.activeCubeFace,n.__webglTexture,e.activeMipMapLevel))},this.readRenderTargetPixels=function(e,t,n,r,i,a){if(!1===(e&&e.isWebGLRenderTarget))console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");else{var o=Ne.get(e).__webglFramebuffer;if(o){var s=!1;o!==W&&(U.bindFramebuffer(U.FRAMEBUFFER,o),s=!0);try{var l=e.texture,u=l.format,c=l.type;1023!==u&&b(u)!==U.getParameter(U.IMPLEMENTATION_COLOR_READ_FORMAT)?console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format."):1009===c||b(c)===U.getParameter(U.IMPLEMENTATION_COLOR_READ_TYPE)||1015===c&&(Ae.get("OES_texture_float")||Ae.get("WEBGL_color_buffer_float"))||1016===c&&Ae.get("EXT_color_buffer_half_float")?U.checkFramebufferStatus(U.FRAMEBUFFER)===U.FRAMEBUFFER_COMPLETE?0<=t&&t<=e.width-r&&0<=n&&n<=e.height-i&&U.readPixels(t,n,r,i,b(u),b(c),a):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete."):console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.")}finally{s&&U.bindFramebuffer(U.FRAMEBUFFER,W)}}}}}function Ke(e,t){this.name="",this.color=new F(e),this.density=void 0!==t?t:25e-5}function et(e,t,n){this.name="",this.color=new F(e),this.near=void 0!==t?t:1,this.far=void 0!==n?n:1e3}function tt(){re.call(this),this.type="Scene",this.overrideMaterial=this.fog=this.background=null,this.autoUpdate=!0}function nt(e,t,n,r,i){re.call(this),this.lensFlares=[],this.positionScreen=new l,this.customUpdateCallback=void 0,void 0!==e&&this.add(e,t,n,r,i)}function rt(e){W.call(this),this.type="SpriteMaterial",this.color=new F(16777215),this.map=null,this.rotation=0,this.lights=this.fog=!1,this.setValues(e)}function it(e){re.call(this),this.type="Sprite",this.material=void 0!==e?e:new rt}function at(){re.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function ot(e,t,n){if(this.useVertexTexture=void 0===n||n,this.identityMatrix=new u,e=e||[],this.bones=e.slice(0),this.useVertexTexture?(e=Math.sqrt(4*this.bones.length),e=li.nextPowerOfTwo(Math.ceil(e)),this.boneTextureHeight=this.boneTextureWidth=e=Math.max(e,4),this.boneMatrices=new Float32Array(this.boneTextureWidth*this.boneTextureHeight*4),this.boneTexture=new G(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,1023,1015)):this.boneMatrices=new Float32Array(16*this.bones.length),void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else for(console.warn("THREE.Skeleton bonInverses is the wrong length."),this.boneInverses=[],t=0,e=this.bones.length;t<e;t++)this.boneInverses.push(new u)}function st(){re.call(this),this.type="Bone"}function lt(e,t,n){if(we.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new u,this.bindMatrixInverse=new u,e=[],this.geometry&&void 0!==this.geometry.bones){for(var r,i=0,a=this.geometry.bones.length;i<a;++i)r=this.geometry.bones[i],t=new st,e.push(t),t.name=r.name,t.position.fromArray(r.pos),t.quaternion.fromArray(r.rotq),void 0!==r.scl&&t.scale.fromArray(r.scl);for(i=0,a=this.geometry.bones.length;i<a;++i)-1!==(r=this.geometry.bones[i]).parent&&null!==r.parent&&void 0!==e[r.parent]?e[r.parent].add(e[i]):this.add(e[i])}this.normalizeSkinWeights(),this.updateMatrixWorld(!0),this.bind(new ot(e,void 0,n),this.matrixWorld)}function ut(e){W.call(this),this.type="LineBasicMaterial",this.color=new F(16777215),this.linewidth=1,this.linejoin=this.linecap="round",this.lights=!1,this.setValues(e)}function ct(e,t,n){if(1===n)return console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),new ht(e,t);re.call(this),this.type="Line",this.geometry=void 0!==e?e:new _e,this.material=void 0!==t?t:new ut({color:16777215*Math.random()})}function ht(e,t){ct.call(this,e,t),this.type="LineSegments"}function dt(e){W.call(this),this.type="PointsMaterial",this.color=new F(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.lights=!1,this.setValues(e)}function pt(e,t){re.call(this),this.type="Points",this.geometry=void 0!==e?e:new _e,this.material=void 0!==t?t:new dt({color:16777215*Math.random()})}function ft(){re.call(this),this.type="Group"}function mt(e,t,n,i,a,o,s,l,u){r.call(this,e,t,n,i,a,o,s,l,u),this.generateMipmaps=!1;var c=this;!function t(){requestAnimationFrame(t),e.readyState>=e.HAVE_CURRENT_DATA&&(c.needsUpdate=!0)}()}function vt(e,t,n,i,a,o,s,l,u,c,h,d){r.call(this,null,o,s,l,u,c,i,a,h,d),this.image={width:t,height:n},this.mipmaps=e,this.generateMipmaps=this.flipY=!1}function gt(e,t,n,i,a,o,s,l,u){r.call(this,e,t,n,i,a,o,s,l,u),this.needsUpdate=!0}function yt(e,t,n,i,a,o,s,l,u,c){if(1026!==(c=void 0!==c?c:1026)&&1027!==c)throw Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&1026===c&&(n=1012),void 0===n&&1027===c&&(n=1020),r.call(this,null,i,a,o,s,l,c,n,u),this.image={width:e,height:t},this.magFilter=void 0!==s?s:1003,this.minFilter=void 0!==l?l:1003,this.generateMipmaps=this.flipY=!1}function xt(e){function t(e,t){return e-t}_e.call(this),this.type="WireframeGeometry";var n,r,i,a,o,s=[],u=[0,0],c={},h=["a","b","c"];if(e&&e.isGeometry){var d=e.faces;for(n=0,i=d.length;n<i;n++){var p=d[n];for(r=0;3>r;r++)u[0]=p[h[r]],u[1]=p[h[(r+1)%3]],u.sort(t),void 0===c[o=u.toString()]&&(c[o]={index1:u[0],index2:u[1]})}for(o in c)n=c[o],h=e.vertices[n.index1],s.push(h.x,h.y,h.z),h=e.vertices[n.index2],s.push(h.x,h.y,h.z)}else if(e&&e.isBufferGeometry){var f;h=new l;if(null!==e.index){for(d=e.attributes.position,p=e.index,0===(f=e.groups).length&&e.addGroup(0,p.count),e=0,a=f.length;e<a;++e)for(r=(n=f[e]).start,i=n.count,n=r,i=r+i;n<i;n+=3)for(r=0;3>r;r++)u[0]=p.getX(n+r),u[1]=p.getX(n+(r+1)%3),u.sort(t),void 0===c[o=u.toString()]&&(c[o]={index1:u[0],index2:u[1]});for(o in c)n=c[o],h.fromBufferAttribute(d,n.index1),s.push(h.x,h.y,h.z),h.fromBufferAttribute(d,n.index2),s.push(h.x,h.y,h.z)}else for(n=0,i=(d=e.attributes.position).count/3;n<i;n++)for(r=0;3>r;r++)c=3*n+r,h.fromBufferAttribute(d,c),s.push(h.x,h.y,h.z),c=3*n+(r+1)%3,h.fromBufferAttribute(d,c),s.push(h.x,h.y,h.z)}this.addAttribute("position",new ve(s,3))}function bt(e,t,n){be.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n},this.fromBufferGeometry(new _t(e,t,n)),this.mergeVertices()}function _t(e,t,n){_e.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:n};var r,i,a=[],o=[],s=[],l=t+1;for(r=0;r<=n;r++){var u=r/n;for(i=0;i<=t;i++){var c=i/t,h=e(c,u);o.push(h.x,h.y,h.z),s.push(c,u)}}for(r=0;r<n;r++)for(i=0;i<t;i++)e=r*l+i+1,u=(r+1)*l+i+1,c=(r+1)*l+i,a.push(r*l+i,e,c),a.push(e,u,c);this.setIndex(a),this.addAttribute("position",new ve(o,3)),this.addAttribute("uv",new ve(s,2)),this.computeVertexNormals()}function wt(e,t,n,r){be.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r},this.fromBufferGeometry(new Et(e,t,n,r)),this.mergeVertices()}function Et(e,t,r,i){function a(e){u.push(e.x,e.y,e.z)}function o(t,n){var r=3*t;n.x=e[r+0],n.y=e[r+1],n.z=e[r+2]}function s(e,t,n,r){0>r&&1===e.x&&(c[t]=e.x-1),0===n.x&&0===n.z&&(c[t]=r/2/Math.PI+.5)}_e.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i},r=r||1;var u=[],c=[];!function(e){for(var n=new l,r=new l,i=new l,s=0;s<t.length;s+=3){o(t[s+0],n),o(t[s+1],r),o(t[s+2],i);var u,c,h=n,d=r,p=i,f=Math.pow(2,e),m=[];for(u=0;u<=f;u++){m[u]=[];var v=h.clone().lerp(p,u/f),g=d.clone().lerp(p,u/f),y=f-u;for(c=0;c<=y;c++)m[u][c]=0===c&&u===f?v:v.clone().lerp(g,c/y)}for(u=0;u<f;u++)for(c=0;c<2*(f-u)-1;c++)h=Math.floor(c/2),0==c%2?(a(m[u][h+1]),a(m[u+1][h]),a(m[u][h])):(a(m[u][h+1]),a(m[u+1][h+1]),a(m[u+1][h]))}}(i||0),function(e){for(var t=new l,n=0;n<u.length;n+=3)t.x=u[n+0],t.y=u[n+1],t.z=u[n+2],t.normalize().multiplyScalar(e),u[n+0]=t.x,u[n+1]=t.y,u[n+2]=t.z}(r),function(){for(var e=new l,t=0;t<u.length;t+=3)e.x=u[t+0],e.y=u[t+1],e.z=u[t+2],c.push(Math.atan2(e.z,-e.x)/2/Math.PI+.5,1-(Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))/Math.PI+.5));e=new l,t=new l;for(var r=new l,i=new l,a=new n,o=new n,h=new n,d=0,p=0;d<u.length;d+=9,p+=6){e.set(u[d+0],u[d+1],u[d+2]),t.set(u[d+3],u[d+4],u[d+5]),r.set(u[d+6],u[d+7],u[d+8]),a.set(c[p+0],c[p+1]),o.set(c[p+2],c[p+3]),h.set(c[p+4],c[p+5]),i.copy(e).add(t).add(r).divideScalar(3);var f=Math.atan2(i.z,-i.x);s(a,p+0,e,f),s(o,p+2,t,f),s(h,p+4,r,f)}for(e=0;e<c.length;e+=6)t=c[e+0],r=c[e+2],i=c[e+4],a=Math.min(t,r,i),.9<Math.max(t,r,i)&&.1>a&&(.2>t&&(c[e+0]+=1),.2>r&&(c[e+2]+=1),.2>i&&(c[e+4]+=1))}(),this.addAttribute("position",new ve(u,3)),this.addAttribute("normal",new ve(u.slice(),3)),this.addAttribute("uv",new ve(c,2)),this.normalizeNormals()}function Tt(e,t){be.call(this),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Mt(e,t)),this.mergeVertices()}function Mt(e,t){Et.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:t}}function St(e,t){be.call(this),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new At(e,t)),this.mergeVertices()}function At(e,t){Et.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Ct(e,t){be.call(this),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Lt(e,t)),this.mergeVertices()}function Lt(e,t){var n=(1+Math.sqrt(5))/2;Et.call(this,[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:t}}function Pt(e,t){be.call(this),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Rt(e,t)),this.mergeVertices()}function Rt(e,t){var n=(1+Math.sqrt(5))/2,r=1/n;Et.call(this,[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:t}}function It(e,t,n,r,i,a){be.call(this),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i},void 0!==a&&console.warn("THREE.TubeGeometry: taper has been removed."),e=new Dt(e,t,n,r,i),this.tangents=e.tangents,this.normals=e.normals,this.binormals=e.binormals,this.fromBufferGeometry(e),this.mergeVertices()}function Dt(e,t,r,i,a){function o(n){var a=e.getPointAt(n/t),o=s.normals[n];for(n=s.binormals[n],c=0;c<=i;c++){var l=c/i*Math.PI*2,u=Math.sin(l);l=-Math.cos(l);d.x=l*o.x+u*n.x,d.y=l*o.y+u*n.y,d.z=l*o.z+u*n.z,d.normalize(),m.push(d.x,d.y,d.z),h.x=a.x+r*d.x,h.y=a.y+r*d.y,h.z=a.z+r*d.z,f.push(h.x,h.y,h.z)}}_e.call(this),this.type="TubeBufferGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:a},t=t||64,r=r||1,i=i||8,a=a||!1;var s=e.computeFrenetFrames(t,a);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;var u,c,h=new l,d=new l,p=new n,f=[],m=[],v=[],g=[];for(u=0;u<t;u++)o(u);for(o(!1===a?t:0),u=0;u<=t;u++)for(c=0;c<=i;c++)p.x=u/t,p.y=c/i,v.push(p.x,p.y);!function(){for(c=1;c<=t;c++)for(u=1;u<=i;u++){var e=(i+1)*c+(u-1),n=(i+1)*c+u,r=(i+1)*(c-1)+u;g.push((i+1)*(c-1)+(u-1),e,r),g.push(e,n,r)}}(),this.setIndex(g),this.addAttribute("position",new ve(f,3)),this.addAttribute("normal",new ve(m,3)),this.addAttribute("uv",new ve(v,2))}function Ot(e,t,n,r,i,a,o){be.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:a},void 0!==o&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new Nt(e,t,n,r,i,a)),this.mergeVertices()}function Nt(e,t,r,i,a,o){function s(e,t,n,r,i){var a=Math.sin(e);t=n/t*e,n=Math.cos(t),i.x=r*(2+n)*.5*Math.cos(e),i.y=r*(2+n)*a*.5,i.z=r*Math.sin(t)*.5}_e.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:a,q:o},e=e||100,t=t||40,r=Math.floor(r)||64,i=Math.floor(i)||8,a=a||2,o=o||3;var u,c,h=[],d=[],p=[],f=[],m=new l,v=new l;new n;var g=new l,y=new l,x=new l,b=new l,_=new l;for(u=0;u<=r;++u)for(s(c=u/r*a*Math.PI*2,a,o,e,g),s(c+.01,a,o,e,y),b.subVectors(y,g),_.addVectors(y,g),x.crossVectors(b,_),_.crossVectors(x,b),x.normalize(),_.normalize(),c=0;c<=i;++c){var w=c/i*Math.PI*2,E=-t*Math.cos(w);w=t*Math.sin(w);m.x=g.x+(E*_.x+w*x.x),m.y=g.y+(E*_.y+w*x.y),m.z=g.z+(E*_.z+w*x.z),d.push(m.x,m.y,m.z),v.subVectors(m,g).normalize(),p.push(v.x,v.y,v.z),f.push(u/r),f.push(c/i)}for(c=1;c<=r;c++)for(u=1;u<=i;u++)e=(i+1)*c+(u-1),t=(i+1)*c+u,a=(i+1)*(c-1)+u,h.push((i+1)*(c-1)+(u-1),e,a),h.push(e,t,a);this.setIndex(h),this.addAttribute("position",new ve(d,3)),this.addAttribute("normal",new ve(p,3)),this.addAttribute("uv",new ve(f,2))}function zt(e,t,n,r,i){be.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},this.fromBufferGeometry(new Ut(e,t,n,r,i))}function Ut(e,t,n,r,i){_e.call(this),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},e=e||100,t=t||40,n=Math.floor(n)||8,r=Math.floor(r)||6,i=i||2*Math.PI;var a,o,s=[],u=[],c=[],h=[],d=new l,p=new l,f=new l;for(a=0;a<=n;a++)for(o=0;o<=r;o++){var m=o/r*i,v=a/n*Math.PI*2;p.x=(e+t*Math.cos(v))*Math.cos(m),p.y=(e+t*Math.cos(v))*Math.sin(m),p.z=t*Math.sin(v),u.push(p.x,p.y,p.z),d.x=e*Math.cos(m),d.y=e*Math.sin(m),f.subVectors(p,d).normalize(),c.push(f.x,f.y,f.z),h.push(o/r),h.push(a/n)}for(a=1;a<=n;a++)for(o=1;o<=r;o++)e=(r+1)*(a-1)+o-1,t=(r+1)*(a-1)+o,i=(r+1)*a+o,s.push((r+1)*a+o-1,e,i),s.push(e,t,i);this.setIndex(s),this.addAttribute("position",new ve(u,3)),this.addAttribute("normal",new ve(c,3)),this.addAttribute("uv",new ve(h,2))}function Bt(e,t){void 0!==e&&(be.call(this),this.type="ExtrudeGeometry",e=Array.isArray(e)?e:[e],this.addShapeList(e,t),this.computeFaceNormals())}function kt(e,t){var n=(t=t||{}).font;if(!1===(n&&n.isFont))return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new be;n=n.generateShapes(e,t.size,t.curveSegments),t.amount=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),Bt.call(this,n,t),this.type="TextGeometry"}function Ft(e,t,n,r,i,a,o){be.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:a,thetaLength:o},this.fromBufferGeometry(new Gt(e,t,n,r,i,a,o))}function Gt(e,t,n,r,i,a,o){_e.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:a,thetaLength:o},e=e||50,t=Math.max(3,Math.floor(t)||8),n=Math.max(2,Math.floor(n)||6),r=void 0!==r?r:0,i=void 0!==i?i:2*Math.PI;var s,u,c=(a=void 0!==a?a:0)+(o=void 0!==o?o:Math.PI),h=0,d=[],p=new l,f=new l,m=[],v=[],g=[],y=[];for(u=0;u<=n;u++){var x=[],b=u/n;for(s=0;s<=t;s++){var _=s/t;p.x=-e*Math.cos(r+_*i)*Math.sin(a+b*o),p.y=e*Math.cos(a+b*o),p.z=e*Math.sin(r+_*i)*Math.sin(a+b*o),v.push(p.x,p.y,p.z),f.set(p.x,p.y,p.z).normalize(),g.push(f.x,f.y,f.z),y.push(_,1-b),x.push(h++)}d.push(x)}for(u=0;u<n;u++)for(s=0;s<t;s++)e=d[u][s+1],r=d[u][s],i=d[u+1][s],o=d[u+1][s+1],(0!==u||0<a)&&m.push(e,r,o),(u!==n-1||c<Math.PI)&&m.push(r,i,o);this.setIndex(m),this.addAttribute("position",new ve(v,3)),this.addAttribute("normal",new ve(g,3)),this.addAttribute("uv",new ve(y,2))}function Ht(e,t,n,r,i,a){be.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:a},this.fromBufferGeometry(new jt(e,t,n,r,i,a))}function jt(e,t,r,i,a,o){_e.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:a,thetaLength:o},e=e||20,t=t||50,a=void 0!==a?a:0,o=void 0!==o?o:2*Math.PI,r=void 0!==r?Math.max(3,r):8;var s,u,c=[],h=[],d=[],p=[],f=e,m=(t-e)/(i=void 0!==i?Math.max(1,i):1),v=new l,g=new n;for(s=0;s<=i;s++){for(u=0;u<=r;u++)e=a+u/r*o,v.x=f*Math.cos(e),v.y=f*Math.sin(e),h.push(v.x,v.y,v.z),d.push(0,0,1),g.x=(v.x/t+1)/2,g.y=(v.y/t+1)/2,p.push(g.x,g.y);f+=m}for(s=0;s<i;s++)for(t=s*(r+1),u=0;u<r;u++)a=(e=u+t)+r+1,o=e+r+2,f=e+1,c.push(e,a,f),c.push(a,o,f);this.setIndex(c),this.addAttribute("position",new ve(h,3)),this.addAttribute("normal",new ve(d,3)),this.addAttribute("uv",new ve(p,2))}function Vt(e,t,n,r){be.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},this.fromBufferGeometry(new Wt(e,t,n,r)),this.mergeVertices()}function Wt(e,t,r,i){_e.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t)||12,r=r||0,i=i||2*Math.PI,i=li.clamp(i,0,2*Math.PI);var a,o,s=[],u=[],c=[],h=1/t,d=new l,p=new n;for(a=0;a<=t;a++){o=r+a*h*i;var f=Math.sin(o),m=Math.cos(o);for(o=0;o<=e.length-1;o++)d.x=e[o].x*f,d.y=e[o].y,d.z=e[o].x*m,u.push(d.x,d.y,d.z),p.x=a/t,p.y=o/(e.length-1),c.push(p.x,p.y)}for(a=0;a<t;a++)for(o=0;o<e.length-1;o++)h=(r=o+a*e.length)+e.length,d=r+e.length+1,p=r+1,s.push(r,h,p),s.push(h,d,p);if(this.setIndex(s),this.addAttribute("position",new ve(u,3)),this.addAttribute("uv",new ve(c,2)),this.computeVertexNormals(),i===2*Math.PI)for(i=this.attributes.normal.array,s=new l,u=new l,c=new l,r=t*e.length*3,o=a=0;a<e.length;a++,o+=3)s.x=i[o+0],s.y=i[o+1],s.z=i[o+2],u.x=i[r+o+0],u.y=i[r+o+1],u.z=i[r+o+2],c.addVectors(s,u).normalize(),i[o+0]=i[r+o+0]=c.x,i[o+1]=i[r+o+1]=c.y,i[o+2]=i[r+o+2]=c.z}function Xt(e,t){be.call(this),this.type="ShapeGeometry","object"==typeof t&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new qt(e,t)),this.mergeVertices()}function qt(e,t){function n(e){var n,s,u=i.length/3,c=(e=e.extractPoints(t)).shape,h=e.holes;if(!1===Ti.isClockWise(c))for(c=c.reverse(),e=0,n=h.length;e<n;e++)s=h[e],!0===Ti.isClockWise(s)&&(h[e]=s.reverse());var d=Ti.triangulateShape(c,h);for(e=0,n=h.length;e<n;e++)s=h[e],c=c.concat(s);for(e=0,n=c.length;e<n;e++)s=c[e],i.push(s.x,s.y,0),a.push(0,0,1),o.push(s.x,s.y);for(e=0,n=d.length;e<n;e++)c=d[e],r.push(c[0]+u,c[1]+u,c[2]+u),l+=3}_e.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:t},t=t||12;var r=[],i=[],a=[],o=[],s=0,l=0;if(!1===Array.isArray(e))n(e);else for(var u=0;u<e.length;u++)n(e[u]),this.addGroup(s,l,u),s+=l,l=0;this.setIndex(r),this.addAttribute("position",new ve(i,3)),this.addAttribute("normal",new ve(a,3)),this.addAttribute("uv",new ve(o,2))}function Yt(e,t){function n(e,t){return e-t}_e.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:t};var r,i,a=[],o=Math.cos(li.DEG2RAD*(void 0!==t?t:1)),s=[0,0],l={},u=["a","b","c"];e.isBufferGeometry?(i=new be).fromBufferGeometry(e):i=e.clone(),i.mergeVertices(),i.computeFaceNormals();for(var c=i.vertices,h=0,d=(i=i.faces).length;h<d;h++)for(var p=i[h],f=0;3>f;f++)s[0]=p[u[f]],s[1]=p[u[(f+1)%3]],s.sort(n),void 0===l[r=s.toString()]?l[r]={index1:s[0],index2:s[1],face1:h,face2:void 0}:l[r].face2=h;for(r in l)(void 0===(s=l[r]).face2||i[s.face1].normal.dot(i[s.face2].normal)<=o)&&(u=c[s.index1],a.push(u.x,u.y,u.z),u=c[s.index2],a.push(u.x,u.y,u.z));this.addAttribute("position",new ve(a,3))}function $t(e,t,n,r,i,a,o,s){be.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:o,thetaLength:s},this.fromBufferGeometry(new Zt(e,t,n,r,i,a,o,s)),this.mergeVertices()}function Zt(e,t,r,i,a,o,s,u){function c(r){var a,o,c,g=new n,b=new l,_=0,w=!0===r?e:t,E=!0===r?1:-1;for(o=v,a=1;a<=i;a++)p.push(0,y*E,0),f.push(0,E,0),m.push(.5,.5),v++;for(c=v,a=0;a<=i;a++){var T=a/i*u+s,M=Math.cos(T);T=Math.sin(T);b.x=w*T,b.y=y*E,b.z=w*M,p.push(b.x,b.y,b.z),f.push(0,E,0),g.x=.5*M+.5,g.y=.5*T*E+.5,m.push(g.x,g.y),v++}for(a=0;a<i;a++)g=o+a,b=c+a,!0===r?d.push(b,b+1,g):d.push(b+1,b,g),_+=3;h.addGroup(x,_,!0===r?1:2),x+=_}_e.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:a,openEnded:o,thetaStart:s,thetaLength:u};var h=this;e=void 0!==e?e:20,t=void 0!==t?t:20,r=void 0!==r?r:100,i=Math.floor(i)||8,a=Math.floor(a)||1,o=void 0!==o&&o,s=void 0!==s?s:0,u=void 0!==u?u:2*Math.PI;var d=[],p=[],f=[],m=[],v=0,g=[],y=r/2,x=0;!function(){var n,o,c=new l,b=new l,_=0,w=(t-e)/r;for(o=0;o<=a;o++){var E=[],T=o/a,M=T*(t-e)+e;for(n=0;n<=i;n++){var S=n/i,A=S*u+s,C=Math.sin(A);A=Math.cos(A);b.x=M*C,b.y=-T*r+y,b.z=M*A,p.push(b.x,b.y,b.z),c.set(C,w,A).normalize(),f.push(c.x,c.y,c.z),m.push(S,1-T),E.push(v++)}g.push(E)}for(n=0;n<i;n++)for(o=0;o<a;o++)c=g[o+1][n],b=g[o+1][n+1],w=g[o][n+1],d.push(g[o][n],c,w),d.push(c,b,w),_+=6;h.addGroup(x,_,0),x+=_}(),!1===o&&(0<e&&c(!0),0<t&&c(!1)),this.setIndex(d),this.addAttribute("position",new ve(p,3)),this.addAttribute("normal",new ve(f,3)),this.addAttribute("uv",new ve(m,2))}function Jt(e,t,n,r,i,a,o){$t.call(this,0,e,t,n,r,i,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:a,thetaLength:o}}function Qt(e,t,n,r,i,a,o){Zt.call(this,0,e,t,n,r,i,a,o),this.type="ConeBufferGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:a,thetaLength:o}}function Kt(e,t,n,r){be.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},this.fromBufferGeometry(new en(e,t,n,r))}function en(e,t,r,i){_e.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},e=e||50,t=void 0!==t?Math.max(3,t):8,r=void 0!==r?r:0,i=void 0!==i?i:2*Math.PI;var a,o,s=[],u=[],c=[],h=[],d=new l,p=new n;for(u.push(0,0,0),c.push(0,0,1),h.push(.5,.5),o=0,a=3;o<=t;o++,a+=3){var f=r+o/t*i;d.x=e*Math.cos(f),d.y=e*Math.sin(f),u.push(d.x,d.y,d.z),c.push(0,0,1),p.x=(u[a]/e+1)/2,p.y=(u[a+1]/e+1)/2,h.push(p.x,p.y)}for(a=1;a<=t;a++)s.push(a,a+1,0);this.setIndex(s),this.addAttribute("position",new ve(u,3)),this.addAttribute("normal",new ve(c,3)),this.addAttribute("uv",new ve(h,2))}function tn(){X.call(this,{uniforms:mi.merge([yi.lights,{opacity:{value:1}}]),vertexShader:vi.shadow_vert,fragmentShader:vi.shadow_frag}),this.transparent=this.lights=!0,Object.defineProperties(this,{opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(e){this.uniforms.opacity.value=e}}})}function nn(e){X.call(this,e),this.type="RawShaderMaterial"}function rn(e){this.uuid=li.generateUUID(),this.type="MultiMaterial",this.materials=Array.isArray(e)?e:[],this.visible=!0}function an(e){W.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new F(16777215),this.metalness=this.roughness=.5,this.lightMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new F(0),this.emissiveIntensity=1,this.bumpMap=this.emissiveMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new n(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.envMap=this.alphaMap=this.metalnessMap=this.roughnessMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(e)}function on(e){an.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoatRoughness=this.clearCoat=0,this.setValues(e)}function sn(e){W.call(this),this.type="MeshPhongMaterial",this.color=new F(16777215),this.specular=new F(1118481),this.shininess=30,this.lightMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new F(0),this.emissiveIntensity=1,this.bumpMap=this.emissiveMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new n(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.envMap=this.alphaMap=this.specularMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(e)}function ln(e){sn.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(e)}function un(e){W.call(this,e),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new n(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.morphNormals=this.morphTargets=this.skinning=this.lights=this.fog=!1,this.setValues(e)}function cn(e){W.call(this),this.type="MeshLambertMaterial",this.color=new F(16777215),this.lightMap=this.map=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new F(0),this.emissiveIntensity=1,this.envMap=this.alphaMap=this.specularMap=this.emissiveMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(e)}function hn(e){W.call(this),this.type="LineDashedMaterial",this.color=new F(16777215),this.scale=this.linewidth=1,this.dashSize=3,this.gapSize=1,this.lights=!1,this.setValues(e)}function dn(e,t,n){var r=this,i=!1,a=0,o=0;this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){o++,!1===i&&void 0!==r.onStart&&r.onStart(e,a,o),i=!0},this.itemEnd=function(e){a++,void 0!==r.onProgress&&r.onProgress(e,a,o),a===o&&(i=!1,void 0!==r.onLoad)&&r.onLoad()},this.itemError=function(e){void 0!==r.onError&&r.onError(e)}}function pn(e){this.manager=void 0!==e?e:Ci}function fn(e){this.manager=void 0!==e?e:Ci,this._parser=null}function mn(e){this.manager=void 0!==e?e:Ci,this._parser=null}function vn(e){this.manager=void 0!==e?e:Ci}function gn(e){this.manager=void 0!==e?e:Ci}function yn(e){this.manager=void 0!==e?e:Ci}function xn(e,t){re.call(this),this.type="Light",this.color=new F(e),this.intensity=void 0!==t?t:1,this.receiveShadow=void 0}function bn(e,t,n){xn.call(this,e,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(re.DefaultUp),this.updateMatrix(),this.groundColor=new F(t)}function _n(e){this.camera=e,this.bias=0,this.radius=1,this.mapSize=new n(512,512),this.map=null,this.matrix=new u}function wn(){_n.call(this,new Ce(50,1,.5,500))}function En(e,t,n,r,i,a){xn.call(this,e,t),this.type="SpotLight",this.position.copy(re.DefaultUp),this.updateMatrix(),this.target=new re,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==a?a:1,this.shadow=new wn}function Tn(e,t,n,r){xn.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==r?r:1,this.shadow=new _n(new Ce(90,1,.5,500))}function Mn(){_n.call(this,new Le(-5,5,5,-5,.5,500))}function Sn(e,t){xn.call(this,e,t),this.type="DirectionalLight",this.position.copy(re.DefaultUp),this.updateMatrix(),this.target=new re,this.shadow=new Mn}function An(e,t){xn.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}function Cn(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n}function Ln(e,t,n,r){Cn.call(this,e,t,n,r),this._offsetNext=this._weightNext=this._offsetPrev=this._weightPrev=-0}function Pn(e,t,n,r){Cn.call(this,e,t,n,r)}function Rn(e,t,n,r){Cn.call(this,e,t,n,r)}function In(e,t,n,r){if(void 0===e)throw Error("track name is undefined");if(void 0===t||0===t.length)throw Error("no keyframes in track named "+e);this.name=e,this.times=Pi.convertArray(t,this.TimeBufferType),this.values=Pi.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation),this.validate(),this.optimize()}function Dn(e,t,n,r){In.call(this,e,t,n,r)}function On(e,t,n,r){Cn.call(this,e,t,n,r)}function Nn(e,t,n,r){In.call(this,e,t,n,r)}function zn(e,t,n,r){In.call(this,e,t,n,r)}function Un(e,t,n,r){In.call(this,e,t,n,r)}function Bn(e,t,n){In.call(this,e,t,n)}function kn(e,t,n,r){In.call(this,e,t,n,r)}function Fn(e,t,n,r){In.apply(this,arguments)}function Gn(e,t,n){this.name=e,this.tracks=n,this.duration=void 0!==t?t:-1,this.uuid=li.generateUUID(),0>this.duration&&this.resetDuration(),this.optimize()}function Hn(e){this.manager=void 0!==e?e:Ci,this.textures={}}function jn(e){this.manager=void 0!==e?e:Ci}function Vn(){this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}}function Wn(e){"boolean"==typeof e&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),e=void 0),this.manager=void 0!==e?e:Ci,this.withCredentials=!1}function Xn(e){this.manager=void 0!==e?e:Ci,this.texturePath=""}function qn(e,t,n,r,i){var a=e*e;return(2*n-2*r+(t=.5*(r-t))+(i=.5*(i-n)))*e*a+(-3*n+3*r-2*t-i)*a+t*e+n}function Yn(e,t,n,r){var i=1-e;return i*i*t+2*(1-e)*e*n+e*e*r}function $n(e,t,n,r,i){var a=1-e,o=1-e;return a*a*a*t+3*o*o*e*n+3*(1-e)*e*e*r+e*e*e*i}function Zn(){}function Jn(e,t){this.v1=e,this.v2=t}function Qn(){this.curves=[],this.autoClose=!1}function Kn(e,t,n,r,i,a,o,s){this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=r,this.aStartAngle=i,this.aEndAngle=a,this.aClockwise=o,this.aRotation=s||0}function er(e){this.points=void 0===e?[]:e}function tr(e,t,n,r){this.v0=e,this.v1=t,this.v2=n,this.v3=r}function nr(e,t,n){this.v0=e,this.v1=t,this.v2=n}function rr(e){Qn.call(this),this.currentPoint=new n,e&&this.fromPoints(e)}function ir(){rr.apply(this,arguments),this.holes=[]}function ar(){this.subPaths=[],this.currentPath=null}function or(e){this.data=e}function sr(e){this.manager=void 0!==e?e:Ci}function lr(e){this.manager=void 0!==e?e:Ci}function ur(e,t,n,r){xn.call(this,e,t),this.type="RectAreaLight",this.position.set(0,1,0),this.updateMatrix(),this.width=void 0!==n?n:10,this.height=void 0!==r?r:10}function cr(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Ce,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Ce,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}function hr(e,t,n){re.call(this),this.type="CubeCamera";var r=new Ce(90,1,e,t);r.up.set(0,-1,0),r.lookAt(new l(1,0,0)),this.add(r);var i=new Ce(90,1,e,t);i.up.set(0,-1,0),i.lookAt(new l(-1,0,0)),this.add(i);var a=new Ce(90,1,e,t);a.up.set(0,0,1),a.lookAt(new l(0,1,0)),this.add(a);var s=new Ce(90,1,e,t);s.up.set(0,0,-1),s.lookAt(new l(0,-1,0)),this.add(s);var u=new Ce(90,1,e,t);u.up.set(0,-1,0),u.lookAt(new l(0,0,1)),this.add(u);var c=new Ce(90,1,e,t);c.up.set(0,-1,0),c.lookAt(new l(0,0,-1)),this.add(c),this.renderTarget=new o(n,n,{format:1022,magFilter:1006,minFilter:1006}),this.updateCubeMap=function(e,t){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,o=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,n.activeCubeFace=0,e.render(t,r,n),n.activeCubeFace=1,e.render(t,i,n),n.activeCubeFace=2,e.render(t,a,n),n.activeCubeFace=3,e.render(t,s,n),n.activeCubeFace=4,e.render(t,u,n),n.texture.generateMipmaps=o,n.activeCubeFace=5,e.render(t,c,n),e.setRenderTarget(null)}}function dr(){re.call(this),this.type="AudioListener",this.context=Ni.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null}function pr(e){re.call(this),this.type="Audio",this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.loop=!1,this.startTime=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function fr(e){pr.call(this,e),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function mr(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=void 0!==t?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}function vr(e,t,n){switch(this.binding=e,this.valueSize=n,e=Float64Array,t){case"quaternion":t=this._slerp;break;case"string":case"bool":e=Array,t=this._select;break;default:t=this._lerp}this.buffer=new e(4*n),this._mixBufferRegion=t,this.referenceCount=this.useCount=this.cumulativeWeight=0}function gr(e,t,n){this.path=t,this.parsedPath=n||gr.parseTrackName(t),this.node=gr.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}function yr(e){this.uuid=li.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var n=0,r=arguments.length;n!==r;++n)t[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}function xr(e,t,n){this._mixer=e,this._clip=t,this._localRoot=n||null,t=(e=t.tracks).length,n=Array(t);for(var r={endingStart:2400,endingEnd:2400},i=0;i!==t;++i){var a=e[i].createInterpolant(null);n[i]=a,a.settings=r}this._interpolantSettings=r,this._interpolants=n,this._propertyBindings=Array(t),this._weightInterpolant=this._timeScaleInterpolant=this._byClipCacheIndex=this._cacheIndex=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this._effectiveWeight=this.weight=this._effectiveTimeScale=this.timeScale=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtEnd=this.zeroSlopeAtStart=!0}function br(e){this._root=e,this._initMemoryManager(),this.time=this._accuIndex=0,this.timeScale=1}function _r(e,t){"string"==typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=t),this.value=e}function wr(){_e.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function Er(e,t,n,r){this.uuid=li.generateUUID(),this.data=e,this.itemSize=t,this.offset=n,this.normalized=!0===r}function Tr(e,t){this.uuid=li.generateUUID(),this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function Mr(e,t,n){Tr.call(this,e,t),this.meshPerAttribute=n||1}function Sr(e,t,n){le.call(this,e,t),this.meshPerAttribute=n||1}function Ar(e,t,n,r){this.ray=new ee(e,t),this.near=n||0,this.far=r||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function Cr(e,t){return e.distance-t.distance}function Lr(e,t,n,r){if(!1!==e.visible&&(e.raycast(t,n),!0===r)){r=0;for(var i=(e=e.children).length;r<i;r++)Lr(e[r],t,n,!0)}}function Pr(e){this.autoStart=void 0===e||e,this.elapsedTime=this.oldTime=this.startTime=0,this.running=!1}function Rr(e,t,n){return this.radius=void 0!==e?e:1,this.phi=void 0!==t?t:0,this.theta=void 0!==n?n:0,this}function Ir(e,t,n){return this.radius=void 0!==e?e:1,this.theta=void 0!==t?t:0,this.y=void 0!==n?n:0,this}function Dr(e,t){we.call(this,e,t),this.animationsMap={},this.animationsList=[];var n=this.geometry.morphTargets.length;this.createAnimation("__default",0,n-1,n/1),this.setAnimationWeight("__default",1)}function Or(e){re.call(this),this.material=e,this.render=function(e){}}function Nr(e,t,n,r){this.object=e,this.size=void 0!==t?t:1,e=void 0!==n?n:16711680,r=void 0!==r?r:1,t=0,(n=this.object.geometry)&&n.isGeometry?t=3*n.faces.length:n&&n.isBufferGeometry&&(t=n.attributes.normal.count),n=new _e,t=new ve(6*t,3),n.addAttribute("position",t),ht.call(this,n,new ut({color:e,linewidth:r})),this.matrixAutoUpdate=!1,this.update()}function zr(e){re.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,e=new _e;for(var t=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],n=0,r=1;32>n;n++,r++){var i=n/32*Math.PI*2,a=r/32*Math.PI*2;t.push(Math.cos(i),Math.sin(i),1,Math.cos(a),Math.sin(a),1)}e.addAttribute("position",new ve(t,3)),t=new ut({fog:!1}),this.cone=new ht(e,t),this.add(this.cone),this.update()}function Ur(e){this.bones=this.getBoneList(e);for(var t=new _e,n=[],r=[],i=new F(0,0,1),a=new F(0,1,0),o=0;o<this.bones.length;o++){var s=this.bones[o];s.parent&&s.parent.isBone&&(n.push(0,0,0),n.push(0,0,0),r.push(i.r,i.g,i.b),r.push(a.r,a.g,a.b))}t.addAttribute("position",new ve(n,3)),t.addAttribute("color",new ve(r,3)),n=new ut({vertexColors:2,depthTest:!1,depthWrite:!1,transparent:!0}),ht.call(this,t,n),this.root=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function Br(e,t){this.light=e,this.light.updateMatrixWorld();var n=new Gt(t,4,2),r=new se({wireframe:!0,fog:!1});r.color.copy(this.light.color).multiplyScalar(this.light.intensity),we.call(this,n,r),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1}function kr(e){re.call(this),this.light=e,this.light.updateMatrixWorld();var t=new se({color:e.color,fog:!1});e=new se({color:e.color,fog:!1,wireframe:!0});var n=new _e;n.addAttribute("position",new le(new Float32Array(18),3)),this.add(new we(n,t)),this.add(new we(n,e)),this.update()}function Fr(e,t){re.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;var n=new At(t);n.rotateY(.5*Math.PI);var r=new se({vertexColors:2,wireframe:!0}),i=n.getAttribute("position");i=new Float32Array(3*i.count);n.addAttribute("color",new le(i,3)),this.add(new we(n,r)),this.update()}function Gr(e,t,n,r){e=e||10,t=t||10,n=new F(void 0!==n?n:4473924),r=new F(void 0!==r?r:8947848);var i=t/2,a=e/t,o=e/2;e=[];for(var s=[],l=0,u=0,c=-o;l<=t;l++,c+=a){e.push(-o,0,c,o,0,c),e.push(c,0,-o,c,0,o);var h=l===i?n:r;h.toArray(s,u),u+=3,h.toArray(s,u),u+=3,h.toArray(s,u),u+=3,h.toArray(s,u),u+=3}(t=new _e).addAttribute("position",new ve(e,3)),t.addAttribute("color",new ve(s,3)),n=new ut({vertexColors:2}),ht.call(this,t,n)}function Hr(e,t,n,r,i,a){e=e||10,t=t||16,n=n||8,r=r||64,i=new F(void 0!==i?i:4473924),a=new F(void 0!==a?a:8947848);var o,s,l,u,c,h=[],d=[];for(l=0;l<=t;l++)s=l/t*2*Math.PI,o=Math.sin(s)*e,s=Math.cos(s)*e,h.push(0,0,0),h.push(o,0,s),c=1&l?i:a,d.push(c.r,c.g,c.b),d.push(c.r,c.g,c.b);for(l=0;l<=n;l++)for(c=1&l?i:a,u=e-e/n*l,t=0;t<r;t++)s=t/r*2*Math.PI,o=Math.sin(s)*u,s=Math.cos(s)*u,h.push(o,0,s),d.push(c.r,c.g,c.b),s=(t+1)/r*2*Math.PI,o=Math.sin(s)*u,s=Math.cos(s)*u,h.push(o,0,s),d.push(c.r,c.g,c.b);(e=new _e).addAttribute("position",new ve(h,3)),e.addAttribute("color",new ve(d,3)),h=new ut({vertexColors:2}),ht.call(this,e,h)}function jr(e,t,n,r){this.object=e,this.size=void 0!==t?t:1,e=void 0!==n?n:16776960,r=void 0!==r?r:1,t=0,(n=this.object.geometry)&&n.isGeometry?t=n.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead."),n=new _e,t=new ve(6*t,3),n.addAttribute("position",t),ht.call(this,n,new ut({color:e,linewidth:r})),this.matrixAutoUpdate=!1,this.update()}function Vr(e,t){re.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,void 0===t&&(t=1);var n=new _e;n.addAttribute("position",new ve([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));var r=new ut({fog:!1});this.add(new ct(n,r)),(n=new _e).addAttribute("position",new ve([0,0,0,0,0,1],3)),this.add(new ct(n,r)),this.update()}function Wr(e){function t(e,t,r){n(e,r),n(t,r)}function n(e,t){a.push(0,0,0),o.push(t.r,t.g,t.b),void 0===s[e]&&(s[e]=[]),s[e].push(a.length/3-1)}var r=new _e,i=new ut({color:16777215,vertexColors:1}),a=[],o=[],s={},l=new F(16755200),u=new F(16711680),c=new F(43775),h=new F(16777215),d=new F(3355443);t("n1","n2",l),t("n2","n4",l),t("n4","n3",l),t("n3","n1",l),t("f1","f2",l),t("f2","f4",l),t("f4","f3",l),t("f3","f1",l),t("n1","f1",l),t("n2","f2",l),t("n3","f3",l),t("n4","f4",l),t("p","n1",u),t("p","n2",u),t("p","n3",u),t("p","n4",u),t("u1","u2",c),t("u2","u3",c),t("u3","u1",c),t("c","t",h),t("p","c",d),t("cn1","cn2",d),t("cn3","cn4",d),t("cf1","cf2",d),t("cf3","cf4",d),r.addAttribute("position",new ve(a,3)),r.addAttribute("color",new ve(o,3)),ht.call(this,r,i),this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update()}function Xr(e,t){void 0===t&&(t=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new _e;i.setIndex(new le(n,1)),i.addAttribute("position",new le(r,3)),ht.call(this,i,new ut({color:t})),void 0!==e&&this.update(e)}function qr(e,t,n,r,i,a){re.call(this),void 0===r&&(r=16776960),void 0===n&&(n=1),void 0===i&&(i=.2*n),void 0===a&&(a=.2*i),void 0===Di&&((Di=new _e).addAttribute("position",new ve([0,0,0,0,1,0],3)),(Oi=new Zt(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(t),this.line=new ct(Di,new ut({color:r})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new we(Oi,new se({color:r})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,i,a)}function Yr(e){var t=[0,0,0,e=e||1,0,0,0,0,0,0,e,0,0,0,0,0,0,e];(e=new _e).addAttribute("position",new ve(t,3)),e.addAttribute("color",new ve([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3)),t=new ut({vertexColors:2}),ht.call(this,e,t)}function $r(){var e=0,t=0,n=0,r=0;return{initCatmullRom:function(i,a,o,s,l){e=a,t=i=l*(o-i),n=-3*a+3*o-2*i-(s=l*(s-a)),r=2*a-2*o+i+s},initNonuniformCatmullRom:function(i,a,o,s,l,u,c){e=a,t=i=((a-i)/l-(o-i)/(l+u)+(o-a)/u)*u,n=-3*a+3*o-2*i-(s=((o-a)/u-(s-a)/(u+c)+(s-o)/c)*u),r=2*a-2*o+i+s},calc:function(i){var a=i*i;return e+t*i+n*a+r*a*i}}}function Zr(e){this.points=e||[],this.closed=!1}function Jr(e,t,n,r){this.v0=e,this.v1=t,this.v2=n,this.v3=r}function Qr(e,t,n){this.v0=e,this.v1=t,this.v2=n}function Kr(e,t){this.v1=e,this.v2=t}function ei(e,t,n,r,i,a){Kn.call(this,e,t,n,n,r,i,a)}function ti(e){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Zr.call(this,e),this.type="catmullrom",this.closed=!0}function ni(e){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),Zr.call(this,e),this.type="catmullrom"}function ri(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),Zr.call(this,e),this.type="catmullrom"}void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Math.sign&&(Math.sign=function(e){return 0>e?-1:0<e?1:+e}),void 0===Function.prototype.name&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}),t.prototype={addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)},removeEventListener:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;var n,r=[],i=t.length;for(n=0;n<i;n++)r[n]=t[n];for(n=0;n<i;n++)r[n].call(this,e)}}}};var ii,ai,oi,si,li={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:(ai="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),oi=Array(36),si=0,function(){for(var e=0;36>e;e++)8===e||13===e||18===e||23===e?oi[e]="-":14===e?oi[e]="4":(2>=si&&(si=33554432+16777216*Math.random()|0),ii=15&si,si>>=4,oi[e]=ai[19===e?3&ii|8:ii]);return oi.join("")}),clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*li.DEG2RAD},radToDeg:function(e){return e*li.RAD2DEG},isPowerOfTwo:function(e){return 0==(e&e-1)&&0!==e},nearestPowerOfTwo:function(e){return Math.pow(2,Math.round(Math.log(e)/Math.LN2))},nextPowerOfTwo:function(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}};n.prototype={constructor:n,isVector2:!0,get width(){return this.x},set width(e){this.x=e},get height(){return this.y},set height(e){this.y=e},set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.y=this.x=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return isFinite(e)?(this.x*=e,this.y*=e):this.y=this.x=0,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:function(){var e,t;return function(r,i){return void 0===e&&(e=new n,t=new n),e.set(r,r),t.set(i,i),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.multiplyScalar(Math.max(e,Math.min(t,n))/n)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x),this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length())},angle:function(){var e=Math.atan2(this.y,this.x);return 0>e&&(e+=2*Math.PI),e},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x;return t*t+(e=this.y-e.y)*e},distanceToManhattan:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.multiplyScalar(e/this.length())},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,a=this.y-e.y;return this.x=i*n-a*r+e.x,this.y=i*r+a*n+e.y,this}};var ui=0;r.DEFAULT_IMAGE=void 0,r.DEFAULT_MAPPING=300,r.prototype={constructor:r,isTexture:!0,set needsUpdate(e){!0===e&&this.version++},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){if(void 0!==e.textures[this.uuid])return e.textures[this.uuid];var t={metadata:{version:4.4,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var n=this.image;if(void 0===n.uuid&&(n.uuid=li.generateUUID()),void 0===e.images[n.uuid]){var r,i=e.images,a=n.uuid,o=n.uuid;void 0!==n.toDataURL?r=n:((r=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")).width=n.width,r.height=n.height,r.getContext("2d").drawImage(n,0,0,n.width,n.height)),r=2048<r.width||2048<r.height?r.toDataURL("image/jpeg",.6):r.toDataURL("image/png"),i[a]={uuid:o,url:r}}t.image=n.uuid}return e.textures[this.uuid]=t},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(300===this.mapping){if(e.multiply(this.repeat),e.add(this.offset),0>e.x||1<e.x)switch(this.wrapS){case 1e3:e.x-=Math.floor(e.x);break;case 1001:e.x=0>e.x?0:1;break;case 1002:e.x=1===Math.abs(Math.floor(e.x)%2)?Math.ceil(e.x)-e.x:e.x-Math.floor(e.x)}if(0>e.y||1<e.y)switch(this.wrapT){case 1e3:e.y-=Math.floor(e.y);break;case 1001:e.y=0>e.y?0:1;break;case 1002:e.y=1===Math.abs(Math.floor(e.y)%2)?Math.ceil(e.y)-e.y:e.y-Math.floor(e.y)}this.flipY&&(e.y=1-e.y)}}},Object.assign(r.prototype,t.prototype),i.prototype={constructor:i,isVector4:!0,set:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this},setScalar:function(e){return this.w=this.z=this.y=this.x=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return isFinite(e)?(this.x*=e,this.y*=e,this.z*=e,this.w*=e):this.w=this.z=this.y=this.x=0,this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=this.w;return e=e.elements,this.x=e[0]*t+e[4]*n+e[8]*r+e[12]*i,this.y=e[1]*t+e[5]*n+e[9]*r+e[13]*i,this.z=e[2]*t+e[6]*n+e[10]*r+e[14]*i,this.w=e[3]*t+e[7]*n+e[11]*r+e[15]*i,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return 1e-4>t?(this.x=1,this.z=this.y=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,n,r,i=(e=e.elements)[0];r=e[4];var a=e[8],o=e[1],s=e[5],l=e[9];n=e[2],t=e[6];var u=e[10];return.01>Math.abs(r-o)&&.01>Math.abs(a-n)&&.01>Math.abs(l-t)?.1>Math.abs(r+o)&&.1>Math.abs(a+n)&&.1>Math.abs(l+t)&&.1>Math.abs(i+s+u-3)?(this.set(1,0,0,0),this):(e=Math.PI,u=(u+1)/2,r=(r+o)/4,a=(a+n)/4,l=(l+t)/4,(i=(i+1)/2)>(s=(s+1)/2)&&i>u?.01>i?(t=0,r=n=.707106781):(n=r/(t=Math.sqrt(i)),r=a/t):s>u?.01>s?(t=.707106781,n=0,r=.707106781):(t=r/(n=Math.sqrt(s)),r=l/n):.01>u?(n=t=.707106781,r=0):(t=a/(r=Math.sqrt(u)),n=l/r),this.set(t,n,r,e),this):(e=Math.sqrt((t-l)*(t-l)+(a-n)*(a-n)+(o-r)*(o-r)),.001>Math.abs(e)&&(e=1),this.x=(t-l)/e,this.y=(a-n)/e,this.z=(o-r)/e,this.w=Math.acos((i+s+u-1)/2),this)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(){var e,t;return function(n,r){return void 0===e&&(e=new i,t=new i),e.set(n,n,n,n),t.set(r,r,r,r),this.clamp(e,t)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x),this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y),this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z),this.w=0>this.w?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(e){return this.multiplyScalar(e/this.length())},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}},a.prototype={constructor:a,isWebGLRenderTarget:!0,setSize:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}},Object.assign(a.prototype,t.prototype),o.prototype=Object.create(a.prototype),o.prototype.constructor=o,o.prototype.isWebGLRenderTargetCube=!0,s.prototype={constructor:s,get x(){return this._x},set x(e){this._x=e,this.onChangeCallback()},get y(){return this._y},set y(e){this._y=e,this.onChangeCallback()},get z(){return this._z},set z(e){this._z=e,this.onChangeCallback()},get w(){return this._w},set w(e){this._w=e,this.onChangeCallback()},set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this.onChangeCallback(),this},setFromEuler:function(e,t){if(!1===(e&&e.isEuler))throw Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=Math.cos(e._x/2),r=Math.cos(e._y/2),i=Math.cos(e._z/2),a=Math.sin(e._x/2),o=Math.sin(e._y/2),s=Math.sin(e._z/2),l=e.order;return"XYZ"===l?(this._x=a*r*i+n*o*s,this._y=n*o*i-a*r*s,this._z=n*r*s+a*o*i,this._w=n*r*i-a*o*s):"YXZ"===l?(this._x=a*r*i+n*o*s,this._y=n*o*i-a*r*s,this._z=n*r*s-a*o*i,this._w=n*r*i+a*o*s):"ZXY"===l?(this._x=a*r*i-n*o*s,this._y=n*o*i+a*r*s,this._z=n*r*s+a*o*i,this._w=n*r*i-a*o*s):"ZYX"===l?(this._x=a*r*i-n*o*s,this._y=n*o*i+a*r*s,this._z=n*r*s-a*o*i,this._w=n*r*i+a*o*s):"YZX"===l?(this._x=a*r*i+n*o*s,this._y=n*o*i+a*r*s,this._z=n*r*s-a*o*i,this._w=n*r*i-a*o*s):"XZY"===l&&(this._x=a*r*i-n*o*s,this._y=n*o*i-a*r*s,this._z=n*r*s+a*o*i,this._w=n*r*i+a*o*s),!1!==t&&this.onChangeCallback(),this},setFromAxisAngle:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this.onChangeCallback(),this},setFromRotationMatrix:function(e){var t=(n=e.elements)[0];e=n[4];var n,r=n[8],i=n[1],a=n[5],o=n[9],s=n[2],l=n[6],u=t+a+(n=n[10]);return 0<u?(t=.5/Math.sqrt(u+1),this._w=.25/t,this._x=(l-o)*t,this._y=(r-s)*t,this._z=(i-e)*t):t>a&&t>n?(t=2*Math.sqrt(1+t-a-n),this._w=(l-o)/t,this._x=.25*t,this._y=(e+i)/t,this._z=(r+s)/t):a>n?(t=2*Math.sqrt(1+a-t-n),this._w=(r-s)/t,this._x=(e+i)/t,this._y=.25*t,this._z=(o+l)/t):(t=2*Math.sqrt(1+n-t-a),this._w=(i-e)/t,this._x=(r+s)/t,this._y=(o+l)/t,this._z=.25*t),this.onChangeCallback(),this},setFromUnitVectors:function(){var e,t;return function(n,r){return void 0===e&&(e=new l),1e-6>(t=n.dot(r)+1)?(t=0,Math.abs(n.x)>Math.abs(n.z)?e.set(-n.y,n.x,0):e.set(0,-n.z,n.y)):e.crossVectors(n,r),this._x=e.x,this._y=e.y,this._z=e.z,this._w=t,this.normalize()}}(),inverse:function(){return this.conjugate().normalize()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._z=this._y=this._x=0,this._w=1):(e=1/e,this._x*=e,this._y*=e,this._z*=e,this._w*=e),this.onChangeCallback(),this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){var n=e._x,r=e._y,i=e._z,a=e._w,o=t._x,s=t._y,l=t._z,u=t._w;return this._x=n*u+a*o+r*l-i*s,this._y=r*u+a*s+i*o-n*l,this._z=i*u+a*l+n*s-r*o,this._w=a*u-n*o-r*s-i*l,this.onChangeCallback(),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,a=this._w;if(0>(l=a*e._w+n*e._x+r*e._y+i*e._z)?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,l=-l):this.copy(e),1<=l)return this._w=a,this._x=n,this._y=r,this._z=i,this;var o=Math.sqrt(1-l*l);if(.001>Math.abs(o))return this._w=.5*(a+this._w),this._x=.5*(n+this._x),this._y=.5*(r+this._y),this._z=.5*(i+this._z),this;var s=Math.atan2(o,l),l=Math.sin((1-t)*s)/o;o=Math.sin(t*s)/o;return this._w=a*l+this._w*o,this._x=n*l+this._x*o,this._y=r*l+this._y*o,this._z=i*l+this._z*o,this.onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}},Object.assign(s,{slerp:function(e,t,n,r){return n.copy(e).slerp(t,r)},slerpFlat:function(e,t,n,r,i,a,o){var s=n[r+0],l=n[r+1],u=n[r+2];n=n[r+3],r=i[a+0];var c=i[a+1],h=i[a+2];if(n!==(i=i[a+3])||s!==r||l!==c||u!==h){a=1-o;var d=s*r+l*c+u*h+n*i,p=0<=d?1:-1,f=1-d*d;f>Number.EPSILON&&(f=Math.sqrt(f),d=Math.atan2(f,d*p),a=Math.sin(a*d)/f,o=Math.sin(o*d)/f),s=s*a+r*(p*=o),l=l*a+c*p,u=u*a+h*p,n=n*a+i*p,a===1-o&&(s*=o=1/Math.sqrt(s*s+l*l+u*u+n*n),l*=o,u*=o,n*=o)}e[t]=s,e[t+1]=l,e[t+2]=u,e[t+3]=n}}),l.prototype={constructor:l,isVector3:!0,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},setScalar:function(e){return this.z=this.y=this.x=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return isFinite(e)?(this.x*=e,this.y*=e,this.z*=e):this.z=this.y=this.x=0,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(){var e;return function(t){return!1===(t&&t.isEuler)&&console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),void 0===e&&(e=new s),this.applyQuaternion(e.setFromEuler(t))}}(),applyAxisAngle:function(){var e;return function(t,n){return void 0===e&&(e=new s),this.applyQuaternion(e.setFromAxisAngle(t,n))}}(),applyMatrix3:function(e){var t=this.x,n=this.y,r=this.z;return e=e.elements,this.x=e[0]*t+e[3]*n+e[6]*r,this.y=e[1]*t+e[4]*n+e[7]*r,this.z=e[2]*t+e[5]*n+e[8]*r,this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z;return e=e.elements,this.x=e[0]*t+e[4]*n+e[8]*r+e[12],this.y=e[1]*t+e[5]*n+e[9]*r+e[13],this.z=e[2]*t+e[6]*n+e[10]*r+e[14],this.divideScalar(e[3]*t+e[7]*n+e[11]*r+e[15])},applyQuaternion:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,a=e.y,o=e.z,s=(e=e.w)*t+a*r-o*n,l=e*n+o*t-i*r,u=e*r+i*n-a*t;t=-i*t-a*n-o*r;return this.x=s*e+t*-i+l*-o-u*-a,this.y=l*e+t*-a+u*-i-s*-o,this.z=u*e+t*-o+s*-a-l*-i,this},project:function(){var e;return function(t){return void 0===e&&(e=new u),e.multiplyMatrices(t.projectionMatrix,e.getInverse(t.matrixWorld)),this.applyMatrix4(e)}}(),unproject:function(){var e;return function(t){return void 0===e&&(e=new u),e.multiplyMatrices(t.matrixWorld,e.getInverse(t.projectionMatrix)),this.applyMatrix4(e)}}(),transformDirection:function(e){var t=this.x,n=this.y,r=this.z;return e=e.elements,this.x=e[0]*t+e[4]*n+e[8]*r,this.y=e[1]*t+e[5]*n+e[9]*r,this.z=e[2]*t+e[6]*n+e[10]*r,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(){var e,t;return function(n,r){return void 0===e&&(e=new l,t=new l),e.set(n,n,n),t.set(r,r,r),this.clamp(e,t)}}(),clampLength:function(e,t){var n=this.length();return this.multiplyScalar(Math.max(e,Math.min(t,n))/n)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x),this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y),this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(e){return this.multiplyScalar(e/this.length())},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,n){return this.subVectors(t,e).multiplyScalar(n).add(e)},cross:function(e,t){if(void 0!==t)return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t);var n=this.x,r=this.y,i=this.z;return this.x=r*e.z-i*e.y,this.y=i*e.x-n*e.z,this.z=n*e.y-r*e.x,this},crossVectors:function(e,t){var n=e.x,r=e.y,i=e.z,a=t.x,o=t.y,s=t.z;return this.x=r*s-i*o,this.y=i*a-n*s,this.z=n*o-r*a,this},projectOnVector:function(e){var t=e.dot(this)/e.lengthSq();return this.copy(e).multiplyScalar(t)},projectOnPlane:function(){var e;return function(t){return void 0===e&&(e=new l),e.copy(this).projectOnVector(t),this.sub(e)}}(),reflect:function(){var e;return function(t){return void 0===e&&(e=new l),this.sub(e.copy(t).multiplyScalar(2*this.dot(t)))}}(),angleTo:function(e){return e=this.dot(e)/Math.sqrt(this.lengthSq()*e.lengthSq()),Math.acos(li.clamp(e,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n+(e=this.z-e.z)*e},distanceToManhattan:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){var t=Math.sin(e.phi)*e.radius;return this.x=t*Math.sin(e.theta),this.y=Math.cos(e.phi)*e.radius,this.z=t*Math.cos(e.theta),this},setFromCylindrical:function(e){return this.x=e.radius*Math.sin(e.theta),this.y=e.y,this.z=e.radius*Math.cos(e.theta),this},setFromMatrixPosition:function(e){return this.setFromMatrixColumn(e,3)},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length();return e=this.setFromMatrixColumn(e,2).length(),this.x=t,this.y=n,this.z=e,this},setFromMatrixColumn:function(e,t){if("number"==typeof e){console.warn("THREE.Vector3: setFromMatrixColumn now expects ( matrix, index ).");var n=e;e=t,t=n}return this.fromArray(e.elements,4*t)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}},u.prototype={constructor:u,isMatrix4:!0,set:function(e,t,n,r,i,a,o,s,l,u,c,h,d,p,f,m){var v=this.elements;return v[0]=e,v[4]=t,v[8]=n,v[12]=r,v[1]=i,v[5]=a,v[9]=o,v[13]=s,v[2]=l,v[6]=u,v[10]=c,v[14]=h,v[3]=d,v[7]=p,v[11]=f,v[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new u).fromArray(this.elements)},copy:function(e){return this.elements.set(e.elements),this},copyPosition:function(e){var t=this.elements;return e=e.elements,t[12]=e[12],t[13]=e[13],t[14]=e[14],this},extractBasis:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this},extractRotation:function(){var e;return function(t){void 0===e&&(e=new l);var n=this.elements,r=t.elements,i=1/e.setFromMatrixColumn(t,0).length(),a=1/e.setFromMatrixColumn(t,1).length();return t=1/e.setFromMatrixColumn(t,2).length(),n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[4]=r[4]*a,n[5]=r[5]*a,n[6]=r[6]*a,n[8]=r[8]*t,n[9]=r[9]*t,n[10]=r[10]*t,this}}(),makeRotationFromEuler:function(e){!1===(e&&e.isEuler)&&console.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,n=e.x,r=e.y,i=e.z,a=Math.cos(n),o=(n=Math.sin(n),Math.cos(r)),s=(r=Math.sin(r),Math.cos(i));i=Math.sin(i);if("XYZ"===e.order){e=a*s;var l=a*i,u=n*s,c=n*i;t[0]=o*s,t[4]=-o*i,t[8]=r,t[1]=l+u*r,t[5]=e-c*r,t[9]=-n*o,t[2]=c-e*r,t[6]=u+l*r,t[10]=a*o}else"YXZ"===e.order?(e=o*s,l=o*i,u=r*s,c=r*i,t[0]=e+c*n,t[4]=u*n-l,t[8]=a*r,t[1]=a*i,t[5]=a*s,t[9]=-n,t[2]=l*n-u,t[6]=c+e*n,t[10]=a*o):"ZXY"===e.order?(e=o*s,l=o*i,u=r*s,c=r*i,t[0]=e-c*n,t[4]=-a*i,t[8]=u+l*n,t[1]=l+u*n,t[5]=a*s,t[9]=c-e*n,t[2]=-a*r,t[6]=n,t[10]=a*o):"ZYX"===e.order?(e=a*s,l=a*i,u=n*s,c=n*i,t[0]=o*s,t[4]=u*r-l,t[8]=e*r+c,t[1]=o*i,t[5]=c*r+e,t[9]=l*r-u,t[2]=-r,t[6]=n*o,t[10]=a*o):"YZX"===e.order?(e=a*o,l=a*r,u=n*o,c=n*r,t[0]=o*s,t[4]=c-e*i,t[8]=u*i+l,t[1]=i,t[5]=a*s,t[9]=-n*s,t[2]=-r*s,t[6]=l*i+u,t[10]=e-c*i):"XZY"===e.order&&(e=a*o,l=a*r,u=n*o,c=n*r,t[0]=o*s,t[4]=-i,t[8]=r*s,t[1]=e*i+c,t[5]=a*s,t[9]=l*i-u,t[2]=u*i-l,t[6]=n*s,t[10]=c*i+e);return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z,a=e.w,o=i+i;e=n*(u=n+n);var s=n*(c=r+r),l=(n=n*o,r*c),u=(r=r*o,i=i*o,a*u),c=a*c;a*=o;return t[0]=1-(l+i),t[4]=s-a,t[8]=n+c,t[1]=s+a,t[5]=1-(e+i),t[9]=r-u,t[2]=n-c,t[6]=r+u,t[10]=1-(e+l),t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},lookAt:function(){var e,t,n;return function(r,i,a){void 0===e&&(e=new l,t=new l,n=new l);var o=this.elements;return n.subVectors(r,i).normalize(),0===n.lengthSq()&&(n.z=1),e.crossVectors(a,n).normalize(),0===e.lengthSq()&&(n.z+=1e-4,e.crossVectors(a,n).normalize()),t.crossVectors(n,e),o[0]=e.x,o[4]=t.x,o[8]=n.x,o[1]=e.y,o[5]=t.y,o[9]=n.y,o[2]=e.z,o[6]=t.z,o[10]=n.z,this}}(),multiply:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[4],s=n[8],l=n[12],u=n[1],c=n[5],h=n[9],d=n[13],p=n[2],f=n[6],m=n[10],v=n[14],g=n[3],y=n[7],x=n[11],b=(n=n[15],r[0]),_=r[4],w=r[8],E=r[12],T=r[1],M=r[5],S=r[9],A=r[13],C=r[2],L=r[6],P=r[10],R=r[14],I=r[3],D=r[7],O=r[11];r=r[15];return i[0]=a*b+o*T+s*C+l*I,i[4]=a*_+o*M+s*L+l*D,i[8]=a*w+o*S+s*P+l*O,i[12]=a*E+o*A+s*R+l*r,i[1]=u*b+c*T+h*C+d*I,i[5]=u*_+c*M+h*L+d*D,i[9]=u*w+c*S+h*P+d*O,i[13]=u*E+c*A+h*R+d*r,i[2]=p*b+f*T+m*C+v*I,i[6]=p*_+f*M+m*L+v*D,i[10]=p*w+f*S+m*P+v*O,i[14]=p*E+f*A+m*R+v*r,i[3]=g*b+y*T+x*C+n*I,i[7]=g*_+y*M+x*L+n*D,i[11]=g*w+y*S+x*P+n*O,i[15]=g*E+y*A+x*R+n*r,this},multiplyToArray:function(e,t,n){var r=this.elements;return this.multiplyMatrices(e,t),n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},applyToBufferAttribute:function(){var e;return function(t){void 0===e&&(e=new l);for(var n=0,r=t.count;n<r;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.applyMatrix4(this),t.setXYZ(n,e.x,e.y,e.z);return t}}(),determinant:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],a=e[1],o=e[5],s=e[9],l=e[13],u=e[2],c=e[6],h=e[10],d=e[14];return e[3]*(+i*s*c-r*l*c-i*o*h+n*l*h+r*o*d-n*s*d)+e[7]*(+t*s*d-t*l*h+i*a*h-r*a*d+r*l*u-i*s*u)+e[11]*(+t*l*c-t*o*d-i*a*c+n*a*d+i*o*u-n*l*u)+e[15]*(-r*o*u-t*s*c+t*o*h+r*a*c-n*a*h+n*s*u)},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},setPosition:function(e){var t=this.elements;return t[12]=e.x,t[13]=e.y,t[14]=e.z,this},getInverse:function(e,t){var n,r=this.elements,i=(n=e.elements)[0],a=n[1],o=n[2],s=n[3],l=n[4],u=n[5],c=n[6],h=n[7],d=n[8],p=n[9],f=n[10],m=n[11],v=n[12],g=n[13],y=n[14],x=p*y*h-g*f*h+g*c*m-u*y*m-p*c*(n=n[15])+u*f*n,b=v*f*h-d*y*h-v*c*m+l*y*m+d*c*n-l*f*n,_=d*g*h-v*p*h+v*u*m-l*g*m-d*u*n+l*p*n,w=v*p*c-d*g*c-v*u*f+l*g*f+d*u*y-l*p*y,E=i*x+a*b+o*_+s*w;if(0===E){if(!0===t)throw Error("THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0");return console.warn("THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0"),this.identity()}return E=1/E,r[0]=x*E,r[1]=(g*f*s-p*y*s-g*o*m+a*y*m+p*o*n-a*f*n)*E,r[2]=(u*y*s-g*c*s+g*o*h-a*y*h-u*o*n+a*c*n)*E,r[3]=(p*c*s-u*f*s-p*o*h+a*f*h+u*o*m-a*c*m)*E,r[4]=b*E,r[5]=(d*y*s-v*f*s+v*o*m-i*y*m-d*o*n+i*f*n)*E,r[6]=(v*c*s-l*y*s-v*o*h+i*y*h+l*o*n-i*c*n)*E,r[7]=(l*f*s-d*c*s+d*o*h-i*f*h-l*o*m+i*c*m)*E,r[8]=_*E,r[9]=(v*p*s-d*g*s-v*a*m+i*g*m+d*a*n-i*p*n)*E,r[10]=(l*g*s-v*u*s+v*a*h-i*g*h-l*a*n+i*u*n)*E,r[11]=(d*u*s-l*p*s-d*a*h+i*p*h+l*a*m-i*u*m)*E,r[12]=w*E,r[13]=(d*g*o-v*p*o+v*a*f-i*g*f-d*a*y+i*p*y)*E,r[14]=(v*u*o-l*g*o-v*a*c+i*g*c+l*a*y-i*u*y)*E,r[15]=(l*p*o-d*u*o+d*a*c-i*p*c-l*a*f+i*u*f)*E,this},scale:function(e){var t=this.elements,n=e.x,r=e.y;return e=e.z,t[0]*=n,t[4]*=r,t[8]*=e,t[1]*=n,t[5]*=r,t[9]*=e,t[2]*=n,t[6]*=r,t[10]*=e,t[3]*=n,t[7]*=r,t[11]*=e,this},getMaxScaleOnAxis:function(){var e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))},makeTranslation:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e);return e=Math.sin(e),this.set(1,0,0,0,0,t,-e,0,0,e,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e);return e=Math.sin(e),this.set(t,0,e,0,0,1,0,0,-e,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e);return e=Math.sin(e),this.set(t,-e,0,0,e,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,a=e.x,o=e.y,s=e.z,l=i*a,u=i*o;return this.set(l*a+n,l*o-r*s,l*s+r*o,0,l*o+r*s,u*o+n,u*s-r*a,0,l*s-r*o,u*s+r*a,i*s*s+n,0,0,0,0,1),this},makeScale:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,n){return this.makeRotationFromQuaternion(t),this.scale(n),this.setPosition(e),this},decompose:function(){var e,t;return function(n,r,i){void 0===e&&(e=new l,t=new u);var a=this.elements,o=e.set(a[0],a[1],a[2]).length(),s=e.set(a[4],a[5],a[6]).length(),c=e.set(a[8],a[9],a[10]).length();0>this.determinant()&&(o=-o),n.x=a[12],n.y=a[13],n.z=a[14],t.elements.set(this.elements),n=1/o;a=1/s;var h=1/c;return t.elements[0]*=n,t.elements[1]*=n,t.elements[2]*=n,t.elements[4]*=a,t.elements[5]*=a,t.elements[6]*=a,t.elements[8]*=h,t.elements[9]*=h,t.elements[10]*=h,r.setFromRotationMatrix(t),i.x=o,i.y=s,i.z=c,this}}(),makePerspective:function(e,t,n,r,i,a){void 0===a&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var o=this.elements;return o[0]=2*i/(t-e),o[4]=0,o[8]=(t+e)/(t-e),o[12]=0,o[1]=0,o[5]=2*i/(n-r),o[9]=(n+r)/(n-r),o[13]=0,o[2]=0,o[6]=0,o[10]=-(a+i)/(a-i),o[14]=-2*a*i/(a-i),o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this},makeOrthographic:function(e,t,n,r,i,a){var o=this.elements,s=1/(t-e),l=1/(n-r),u=1/(a-i);return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-(t+e)*s,o[1]=0,o[5]=2*l,o[9]=0,o[13]=-(n+r)*l,o[2]=0,o[6]=0,o[10]=-2*u,o[14]=-(a+i)*u,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this},equals:function(e){var t=this.elements;e=e.elements;for(var n=0;16>n;n++)if(t[n]!==e[n])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;16>n;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}},c.prototype=Object.create(r.prototype),c.prototype.constructor=c,c.prototype.isCubeTexture=!0,Object.defineProperty(c.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}});var ci=new r,hi=new c,di=[],pi=[];B.prototype.setValue=function(e,t){for(var n=this.seq,r=0,i=n.length;r!==i;++r){var a=n[r];a.setValue(e,t[a.id])}};var fi=/([\w\d_]+)(\])?(\[|\.)?/g;k.prototype.setValue=function(e,t,n){void 0!==(t=this.map[t])&&t.setValue(e,n,this.renderer)},k.prototype.set=function(e,t,n){var r=this.map[n];void 0!==r&&r.setValue(e,t[n],this.renderer)},k.prototype.setOptional=function(e,t,n){void 0!==(t=t[n])&&this.setValue(e,n,t)},k.upload=function(e,t,n,r){for(var i=0,a=t.length;i!==a;++i){var o=t[i],s=n[o.id];!1!==s.needsUpdate&&o.setValue(e,s.value,r)}},k.seqWithValue=function(e,t){for(var n=[],r=0,i=e.length;r!==i;++r){var a=e[r];a.id in t&&n.push(a)}return n};var mi={merge:function(e){for(var t={},n=0;n<e.length;n++){var r,i=this.clone(e[n]);for(r in i)t[r]=i[r]}return t},clone:function(e){var t,n={};for(t in e)for(var r in n[t]={},e[t]){var i=e[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?n[t][r]=i.clone():Array.isArray(i)?n[t][r]=i.slice():n[t][r]=i}return n}},vi={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"\nvec3 transformed = vec3( position );\n",beginnormal_vertex:"\nvec3 objectNormal = vec3( normal );\n",bsdfs:"float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t\t}\n\t\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 ltcTextureCoords( const in GeometricContext geometry, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = (LUT_SIZE - 1.0)/LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5/LUT_SIZE;\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 P = geometry.position;\n\tfloat theta = acos( dot( N, V ) );\n\tvec2 uv = vec2(\n\t\tsqrt( saturate( roughness ) ),\n\t\tsaturate( theta / ( 0.5 * PI ) ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nvoid clipQuadToHorizon( inout vec3 L[5], out int n ) {\n\tint config = 0;\n\tif ( L[0].z > 0.0 ) config += 1;\n\tif ( L[1].z > 0.0 ) config += 2;\n\tif ( L[2].z > 0.0 ) config += 4;\n\tif ( L[3].z > 0.0 ) config += 8;\n\tn = 0;\n\tif ( config == 0 ) {\n\t} else if ( config == 1 ) {\n\t\tn = 3;\n\t\tL[1] = -L[1].z * L[0] + L[0].z * L[1];\n\t\tL[2] = -L[3].z * L[0] + L[0].z * L[3];\n\t} else if ( config == 2 ) {\n\t\tn = 3;\n\t\tL[0] = -L[0].z * L[1] + L[1].z * L[0];\n\t\tL[2] = -L[2].z * L[1] + L[1].z * L[2];\n\t} else if ( config == 3 ) {\n\t\tn = 4;\n\t\tL[2] = -L[2].z * L[1] + L[1].z * L[2];\n\t\tL[3] = -L[3].z * L[0] + L[0].z * L[3];\n\t} else if ( config == 4 ) {\n\t\tn = 3;\n\t\tL[0] = -L[3].z * L[2] + L[2].z * L[3];\n\t\tL[1] = -L[1].z * L[2] + L[2].z * L[1];\n\t} else if ( config == 5 ) {\n\t\tn = 0;\n\t} else if ( config == 6 ) {\n\t\tn = 4;\n\t\tL[0] = -L[0].z * L[1] + L[1].z * L[0];\n\t\tL[3] = -L[3].z * L[2] + L[2].z * L[3];\n\t} else if ( config == 7 ) {\n\t\tn = 5;\n\t\tL[4] = -L[3].z * L[0] + L[0].z * L[3];\n\t\tL[3] = -L[3].z * L[2] + L[2].z * L[3];\n\t} else if ( config == 8 ) {\n\t\tn = 3;\n\t\tL[0] = -L[0].z * L[3] + L[3].z * L[0];\n\t\tL[1] = -L[2].z * L[3] + L[3].z * L[2];\n\t\tL[2] =  L[3];\n\t} else if ( config == 9 ) {\n\t\tn = 4;\n\t\tL[1] = -L[1].z * L[0] + L[0].z * L[1];\n\t\tL[2] = -L[2].z * L[3] + L[3].z * L[2];\n\t} else if ( config == 10 ) {\n\t\tn = 0;\n\t} else if ( config == 11 ) {\n\t\tn = 5;\n\t\tL[4] = L[3];\n\t\tL[3] = -L[2].z * L[3] + L[3].z * L[2];\n\t\tL[2] = -L[2].z * L[1] + L[1].z * L[2];\n\t} else if ( config == 12 ) {\n\t\tn = 4;\n\t\tL[1] = -L[1].z * L[2] + L[2].z * L[1];\n\t\tL[0] = -L[0].z * L[3] + L[3].z * L[0];\n\t} else if ( config == 13 ) {\n\t\tn = 5;\n\t\tL[4] = L[3];\n\t\tL[3] = L[2];\n\t\tL[2] = -L[1].z * L[2] + L[2].z * L[1];\n\t\tL[1] = -L[1].z * L[0] + L[0].z * L[1];\n\t} else if ( config == 14 ) {\n\t\tn = 5;\n\t\tL[4] = -L[0].z * L[3] + L[3].z * L[0];\n\t\tL[0] = -L[0].z * L[1] + L[1].z * L[0];\n\t} else if ( config == 15 ) {\n\t\tn = 4;\n\t}\n\tif ( n == 3 )\n\t\tL[3] = L[0];\n\tif ( n == 4 )\n\t\tL[4] = L[0];\n}\nfloat integrateLtcBrdfOverRectEdge( vec3 v1, vec3 v2 ) {\n\tfloat cosTheta = dot( v1, v2 );\n\tfloat theta = acos( cosTheta );\n\tfloat res = cross( v1, v2 ).z * ( ( theta > 0.001 ) ? theta / sin( theta ) : 1.0 );\n\treturn res;\n}\nvoid initRectPoints( const in vec3 pos, const in vec3 halfWidth, const in vec3 halfHeight, out vec3 rectPoints[4] ) {\n\trectPoints[0] = pos - halfWidth - halfHeight;\n\trectPoints[1] = pos + halfWidth - halfHeight;\n\trectPoints[2] = pos + halfWidth + halfHeight;\n\trectPoints[3] = pos - halfWidth + halfHeight;\n}\nvec3 integrateLtcBrdfOverRect( const in GeometricContext geometry, const in mat3 brdfMat, const in vec3 rectPoints[4] ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 P = geometry.position;\n\tvec3 T1, T2;\n\tT1 = normalize(V - N * dot( V, N ));\n\tT2 = - cross( N, T1 );\n\tmat3 brdfWrtSurface = brdfMat * transpose( mat3( T1, T2, N ) );\n\tvec3 clippedRect[5];\n\tclippedRect[0] = brdfWrtSurface * ( rectPoints[0] - P );\n\tclippedRect[1] = brdfWrtSurface * ( rectPoints[1] - P );\n\tclippedRect[2] = brdfWrtSurface * ( rectPoints[2] - P );\n\tclippedRect[3] = brdfWrtSurface * ( rectPoints[3] - P );\n\tint n;\n\tclipQuadToHorizon(clippedRect, n);\n\tif ( n == 0 )\n\t\treturn vec3( 0, 0, 0 );\n\tclippedRect[0] = normalize( clippedRect[0] );\n\tclippedRect[1] = normalize( clippedRect[1] );\n\tclippedRect[2] = normalize( clippedRect[2] );\n\tclippedRect[3] = normalize( clippedRect[3] );\n\tclippedRect[4] = normalize( clippedRect[4] );\n\tfloat sum = 0.0;\n\tsum += integrateLtcBrdfOverRectEdge( clippedRect[0], clippedRect[1] );\n\tsum += integrateLtcBrdfOverRectEdge( clippedRect[1], clippedRect[2] );\n\tsum += integrateLtcBrdfOverRectEdge( clippedRect[2], clippedRect[3] );\n\tif (n >= 4)\n\t\tsum += integrateLtcBrdfOverRectEdge( clippedRect[3], clippedRect[4] );\n\tif (n == 5)\n\t\tsum += integrateLtcBrdfOverRectEdge( clippedRect[4], clippedRect[0] );\n\tsum = max( 0.0, sum );\n\tvec3 Lo_i = vec3( sum, sum, sum );\n\treturn Lo_i;\n}\nvec3 Rect_Area_Light_Specular_Reflectance(\n\t\tconst in GeometricContext geometry,\n\t\tconst in vec3 lightPos, const in vec3 lightHalfWidth, const in vec3 lightHalfHeight,\n\t\tconst in float roughness,\n\t\tconst in sampler2D ltcMat, const in sampler2D ltcMag ) {\n\tvec3 rectPoints[4];\n\tinitRectPoints( lightPos, lightHalfWidth, lightHalfHeight, rectPoints );\n\tvec2 uv = ltcTextureCoords( geometry, roughness );\n\tvec4 brdfLtcApproxParams, t;\n\tbrdfLtcApproxParams = texture2D( ltcMat, uv );\n\tt = texture2D( ltcMat, uv );\n\tfloat brdfLtcScalar = texture2D( ltcMag, uv ).a;\n\tmat3 brdfLtcApproxMat = mat3(\n\t\tvec3(   1,   0, t.y ),\n\t\tvec3(   0, t.z,   0 ),\n\t\tvec3( t.w,   0, t.x )\n\t);\n\tvec3 specularReflectance = integrateLtcBrdfOverRect( geometry, brdfLtcApproxMat, rectPoints );\n\tspecularReflectance *= brdfLtcScalar;\n\treturn specularReflectance;\n}\nvec3 Rect_Area_Light_Diffuse_Reflectance(\n\t\tconst in GeometricContext geometry,\n\t\tconst in vec3 lightPos, const in vec3 lightHalfWidth, const in vec3 lightHalfHeight ) {\n\tvec3 rectPoints[4];\n\tinitRectPoints( lightPos, lightHalfWidth, lightHalfHeight, rectPoints );\n\tmat3 diffuseBrdfMat = mat3(1);\n\tvec3 diffuseReflectance = integrateLtcBrdfOverRect( geometry, diffuseBrdfMat, rectPoints );\n\treturn diffuseReflectance;\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos );\n\t\tvec3 vSigmaY = dFdy( surf_pos );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; ++ i ) {\n\t\tvec4 plane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t\t\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; ++ i ) {\n\t\t\tvec4 plane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t\n\t#endif\n#endif\n",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transpose( const in mat3 v ) {\n\tmat3 tmp;\n\ttmp[0] = vec3(v[0].x, v[1].x, v[2].x);\n\ttmp[1] = vec3(v[0].y, v[1].y, v[2].y);\n\ttmp[2] = vec3(v[0].z, v[1].z, v[2].z);\n\treturn tmp;\n}\n",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n",defaultnormal_vertex:"#ifdef FLIP_SIDED\n\tobjectNormal = -objectNormal;\n#endif\nvec3 transformedNormal = normalMatrix * objectNormal;\n",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",encodings_fragment:"  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM            = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat D      = max( maxRange / maxRGB, 1.0 );\n\tD            = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract(Le);\n\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max(vRGB, 0.0), 1.0 );\n}\n",envmap_fragment:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\tvec3 reflectView = flipNormal * normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",envmap_pars_fragment:"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n",envmap_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",fog_vertex:"\n#ifdef USE_FOG\nfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n  varying float fogDepth;\n#endif\n",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif\n",gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif\n",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",lights_pars:"uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltcMat;\tuniform sampler2D ltcMag;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = saturate( reflectVec.y * 0.5 + 0.5 );\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_BlinnPhong( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 matDiffColor = material.diffuseColor;\n\t\tvec3 matSpecColor = material.specularColor;\n\t\tvec3 lightColor   = rectAreaLight.color;\n\t\tfloat roughness = BlinnExponentToGGXRoughness( material.specularShininess );\n\t\tvec3 spec = Rect_Area_Light_Specular_Reflectance(\n\t\t\t\tgeometry,\n\t\t\t\trectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight,\n\t\t\t\troughness,\n\t\t\t\tltcMat, ltcMag );\n\t\tvec3 diff = Rect_Area_Light_Diffuse_Reflectance(\n\t\t\t\tgeometry,\n\t\t\t\trectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight );\n\t\treflectedLight.directSpecular += lightColor * matSpecColor * spec / PI2;\n\t\treflectedLight.directDiffuse  += lightColor * matDiffColor * diff / PI2;\n\t}\n#endif\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 matDiffColor = material.diffuseColor;\n\t\tvec3 matSpecColor = material.specularColor;\n\t\tvec3 lightColor   = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 spec = Rect_Area_Light_Specular_Reflectance(\n\t\t\t\tgeometry,\n\t\t\t\trectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight,\n\t\t\t\troughness,\n\t\t\t\tltcMat, ltcMag );\n\t\tvec3 diff = Rect_Area_Light_Diffuse_Reflectance(\n\t\t\t\tgeometry,\n\t\t\t\trectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight );\n\t\treflectedLight.directSpecular += lightColor * matSpecColor * spec;\n\t\treflectedLight.directDiffuse  += lightColor * matDiffColor * diff;\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",lights_template:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\t#ifndef STANDARD\n\t\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\n\t#else\n\t\tvec3 clearCoatRadiance = vec3( 0.0 );\n\t#endif\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n",logdepthbuf_fragment:"#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n\t#endif\n#endif\n",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",map_particle_fragment:"#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform vec4 offsetRepeat;\n\tuniform sampler2D map;\n#endif\n",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.r;\n#endif\n",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",normal_flip:"#ifdef DOUBLE_SIDED\n\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n#else\n\tfloat flipNormal = 1.0;\n#endif\n",normal_fragment:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal ) * flipNormal;\n#endif\n#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 1.0 - 2.0 * rgb.xyz;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",project_vertex:"#ifdef USE_SKINNING\n\tvec4 mvPosition = modelViewMatrix * skinned;\n#else\n\tvec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n#endif\ngl_Position = projectionMatrix * mvPosition;\n",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.r;\n#endif\n",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn 1.0;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\tfloat dp = ( length( lightToPosition ) - shadowBias ) / 1000.0;\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureWidth;\n\t\tuniform int boneTextureHeight;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureWidth ) );\n\t\t\tfloat y = floor( j / float( boneTextureWidth ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureWidth );\n\t\t\tfloat dy = 1.0 / float( boneTextureHeight );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\tskinned  = bindMatrixInverse * skinned;\n#endif\n",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",tonemapping_pars_fragment:"#define saturate(a) clamp( a, 0.0, 1.0 )\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",uv_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform vec4 offsetRepeat;\n#endif\n",uv_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n\t#ifdef USE_SKINNING\n\t\tvec4 worldPosition = modelMatrix * skinned;\n\t#else\n\t\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n\t#endif\n#endif\n",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n",cube_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",distanceRGBA_frag:"uniform vec3 lightPos;\nvarying vec4 vWorldPosition;\n#include <common>\n#include <packing>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tgl_FragColor = packDepthToRGBA( length( vWorldPosition.xyz - lightPos.xyz ) / 1000.0 );\n}\n",distanceRGBA_vert:"varying vec4 vWorldPosition;\n#include <common>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition;\n}\n",equirect_frag:"uniform sampler2D tEquirect;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n",equirect_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}\n",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshphysical_frag:"#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshphysical_vert:"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}\n",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}\n",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",shadow_frag:"uniform float opacity;\n#include <common>\n#include <packing>\n#include <bsdfs>\n#include <lights_pars>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( 0.0, 0.0, 0.0, opacity * ( 1.0 - getShadowMask() ) );\n}\n",shadow_vert:"#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n"};F.prototype={constructor:F,isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this},setScalar:function(e){return this.b=this.g=this.r=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,n){return this.r=e,this.g=t,this.b=n,this},setHSL:function(){function e(e,t,n){return 0>n&&(n+=1),1<n&&--n,n<1/6?e+6*(t-e)*n:.5>n?t:n<2/3?e+6*(t-e)*(2/3-n):e}return function(t,n,r){return t=li.euclideanModulo(t,1),n=li.clamp(n,0,1),r=li.clamp(r,0,1),0===n?this.r=this.g=this.b=r:(r=2*r-(n=.5>=r?r*(1+n):r+n-r*n),this.r=e(r,n,t+1/3),this.g=e(r,n,t),this.b=e(r,n,t-1/3)),this}}(),setStyle:function(e){function t(t){void 0!==t&&1>parseFloat(t)&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var r=n[2];switch(n[1]){case"rgb":case"rgba":if(n=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(r))return this.r=Math.min(255,parseInt(n[1],10))/255,this.g=Math.min(255,parseInt(n[2],10))/255,this.b=Math.min(255,parseInt(n[3],10))/255,t(n[5]),this;if(n=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(r))return this.r=Math.min(100,parseInt(n[1],10))/100,this.g=Math.min(100,parseInt(n[2],10))/100,this.b=Math.min(100,parseInt(n[3],10))/100,t(n[5]),this;break;case"hsl":case"hsla":if(n=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(r)){r=parseFloat(n[1])/360;var i=parseInt(n[2],10)/100,a=parseInt(n[3],10)/100;return t(n[5]),this.setHSL(r,i,a)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(e)){if(3===(r=(n=n[1]).length))return this.r=parseInt(n.charAt(0)+n.charAt(0),16)/255,this.g=parseInt(n.charAt(1)+n.charAt(1),16)/255,this.b=parseInt(n.charAt(2)+n.charAt(2),16)/255,this;if(6===r)return this.r=parseInt(n.charAt(0)+n.charAt(1),16)/255,this.g=parseInt(n.charAt(2)+n.charAt(3),16)/255,this.b=parseInt(n.charAt(4)+n.charAt(5),16)/255,this}return e&&0<e.length&&(void 0!==(n=gi[e])?this.setHex(n):console.warn("THREE.Color: Unknown color "+e)),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){void 0===t&&(t=2);var n=0<t?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this},convertGammaToLinear:function(){var e=this.r,t=this.g,n=this.b;return this.r=e*e,this.g=t*t,this.b=n*n,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){e=e||{h:0,s:0,l:0};var t,n=this.r,r=this.g,i=this.b,a=Math.max(n,r,i),o=((l=Math.min(n,r,i))+a)/2;if(l===a)l=t=0;else{var s=a-l,l=.5>=o?s/(a+l):s/(2-a-l);switch(a){case n:t=(r-i)/s+(r<i?6:0);break;case r:t=(i-n)/s+2;break;case i:t=(n-r)/s+4}t/=6}return e.h=t,e.s=l,e.l=o,e},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(e,t,n){var r=this.getHSL();return r.h+=e,r.s+=t,r.l+=n,this.setHSL(r.h,r.s,r.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},toJSON:function(){return this.getHex()}};var gi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};G.prototype=Object.create(r.prototype),G.prototype.constructor=G,G.prototype.isDataTexture=!0;var yi={common:{diffuse:{value:new F(15658734)},opacity:{value:1},map:{value:null},offsetRepeat:{value:new i(0,0,1,1)},specularMap:{value:null},alphaMap:{value:null},envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new n(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new F(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new F(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},offsetRepeat:{value:new i(0,0,1,1)}}},xi={basic:{uniforms:mi.merge([yi.common,yi.aomap,yi.lightmap,yi.fog]),vertexShader:vi.meshbasic_vert,fragmentShader:vi.meshbasic_frag},lambert:{uniforms:mi.merge([yi.common,yi.aomap,yi.lightmap,yi.emissivemap,yi.fog,yi.lights,{emissive:{value:new F(0)}}]),vertexShader:vi.meshlambert_vert,fragmentShader:vi.meshlambert_frag},phong:{uniforms:mi.merge([yi.common,yi.aomap,yi.lightmap,yi.emissivemap,yi.bumpmap,yi.normalmap,yi.displacementmap,yi.gradientmap,yi.fog,yi.lights,{emissive:{value:new F(0)},specular:{value:new F(1118481)},shininess:{value:30}}]),vertexShader:vi.meshphong_vert,fragmentShader:vi.meshphong_frag},standard:{uniforms:mi.merge([yi.common,yi.aomap,yi.lightmap,yi.emissivemap,yi.bumpmap,yi.normalmap,yi.displacementmap,yi.roughnessmap,yi.metalnessmap,yi.fog,yi.lights,{emissive:{value:new F(0)},roughness:{value:.5},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:vi.meshphysical_vert,fragmentShader:vi.meshphysical_frag},points:{uniforms:mi.merge([yi.points,yi.fog]),vertexShader:vi.points_vert,fragmentShader:vi.points_frag},dashed:{uniforms:mi.merge([yi.common,yi.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:vi.linedashed_vert,fragmentShader:vi.linedashed_frag},depth:{uniforms:mi.merge([yi.common,yi.displacementmap]),vertexShader:vi.depth_vert,fragmentShader:vi.depth_frag},normal:{uniforms:mi.merge([yi.common,yi.bumpmap,yi.normalmap,yi.displacementmap,{opacity:{value:1}}]),vertexShader:vi.normal_vert,fragmentShader:vi.normal_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:vi.cube_vert,fragmentShader:vi.cube_frag},equirect:{uniforms:{tEquirect:{value:null},tFlip:{value:-1}},vertexShader:vi.equirect_vert,fragmentShader:vi.equirect_frag},distanceRGBA:{uniforms:{lightPos:{value:new l}},vertexShader:vi.distanceRGBA_vert,fragmentShader:vi.distanceRGBA_frag}};xi.physical={uniforms:mi.merge([xi.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:vi.meshphysical_vert,fragmentShader:vi.meshphysical_frag},H.prototype={constructor:H,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new n;return function(t,n){var r=e.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){return e=e||new n,this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return e=e||new n,this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return(t||new n).set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return(t||new n).copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new n;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}};var bi=0;W.prototype={constructor:W,isMaterial:!0,get needsUpdate(){return this._needsUpdate},set needsUpdate(e){!0===e&&this.update(),this._needsUpdate=e},setValues:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0===n)console.warn("THREE.Material: '"+t+"' parameter is undefined.");else{var r=this[t];void 0===r?console.warn("THREE."+this.type+": '"+t+"' is not a property of this material."):r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]="overdraw"===t?Number(n):n}}},toJSON:function(e){function t(e){var t,n=[];for(t in e){var r=e[t];delete r.metadata,n.push(r)}return n}var n=void 0===e;n&&(e={textures:{},images:{}});var r={metadata:{version:4.4,type:"Material",generator:"Material.toJSON"}};return r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),void 0!==this.roughness&&(r.roughness=this.roughness),void 0!==this.metalness&&(r.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),void 0!==this.shininess&&(r.shininess=this.shininess),void 0!==this.clearCoat&&(r.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(r.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,r.reflectivity=this.reflectivity),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(r.size=this.size),void 0!==this.sizeAttenuation&&(r.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(r.blending=this.blending),2!==this.shading&&(r.shading=this.shading),0!==this.side&&(r.side=this.side),0!==this.vertexColors&&(r.vertexColors=this.vertexColors),1>this.opacity&&(r.opacity=this.opacity),!0===this.transparent&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,0<this.alphaTest&&(r.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(r.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(r.wireframe=this.wireframe),1<this.wireframeLinewidth&&(r.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(r.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(r.wireframeLinejoin=this.wireframeLinejoin),r.skinning=this.skinning,r.morphTargets=this.morphTargets,n&&(n=t(e.textures),e=t(e.images),0<n.length&&(r.textures=n),0<e.length&&(r.images=e)),r},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.lights=e.lights,this.blending=e.blending,this.side=e.side,this.shading=e.shading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.overdraw=e.overdraw,this.visible=e.visible,this.clipShadows=e.clipShadows,this.clipIntersection=e.clipIntersection;var t=null;if(null!==(e=e.clippingPlanes))for(var n=e.length,r=(t=Array(n),0);r!==n;++r)t[r]=e[r].clone();return this.clippingPlanes=t,this},update:function(){this.dispatchEvent({type:"update"})},dispose:function(){this.dispatchEvent({type:"dispose"})}},Object.assign(W.prototype,t.prototype),X.prototype=Object.create(W.prototype),X.prototype.constructor=X,X.prototype.isShaderMaterial=!0,X.prototype.copy=function(e){return W.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=mi.clone(e.uniforms),this.defines=e.defines,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=e.extensions,this},X.prototype.toJSON=function(e){return(e=W.prototype.toJSON.call(this,e)).uniforms=this.uniforms,e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e},q.prototype=Object.create(W.prototype),q.prototype.constructor=q,q.prototype.isMeshDepthMaterial=!0,q.prototype.copy=function(e){return W.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},Y.prototype={constructor:Y,isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0,s=0,l=e.length;s<l;s+=3){var u=e[s],c=e[s+1],h=e[s+2];u<t&&(t=u),c<n&&(n=c),h<r&&(r=h),u>i&&(i=u),c>a&&(a=c),h>o&&(o=h)}return this.min.set(t,n,r),this.max.set(i,a,o),this},setFromBufferAttribute:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0,s=0,l=e.count;s<l;s++){var u=e.getX(s),c=e.getY(s),h=e.getZ(s);u<t&&(t=u),c<n&&(n=c),h<r&&(r=h),u>i&&(i=u),c>a&&(a=c),h>o&&(o=h)}return this.min.set(t,n,r),this.max.set(i,a,o),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new l;return function(t,n){var r=e.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}}(),setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){return e=e||new l,this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return e=e||new l,this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(){var e=new l;return function(t){var n=this;return t.updateMatrixWorld(!0),t.traverse((function(t){var r,i;if(void 0!==(r=t.geometry))if(r.isGeometry){var a=r.vertices;for(r=0,i=a.length;r<i;r++)e.copy(a[r]),e.applyMatrix4(t.matrixWorld),n.expandByPoint(e)}else if(r.isBufferGeometry&&void 0!==(a=r.attributes.position))for(r=0,i=a.count;r<i;r++)e.fromBufferAttribute(a,r).applyMatrix4(t.matrixWorld),n.expandByPoint(e)})),this}}(),containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return(t||new l).set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:function(){var e;return function(t){return void 0===e&&(e=new l),this.clampPoint(t.center,e),e.distanceToSquared(t.center)<=t.radius*t.radius}}(),intersectsPlane:function(e){var t,n;return 0<e.normal.x?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),0<e.normal.y?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),0<e.normal.z?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=e.constant&&n>=e.constant},clampPoint:function(e,t){return(t||new l).copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new l;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),getBoundingSphere:function(){var e=new l;return function(t){return t=t||new $,this.getCenter(t.center),t.radius=.5*this.getSize(e).length(),t}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(){var e=[new l,new l,new l,new l,new l,new l,new l,new l];return function(t){return this.isEmpty()||(e[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),e[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),e[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),e[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),e[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),e[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),e[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),e[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(e)),this}}(),translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}},$.prototype={constructor:$,set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(){var e;return function(t,n){void 0===e&&(e=new Y);var r=this.center;void 0!==n?r.copy(n):e.setFromPoints(t).getCenter(r);for(var i=0,a=0,o=t.length;a<o;a++)i=Math.max(i,r.distanceToSquared(t[a]));return this.radius=Math.sqrt(i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return 0>=this.radius},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(this.center.dot(e.normal)-e.constant)<=this.radius},clampPoint:function(e,t){var n=this.center.distanceToSquared(e),r=t||new l;return r.copy(e),n>this.radius*this.radius&&(r.sub(this.center).normalize(),r.multiplyScalar(this.radius).add(this.center)),r},getBoundingBox:function(e){return(e=e||new Y).set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius*=e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}},Z.prototype={constructor:Z,isMatrix3:!0,set:function(e,t,n,r,i,a,o,s,l){var u=this.elements;return u[0]=e,u[1]=r,u[2]=o,u[3]=t,u[4]=i,u[5]=s,u[6]=n,u[7]=a,u[8]=l,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){return e=e.elements,this.set(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8]),this},setFromMatrix4:function(e){return e=e.elements,this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},applyToBufferAttribute:function(){var e;return function(t){void 0===e&&(e=new l);for(var n=0,r=t.count;n<r;n++)e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.applyMatrix3(this),t.setXYZ(n,e.x,e.y,e.z);return t}}(),multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e,t=(e=this.elements)[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7];return t*a*(e=e[8])-t*o*l-n*i*e+n*o*s+r*i*l-r*a*s},getInverse:function(e,t){e&&e.isMatrix4&&console.error("THREE.Matrix3.getInverse no longer takes a Matrix4 argument.");var n=e.elements,r=this.elements,i=n[0],a=n[1],o=n[2],s=n[3],l=n[4],u=n[5],c=n[6],h=n[7],d=(n=n[8])*l-u*h,p=u*c-n*s,f=h*s-l*c,m=i*d+a*p+o*f;if(0===m){if(!0===t)throw Error("THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0");return console.warn("THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0"),this.identity()}return m=1/m,r[0]=d*m,r[1]=(o*h-n*a)*m,r[2]=(u*a-o*l)*m,r[3]=p*m,r[4]=(n*i-o*c)*m,r[5]=(o*s-u*i)*m,r[6]=f*m,r[7]=(a*c-h*i)*m,r[8]=(l*i-a*s)*m,this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;9>n;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}},J.prototype={constructor:J,set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(){var e=new l,t=new l;return function(n,r,i){return r=e.subVectors(i,r).cross(t.subVectors(n,r)).normalize(),this.setFromNormalAndCoplanarPoint(r,n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return this.orthoPoint(e,t).sub(e).negate()},orthoPoint:function(e,t){var n=this.distanceToPoint(e);return(t||new l).copy(this.normal).multiplyScalar(n)},intersectLine:function(){var e=new l;return function(t,n){var r=n||new l,i=t.delta(e),a=this.normal.dot(i);return 0!==a?0>(a=-(t.start.dot(this.normal)+this.constant)/a)||1<a?void 0:r.copy(i).multiplyScalar(a).add(t.start):0===this.distanceToPoint(t.start)?r.copy(t.start):void 0}}(),intersectsLine:function(e){var t=this.distanceToPoint(e.start);return e=this.distanceToPoint(e.end),0>t&&0<e||0>e&&0<t},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return(e||new l).copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var e=new l,t=new Z;return function(n,r){var i=this.coplanarPoint(e).applyMatrix4(n),a=r||t.getNormalMatrix(n);a=this.normal.applyMatrix3(a).normalize();return this.constant=-i.dot(a),this}}(),translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}},Q.prototype={constructor:Q,set:function(e,t,n,r,i,a){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(r),o[4].copy(i),o[5].copy(a),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){for(var t=this.planes,n=0;6>n;n++)t[n].copy(e.planes[n]);return this},setFromMatrix:function(e){var t=this.planes;e=(v=e.elements)[0];var n=v[1],r=v[2],i=v[3],a=v[4],o=v[5],s=v[6],l=v[7],u=v[8],c=v[9],h=v[10],d=v[11],p=v[12],f=v[13],m=v[14],v=v[15];return t[0].setComponents(i-e,l-a,d-u,v-p).normalize(),t[1].setComponents(i+e,l+a,d+u,v+p).normalize(),t[2].setComponents(i+n,l+o,d+c,v+f).normalize(),t[3].setComponents(i-n,l-o,d-c,v-f).normalize(),t[4].setComponents(i-r,l-s,d-h,v-m).normalize(),t[5].setComponents(i+r,l+s,d+h,v+m).normalize(),this},intersectsObject:function(){var e=new $;return function(t){var n=t.geometry;return null===n.boundingSphere&&n.computeBoundingSphere(),e.copy(n.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSprite:function(){var e=new $;return function(t){return e.center.set(0,0,0),e.radius=.7071067811865476,e.applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSphere:function(e){var t=this.planes,n=e.center;e=-e.radius;for(var r=0;6>r;r++)if(t[r].distanceToPoint(n)<e)return!1;return!0},intersectsBox:function(){var e=new l,t=new l;return function(n){for(var r=this.planes,i=0;6>i;i++){var a=r[i];e.x=0<a.normal.x?n.min.x:n.max.x,t.x=0<a.normal.x?n.max.x:n.min.x,e.y=0<a.normal.y?n.min.y:n.max.y,t.y=0<a.normal.y?n.max.y:n.min.y,e.z=0<a.normal.z?n.min.z:n.max.z,t.z=0<a.normal.z?n.max.z:n.min.z;var o=a.distanceToPoint(e);a=a.distanceToPoint(t);if(0>o&&0>a)return!1}return!0}}(),containsPoint:function(e){for(var t=this.planes,n=0;6>n;n++)if(0>t[n].distanceToPoint(e))return!1;return!0}},ee.prototype={constructor:ee,set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return(t||new l).copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(){var e=new l;return function(t){return this.origin.copy(this.at(t,e)),this}}(),closestPointToPoint:function(e,t){var n=t||new l;n.subVectors(e,this.origin);var r=n.dot(this.direction);return 0>r?n.copy(this.origin):n.copy(this.direction).multiplyScalar(r).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(){var e=new l;return function(t){var n=e.subVectors(t,this.origin).dot(this.direction);return 0>n?this.origin.distanceToSquared(t):(e.copy(this.direction).multiplyScalar(n).add(this.origin),e.distanceToSquared(t))}}(),distanceSqToSegment:function(){var e=new l,t=new l,n=new l;return function(r,i,a,o){e.copy(r).add(i).multiplyScalar(.5),t.copy(i).sub(r).normalize(),n.copy(this.origin).sub(e);var s,l=.5*r.distanceTo(i),u=-this.direction.dot(t),c=n.dot(this.direction),h=-n.dot(t),d=n.lengthSq(),p=Math.abs(1-u*u);return 0<p?(i=u*c-h,s=l*p,0<=(r=u*h-c)?i>=-s?i<=s?u=(r*=l=1/p)*(r+u*(i*=l)+2*c)+i*(u*r+i+2*h)+d:(i=l,u=-(r=Math.max(0,-(u*i+c)))*r+i*(i+2*h)+d):(i=-l,u=-(r=Math.max(0,-(u*i+c)))*r+i*(i+2*h)+d):i<=-s?u=-(r=Math.max(0,-(-u*l+c)))*r+(i=0<r?-l:Math.min(Math.max(-l,-h),l))*(i+2*h)+d:i<=s?(r=0,u=(i=Math.min(Math.max(-l,-h),l))*(i+2*h)+d):u=-(r=Math.max(0,-(u*l+c)))*r+(i=0<r?l:Math.min(Math.max(-l,-h),l))*(i+2*h)+d):(i=0<u?-l:l,u=-(r=Math.max(0,-(u*i+c)))*r+i*(i+2*h)+d),a&&a.copy(this.direction).multiplyScalar(r).add(this.origin),o&&o.copy(t).multiplyScalar(i).add(e),u}}(),intersectSphere:function(){var e=new l;return function(t,n){e.subVectors(t.center,this.origin);var r=e.dot(this.direction),i=e.dot(e)-r*r,a=t.radius*t.radius;return i>a?null:(i=r-(a=Math.sqrt(a-i)),r+=a,0>i&&0>r?null:0>i?this.at(r,n):this.at(i,n))}}(),intersectsSphere:function(e){return this.distanceToPoint(e.center)<=e.radius},distanceToPlane:function(e){var t=e.normal.dot(this.direction);return 0===t?0===e.distanceToPoint(this.origin)?0:null:0<=(e=-(this.origin.dot(e.normal)+e.constant)/t)?e:null},intersectPlane:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);return 0===t||0>e.normal.dot(this.direction)*t},intersectBox:function(e,t){var n,r,i,a,o;r=1/this.direction.x,a=1/this.direction.y,o=1/this.direction.z;var s=this.origin;return 0<=r?(n=(e.min.x-s.x)*r,r*=e.max.x-s.x):(n=(e.max.x-s.x)*r,r*=e.min.x-s.x),0<=a?(i=(e.min.y-s.y)*a,a*=e.max.y-s.y):(i=(e.max.y-s.y)*a,a*=e.min.y-s.y),n>a||i>r?null:((i>n||n!=n)&&(n=i),(a<r||r!=r)&&(r=a),0<=o?(i=(e.min.z-s.z)*o,o*=e.max.z-s.z):(i=(e.max.z-s.z)*o,o*=e.min.z-s.z),n>o||i>r?null:((i>n||n!=n)&&(n=i),(o<r||r!=r)&&(r=o),0>r?null:this.at(0<=n?n:r,t)))},intersectsBox:function(){var e=new l;return function(t){return null!==this.intersectBox(t,e)}}(),intersectTriangle:function(){var e=new l,t=new l,n=new l,r=new l;return function(i,a,o,s,l){if(t.subVectors(a,i),n.subVectors(o,i),r.crossVectors(t,n),0<(a=this.direction.dot(r))){if(s)return null;s=1}else{if(!(0>a))return null;s=-1,a=-a}return e.subVectors(this.origin,i),0>(i=s*this.direction.dot(n.crossVectors(e,n)))||0>(o=s*this.direction.dot(t.cross(e)))||i+o>a||0>(i=-s*e.dot(r))?null:this.at(i/a,l)}}(),applyMatrix4:function(e){return this.direction.add(this.origin).applyMatrix4(e),this.origin.applyMatrix4(e),this.direction.sub(this.origin),this.direction.normalize(),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}},te.RotationOrders="XYZ YZX ZXY XZY YXZ ZYX".split(" "),te.DefaultOrder="XYZ",te.prototype={constructor:te,isEuler:!0,get x(){return this._x},set x(e){this._x=e,this.onChangeCallback()},get y(){return this._y},set y(e){this._y=e,this.onChangeCallback()},get z(){return this._z},set z(e){this._z=e,this.onChangeCallback()},get order(){return this._order},set order(e){this._order=e,this.onChangeCallback()},set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._order=r||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this.onChangeCallback(),this},setFromRotationMatrix:function(e,t,n){var r=li.clamp;e=(h=e.elements)[0];var i=h[4],a=h[8],o=h[1],s=h[5],l=h[9],u=h[2],c=h[6],h=h[10];return"XYZ"===(t=t||this._order)?(this._y=Math.asin(r(a,-1,1)),.99999>Math.abs(a)?(this._x=Math.atan2(-l,h),this._z=Math.atan2(-i,e)):(this._x=Math.atan2(c,s),this._z=0)):"YXZ"===t?(this._x=Math.asin(-r(l,-1,1)),.99999>Math.abs(l)?(this._y=Math.atan2(a,h),this._z=Math.atan2(o,s)):(this._y=Math.atan2(-u,e),this._z=0)):"ZXY"===t?(this._x=Math.asin(r(c,-1,1)),.99999>Math.abs(c)?(this._y=Math.atan2(-u,h),this._z=Math.atan2(-i,s)):(this._y=0,this._z=Math.atan2(o,e))):"ZYX"===t?(this._y=Math.asin(-r(u,-1,1)),.99999>Math.abs(u)?(this._x=Math.atan2(c,h),this._z=Math.atan2(o,e)):(this._x=0,this._z=Math.atan2(-i,s))):"YZX"===t?(this._z=Math.asin(r(o,-1,1)),.99999>Math.abs(o)?(this._x=Math.atan2(-l,s),this._y=Math.atan2(-u,e)):(this._x=0,this._y=Math.atan2(a,h))):"XZY"===t?(this._z=Math.asin(-r(i,-1,1)),.99999>Math.abs(i)?(this._x=Math.atan2(c,s),this._y=Math.atan2(a,e)):(this._x=Math.atan2(-l,h),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+t),this._order=t,!1!==n&&this.onChangeCallback(),this},setFromQuaternion:function(){var e;return function(t,n,r){return void 0===e&&(e=new u),e.makeRotationFromQuaternion(t),this.setFromRotationMatrix(e,n,r)}}(),setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(){var e=new s;return function(t){return e.setFromEuler(this),this.setFromQuaternion(e,t)}}(),equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new l(this._x,this._y,this._z)},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}},ne.prototype={constructor:ne,set:function(e){this.mask=1<<e},enable:function(e){this.mask|=1<<e},toggle:function(e){this.mask^=1<<e},disable:function(e){this.mask&=~(1<<e)},test:function(e){return 0!=(this.mask&e.mask)}};var _i=0;re.DefaultUp=new l(0,1,0),re.DefaultMatrixAutoUpdate=!0,re.prototype={constructor:re,isObject3D:!0,applyMatrix:function(e){this.matrix.multiplyMatrices(e,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(){var e=new s;return function(t,n){return e.setFromAxisAngle(t,n),this.quaternion.multiply(e),this}}(),rotateX:function(){var e=new l(1,0,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateY:function(){var e=new l(0,1,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateZ:function(){var e=new l(0,0,1);return function(t){return this.rotateOnAxis(e,t)}}(),translateOnAxis:function(){var e=new l;return function(t,n){return e.copy(t).applyQuaternion(this.quaternion),this.position.add(e.multiplyScalar(n)),this}}(),translateX:function(){var e=new l(1,0,0);return function(t){return this.translateOnAxis(e,t)}}(),translateY:function(){var e=new l(0,1,0);return function(t){return this.translateOnAxis(e,t)}}(),translateZ:function(){var e=new l(0,0,1);return function(t){return this.translateOnAxis(e,t)}}(),localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var e=new u;return function(t){return t.applyMatrix4(e.getInverse(this.matrixWorld))}}(),lookAt:function(){var e=new u;return function(t){e.lookAt(t,this.position,this.up),this.quaternion.setFromRotationMatrix(e)}}(),add:function(e){if(1<arguments.length){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,e.dispatchEvent({type:"added"}),this.children.push(e)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(1<arguments.length)for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);-1!==(t=this.children.indexOf(e))&&(e.parent=null,e.dispatchEvent({type:"removed"}),this.children.splice(t,1))},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}},getWorldPosition:function(e){return e=e||new l,this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var e=new l,t=new l;return function(n){return n=n||new s,this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,n,t),n}}(),getWorldRotation:function(){var e=new s;return function(t){return t=t||new te,this.getWorldQuaternion(e),t.setFromQuaternion(e,this.rotation.order,!1)}}(),getWorldScale:function(){var e=new l,t=new s;return function(n){return n=n||new l,this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,t,n),n}}(),getWorldDirection:function(){var e=new s;return function(t){return t=t||new l,this.getWorldQuaternion(e),t.set(0,0,1).applyQuaternion(e)}}(),raycast:function(){},traverse:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){!0===this.matrixAutoUpdate&&this.updateMatrix(),!0!==this.matrixWorldNeedsUpdate&&!0!==e||(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)},toJSON:function(e){function t(e){var t,n=[];for(t in e){var r=e[t];delete r.metadata,n.push(r)}return n}var n={};(a=void 0===e||""===e)&&(e={geometries:{},materials:{},textures:{},images:{}},n.metadata={version:4.4,type:"Object",generator:"Object3D.toJSON"});var r={};if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),r.matrix=this.matrix.toArray(),void 0!==this.geometry&&(void 0===e.geometries[this.geometry.uuid]&&(e.geometries[this.geometry.uuid]=this.geometry.toJSON(e)),r.geometry=this.geometry.uuid),void 0!==this.material&&(void 0===e.materials[this.material.uuid]&&(e.materials[this.material.uuid]=this.material.toJSON(e)),r.material=this.material.uuid),0<this.children.length){r.children=[];for(var i=0;i<this.children.length;i++)r.children.push(this.children[i].toJSON(e).object)}if(a){var a=t(e.geometries),o=(i=t(e.materials),t(e.textures));e=t(e.images),0<a.length&&(n.geometries=a),0<i.length&&(n.materials=i),0<o.length&&(n.textures=o),0<e.length&&(n.images=e)}return n.object=r,n},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++)this.add(e.children[n].clone());return this}},Object.assign(re.prototype,t.prototype),ie.prototype={constructor:ie,set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){return(e||new l).addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return(e||new l).subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){var n=t||new l;return this.delta(n).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(){var e=new l,t=new l;return function(n,r){e.subVectors(n,this.start),t.subVectors(this.end,this.start);var i=t.dot(t);i=t.dot(e)/i;return r&&(i=li.clamp(i,0,1)),i}}(),closestPointToPoint:function(e,t,n){return e=this.closestPointToPointParameter(e,t),n=n||new l,this.delta(n).multiplyScalar(e).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}},ae.normal=function(){var e=new l;return function(t,n,r,i){return(i=i||new l).subVectors(r,n),e.subVectors(t,n),i.cross(e),0<(t=i.lengthSq())?i.multiplyScalar(1/Math.sqrt(t)):i.set(0,0,0)}}(),ae.barycoordFromPoint=function(){var e=new l,t=new l,n=new l;return function(r,i,a,o,s){e.subVectors(o,i),t.subVectors(a,i),n.subVectors(r,i),r=e.dot(e),i=e.dot(t),a=e.dot(n);var u=t.dot(t);o=t.dot(n);var c=r*u-i*i;return s=s||new l,0===c?s.set(-2,-1,-1):(u=(u*a-i*o)*(c=1/c),r=(r*o-i*a)*c,s.set(1-u-r,r,u))}}(),ae.containsPoint=function(){var e=new l;return function(t,n,r,i){return 0<=(t=ae.barycoordFromPoint(t,n,r,i,e)).x&&0<=t.y&&1>=t.x+t.y}}(),ae.prototype={constructor:ae,set:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this},setFromPointsAndIndices:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},area:function(){var e=new l,t=new l;return function(){return e.subVectors(this.c,this.b),t.subVectors(this.a,this.b),.5*e.cross(t).length()}}(),midpoint:function(e){return(e||new l).addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(e){return ae.normal(this.a,this.b,this.c,e)},plane:function(e){return(e||new J).setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(e,t){return ae.barycoordFromPoint(e,this.a,this.b,this.c,t)},containsPoint:function(e){return ae.containsPoint(e,this.a,this.b,this.c)},closestPointToPoint:function(){var e,t,n,r;return function(i,a){void 0===e&&(e=new J,t=[new ie,new ie,new ie],n=new l,r=new l);var o=a||new l,s=1/0;if(e.setFromCoplanarPoints(this.a,this.b,this.c),e.projectPoint(i,n),!0===this.containsPoint(n))o.copy(n);else{t[0].set(this.a,this.b),t[1].set(this.b,this.c),t[2].set(this.c,this.a);for(var u=0;u<t.length;u++){t[u].closestPointToPoint(n,!0,r);var c=n.distanceToSquared(r);c<s&&(s=c,o.copy(r))}}return o}}(),equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}},oe.prototype={constructor:oe,clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(t=0,n=e.vertexColors.length;t<n;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}},se.prototype=Object.create(W.prototype),se.prototype.constructor=se,se.prototype.isMeshBasicMaterial=!0,se.prototype.copy=function(e){return W.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this},le.prototype={constructor:le,isBufferAttribute:!0,set needsUpdate(e){!0===e&&this.version++},setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==e?e.length/this.itemSize:0,this.array=e},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),a=new F),t[n++]=a.r,t[n++]=a.g,t[n++]=a.b}return this},copyIndicesArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];t[n++]=a.a,t[n++]=a.b,t[n++]=a.c}return this},copyVector2sArray:function(e){for(var t=this.array,r=0,i=0,a=e.length;i<a;i++){var o=e[i];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),o=new n),t[r++]=o.x,t[r++]=o.y}return this},copyVector3sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),a=new l),t[n++]=a.x,t[n++]=a.y,t[n++]=a.z}return this},copyVector4sArray:function(e){for(var t=this.array,n=0,r=0,a=e.length;r<a;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),o=new i),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z,t[n++]=o.w}return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}},ue.prototype=Object.create(le.prototype),ue.prototype.constructor=ue,ce.prototype=Object.create(le.prototype),ce.prototype.constructor=ce,he.prototype=Object.create(le.prototype),he.prototype.constructor=he,de.prototype=Object.create(le.prototype),de.prototype.constructor=de,pe.prototype=Object.create(le.prototype),pe.prototype.constructor=pe,fe.prototype=Object.create(le.prototype),fe.prototype.constructor=fe,me.prototype=Object.create(le.prototype),me.prototype.constructor=me,ve.prototype=Object.create(le.prototype),ve.prototype.constructor=ve,ge.prototype=Object.create(le.prototype),ge.prototype.constructor=ge,Object.assign(ye.prototype,{computeGroups:function(e){var t,n=[],r=void 0;e=e.faces;for(var i=0;i<e.length;i++){var a=e[i];a.materialIndex!==r&&(r=a.materialIndex,void 0!==t&&(t.count=3*i-t.start,n.push(t)),t={start:3*i,materialIndex:r})}void 0!==t&&(t.count=3*i-t.start,n.push(t)),this.groups=n},fromGeometry:function(e){var t,r=e.faces,i=e.vertices,a=e.faceVertexUvs,o=a[0]&&0<a[0].length,s=a[1]&&0<a[1].length,l=e.morphTargets,u=l.length;if(0<u){t=[];for(var c=0;c<u;c++)t[c]=[];this.morphTargets.position=t}var h,d=e.morphNormals,p=d.length;if(0<p){for(h=[],c=0;c<p;c++)h[c]=[];this.morphTargets.normal=h}var f=e.skinIndices,m=e.skinWeights,v=f.length===i.length,g=m.length===i.length;for(c=0;c<r.length;c++){var y=r[c];this.vertices.push(i[y.a],i[y.b],i[y.c]);var x=y.vertexNormals;for(3===x.length?this.normals.push(x[0],x[1],x[2]):(x=y.normal,this.normals.push(x,x,x)),3===(x=y.vertexColors).length?this.colors.push(x[0],x[1],x[2]):(x=y.color,this.colors.push(x,x,x)),!0===o&&(void 0!==(x=a[0][c])?this.uvs.push(x[0],x[1],x[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",c),this.uvs.push(new n,new n,new n))),!0===s&&(void 0!==(x=a[1][c])?this.uvs2.push(x[0],x[1],x[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",c),this.uvs2.push(new n,new n,new n))),x=0;x<u;x++){var b=l[x].vertices;t[x].push(b[y.a],b[y.b],b[y.c])}for(x=0;x<p;x++)b=d[x].vertexNormals[c],h[x].push(b.a,b.b,b.c);v&&this.skinIndices.push(f[y.a],f[y.b],f[y.c]),g&&this.skinWeights.push(m[y.a],m[y.b],m[y.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this}});var wi=0;be.prototype={constructor:be,isGeometry:!0,applyMatrix:function(e){for(var t=(new Z).getNormalMatrix(e),n=0,r=this.vertices.length;n<r;n++)this.vertices[n].applyMatrix4(e);for(n=0,r=this.faces.length;n<r;n++){(e=this.faces[n]).normal.applyMatrix3(t).normalize();for(var i=0,a=e.vertexNormals.length;i<a;i++)e.vertexNormals[i].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.normalsNeedUpdate=this.verticesNeedUpdate=!0,this},rotateX:function(){var e;return function(t){return void 0===e&&(e=new u),e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e;return function(t){return void 0===e&&(e=new u),e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e;return function(t){return void 0===e&&(e=new u),e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e;return function(t,n,r){return void 0===e&&(e=new u),e.makeTranslation(t,n,r),this.applyMatrix(e),this}}(),scale:function(){var e;return function(t,n,r){return void 0===e&&(e=new u),e.makeScale(t,n,r),this.applyMatrix(e),this}}(),lookAt:function(){var e;return function(t){void 0===e&&(e=new re),e.lookAt(t),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),fromBufferGeometry:function(e){function t(e,t,n,i){i=new oe(e,t,n,void 0!==s?[d[e].clone(),d[t].clone(),d[n].clone()]:[],void 0!==u?[r.colors[e].clone(),r.colors[t].clone(),r.colors[n].clone()]:[],i),r.faces.push(i),void 0!==c&&r.faceVertexUvs[0].push([p[e].clone(),p[t].clone(),p[n].clone()]),void 0!==h&&r.faceVertexUvs[1].push([f[e].clone(),f[t].clone(),f[n].clone()])}var r=this,i=null!==e.index?e.index.array:void 0,a=e.attributes,o=a.position.array,s=void 0!==a.normal?a.normal.array:void 0,u=void 0!==a.color?a.color.array:void 0,c=void 0!==a.uv?a.uv.array:void 0,h=void 0!==a.uv2?a.uv2.array:void 0;void 0!==h&&(this.faceVertexUvs[1]=[]);for(var d=[],p=[],f=[],m=a=0;a<o.length;a+=3,m+=2)r.vertices.push(new l(o[a],o[a+1],o[a+2])),void 0!==s&&d.push(new l(s[a],s[a+1],s[a+2])),void 0!==u&&r.colors.push(new F(u[a],u[a+1],u[a+2])),void 0!==c&&p.push(new n(c[m],c[m+1])),void 0!==h&&f.push(new n(h[m],h[m+1]));if(void 0!==i)if(0<(o=e.groups).length)for(a=0;a<o.length;a++)for(var v=o[a],g=(m=g=v.start,g+v.count);m<g;m+=3)t(i[m],i[m+1],i[m+2],v.materialIndex);else for(a=0;a<i.length;a+=3)t(i[a],i[a+1],i[a+2]);else for(a=0;a<o.length/3;a+=3)t(a,a+1,a+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var e=this.boundingBox.getCenter().negate();return this.translate(e.x,e.y,e.z),e},normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=0===(t=this.boundingSphere.radius)?1:1/t,n=new u;return n.set(t,0,0,-t*e.x,0,t,0,-t*e.y,0,0,t,-t*e.z,0,0,0,1),this.applyMatrix(n),this},computeFaceNormals:function(){for(var e=new l,t=new l,n=0,r=this.faces.length;n<r;n++){var i=this.faces[n],a=this.vertices[i.a],o=this.vertices[i.b];e.subVectors(this.vertices[i.c],o),t.subVectors(a,o),e.cross(t),e.normalize(),i.normal.copy(e)}},computeVertexNormals:function(e){var t,n,r;for(void 0===e&&(e=!0),r=Array(this.vertices.length),t=0,n=this.vertices.length;t<n;t++)r[t]=new l;if(e){var i,a,o,s=new l,u=new l;for(e=0,t=this.faces.length;e<t;e++)n=this.faces[e],i=this.vertices[n.a],a=this.vertices[n.b],o=this.vertices[n.c],s.subVectors(o,a),u.subVectors(i,a),s.cross(u),r[n.a].add(s),r[n.b].add(s),r[n.c].add(s)}else for(this.computeFaceNormals(),e=0,t=this.faces.length;e<t;e++)r[(n=this.faces[e]).a].add(n.normal),r[n.b].add(n.normal),r[n.c].add(n.normal);for(t=0,n=this.vertices.length;t<n;t++)r[t].normalize();for(e=0,t=this.faces.length;e<t;e++)3===(i=(n=this.faces[e]).vertexNormals).length?(i[0].copy(r[n.a]),i[1].copy(r[n.b]),i[2].copy(r[n.c])):(i[0]=r[n.a].clone(),i[1]=r[n.b].clone(),i[2]=r[n.c].clone());0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var e,t,n;for(this.computeFaceNormals(),e=0,t=this.faces.length;e<t;e++){var r=(n=this.faces[e]).vertexNormals;3===r.length?(r[0].copy(n.normal),r[1].copy(n.normal),r[2].copy(n.normal)):(r[0]=n.normal.clone(),r[1]=n.normal.clone(),r[2]=n.normal.clone())}0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var e,t,n,r,i;for(n=0,r=this.faces.length;n<r;n++)for((i=this.faces[n]).__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]),e=0,t=i.vertexNormals.length;e<t;e++)i.__originalVertexNormals[e]?i.__originalVertexNormals[e].copy(i.vertexNormals[e]):i.__originalVertexNormals[e]=i.vertexNormals[e].clone();var a=new be;for(a.faces=this.faces,e=0,t=this.morphTargets.length;e<t;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[],i=this.morphNormals[e].faceNormals;var o,s,u=this.morphNormals[e].vertexNormals;for(n=0,r=this.faces.length;n<r;n++)o=new l,s={a:new l,b:new l,c:new l},i.push(o),u.push(s)}for(u=this.morphNormals[e],a.vertices=this.morphTargets[e].vertices,a.computeFaceNormals(),a.computeVertexNormals(),n=0,r=this.faces.length;n<r;n++)i=this.faces[n],o=u.faceNormals[n],s=u.vertexNormals[n],o.copy(i.normal),s.a.copy(i.vertexNormals[0]),s.b.copy(i.vertexNormals[1]),s.c.copy(i.vertexNormals[2])}for(n=0,r=this.faces.length;n<r;n++)(i=this.faces[n]).normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals},computeLineDistances:function(){for(var e=0,t=this.vertices,n=0,r=t.length;n<r;n++)0<n&&(e+=t[n].distanceTo(t[n-1])),this.lineDistances[n]=e},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Y),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new $),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n){if(!1===(e&&e.isGeometry))console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e);else{var r,i=this.vertices.length,a=this.vertices,o=e.vertices,s=this.faces,l=e.faces,u=this.faceVertexUvs[0],c=e.faceVertexUvs[0],h=this.colors,d=e.colors;void 0===n&&(n=0),void 0!==t&&(r=(new Z).getNormalMatrix(t)),e=0;for(var p=o.length;e<p;e++){var f=o[e].clone();void 0!==t&&f.applyMatrix4(t),a.push(f)}for(e=0,p=d.length;e<p;e++)h.push(d[e].clone());for(e=0,p=l.length;e<p;e++){var m=(o=l[e]).vertexNormals;d=o.vertexColors;for((h=new oe(o.a+i,o.b+i,o.c+i)).normal.copy(o.normal),void 0!==r&&h.normal.applyMatrix3(r).normalize(),t=0,a=m.length;t<a;t++)f=m[t].clone(),void 0!==r&&f.applyMatrix3(r).normalize(),h.vertexNormals.push(f);for(h.color.copy(o.color),t=0,a=d.length;t<a;t++)f=d[t],h.vertexColors.push(f.clone());h.materialIndex=o.materialIndex+n,s.push(h)}for(e=0,p=c.length;e<p;e++)if(r=[],void 0!==(n=c[e])){for(t=0,a=n.length;t<a;t++)r.push(n[t].clone());u.push(r)}}},mergeMesh:function(e){!1===(e&&e.isMesh)?console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e):(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix))},mergeVertices:function(){var e,t,n,r={},i=[],a=[],o=Math.pow(10,4);for(t=0,n=this.vertices.length;t<n;t++)e=this.vertices[t],void 0===r[e=Math.round(e.x*o)+"_"+Math.round(e.y*o)+"_"+Math.round(e.z*o)]?(r[e]=t,i.push(this.vertices[t]),a[t]=i.length-1):a[t]=a[r[e]];for(r=[],t=0,n=this.faces.length;t<n;t++)for((o=this.faces[t]).a=a[o.a],o.b=a[o.b],o.c=a[o.c],o=[o.a,o.b,o.c],e=0;3>e;e++)if(o[e]===o[(e+1)%3]){r.push(t);break}for(t=r.length-1;0<=t;t--)for(o=r[t],this.faces.splice(o,1),a=0,n=this.faceVertexUvs.length;a<n;a++)this.faceVertexUvs[a].splice(o,1);return t=this.vertices.length-i.length,this.vertices=i,t},sortFacesByMaterialIndex:function(){for(var e=this.faces,t=e.length,n=0;n<t;n++)e[n]._id=n;e.sort((function(e,t){return e.materialIndex-t.materialIndex}));var r,i,a=this.faceVertexUvs[0],o=this.faceVertexUvs[1];for(a&&a.length===t&&(r=[]),o&&o.length===t&&(i=[]),n=0;n<t;n++){var s=e[n]._id;r&&r.push(a[s]),i&&i.push(o[s])}r&&(this.faceVertexUvs[0]=r),i&&(this.faceVertexUvs[1]=i)},toJSON:function(){function e(e,t,n){return n?e|1<<t:e&~(1<<t)}function t(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==u[t]||(u[t]=l.length/3,l.push(e.x,e.y,e.z)),u[t]}function n(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==h[t]||(h[t]=c.length,c.push(e.getHex())),h[t]}function r(e){var t=e.x.toString()+e.y.toString();return void 0!==p[t]||(p[t]=d.length/2,d.push(e.x,e.y)),p[t]}var i={metadata:{version:4.4,type:"Geometry",generator:"Geometry.toJSON"}};if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),void 0!==this.parameters){var a,o=this.parameters;for(a in o)void 0!==o[a]&&(i[a]=o[a]);return i}for(o=[],a=0;a<this.vertices.length;a++){var s=this.vertices[a];o.push(s.x,s.y,s.z)}s=[];var l=[],u={},c=[],h={},d=[],p={};for(a=0;a<this.faces.length;a++){var f=this.faces[a],m=void 0!==this.faceVertexUvs[0][a],v=0<f.normal.length(),g=0<f.vertexNormals.length,y=1!==f.color.r||1!==f.color.g||1!==f.color.b,x=0<f.vertexColors.length,b=e(b=0,0,0);b=e(b,1,!0),b=e(b,2,!1),b=e(b,3,m),b=e(b,4,v),b=e(b,5,g),b=e(b,6,y),b=e(b,7,x);s.push(b),s.push(f.a,f.b,f.c),s.push(f.materialIndex),m&&(m=this.faceVertexUvs[0][a],s.push(r(m[0]),r(m[1]),r(m[2]))),v&&s.push(t(f.normal)),g&&(v=f.vertexNormals,s.push(t(v[0]),t(v[1]),t(v[2]))),y&&s.push(n(f.color)),x&&(f=f.vertexColors,s.push(n(f[0]),n(f[1]),n(f[2])))}return i.data={},i.data.vertices=o,i.data.normals=l,0<c.length&&(i.data.colors=c),0<d.length&&(i.data.uvs=[d]),i.data.faces=s,i},clone:function(){return(new be).copy(this)},copy:function(e){var t,n,r,i,a,o;for(this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingSphere=this.boundingBox=null,this.name=e.name,t=0,n=(r=e.vertices).length;t<n;t++)this.vertices.push(r[t].clone());for(t=0,n=(r=e.colors).length;t<n;t++)this.colors.push(r[t].clone());for(t=0,n=(r=e.faces).length;t<n;t++)this.faces.push(r[t].clone());for(t=0,n=e.faceVertexUvs.length;t<n;t++){var s=e.faceVertexUvs[t];for(void 0===this.faceVertexUvs[t]&&(this.faceVertexUvs[t]=[]),r=0,i=s.length;r<i;r++){var l=s[r],u=[];for(a=0,o=l.length;a<o;a++)u.push(l[a].clone());this.faceVertexUvs[t].push(u)}}for(t=0,n=(a=e.morphTargets).length;t<n;t++){if((o={}).name=a[t].name,void 0!==a[t].vertices)for(o.vertices=[],r=0,i=a[t].vertices.length;r<i;r++)o.vertices.push(a[t].vertices[r].clone());if(void 0!==a[t].normals)for(o.normals=[],r=0,i=a[t].normals.length;r<i;r++)o.normals.push(a[t].normals[r].clone());this.morphTargets.push(o)}for(t=0,n=(a=e.morphNormals).length;t<n;t++){if(o={},void 0!==a[t].vertexNormals)for(o.vertexNormals=[],r=0,i=a[t].vertexNormals.length;r<i;r++)s=a[t].vertexNormals[r],(l={}).a=s.a.clone(),l.b=s.b.clone(),l.c=s.c.clone(),o.vertexNormals.push(l);if(void 0!==a[t].faceNormals)for(o.faceNormals=[],r=0,i=a[t].faceNormals.length;r<i;r++)o.faceNormals.push(a[t].faceNormals[r].clone());this.morphNormals.push(o)}for(t=0,n=(r=e.skinWeights).length;t<n;t++)this.skinWeights.push(r[t].clone());for(t=0,n=(r=e.skinIndices).length;t<n;t++)this.skinIndices.push(r[t].clone());for(t=0,n=(r=e.lineDistances).length;t<n;t++)this.lineDistances.push(r[t]);return null!==(t=e.boundingBox)&&(this.boundingBox=t.clone()),null!==(t=e.boundingSphere)&&(this.boundingSphere=t.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}},Object.assign(be.prototype,t.prototype),_e.prototype={constructor:_e,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(65535<xe(e)?me:pe)(e,1):this.index=e},addAttribute:function(e,t,n){if(!1===(t&&t.isBufferAttribute)&&!1===(t&&t.isInterleavedBufferAttribute))console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.addAttribute(e,new le(t,n));else{if("index"!==e)return this.attributes[e]=t,this;console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t)}},getAttribute:function(e){return this.attributes[e]},removeAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix:function(e){var t=this.attributes.position;return void 0!==t&&(e.applyToBufferAttribute(t),t.needsUpdate=!0),void 0!==(t=this.attributes.normal)&&((new Z).getNormalMatrix(e).applyToBufferAttribute(t),t.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var e;return function(t){return void 0===e&&(e=new u),e.makeRotationX(t),this.applyMatrix(e),this}}(),rotateY:function(){var e;return function(t){return void 0===e&&(e=new u),e.makeRotationY(t),this.applyMatrix(e),this}}(),rotateZ:function(){var e;return function(t){return void 0===e&&(e=new u),e.makeRotationZ(t),this.applyMatrix(e),this}}(),translate:function(){var e;return function(t,n,r){return void 0===e&&(e=new u),e.makeTranslation(t,n,r),this.applyMatrix(e),this}}(),scale:function(){var e;return function(t,n,r){return void 0===e&&(e=new u),e.makeScale(t,n,r),this.applyMatrix(e),this}}(),lookAt:function(){var e;return function(t){void 0===e&&(e=new re),e.lookAt(t),e.updateMatrix(),this.applyMatrix(e.matrix)}}(),center:function(){this.computeBoundingBox();var e=this.boundingBox.getCenter().negate();return this.translate(e.x,e.y,e.z),e},setFromObject:function(e){var t=e.geometry;if(e.isPoints||e.isLine){e=new ve(3*t.vertices.length,3);var n=new ve(3*t.colors.length,3);this.addAttribute("position",e.copyVector3sArray(t.vertices)),this.addAttribute("color",n.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length&&(e=new ve(t.lineDistances.length,1),this.addAttribute("lineDistance",e.copyArray(t.lineDistances))),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},updateFromObject:function(e){var t=e.geometry;if(e.isMesh){var n=t.__directGeometry;if(!0===t.elementsNeedUpdate&&(n=void 0,t.elementsNeedUpdate=!1),void 0===n)return this.fromGeometry(t);n.verticesNeedUpdate=t.verticesNeedUpdate,n.normalsNeedUpdate=t.normalsNeedUpdate,n.colorsNeedUpdate=t.colorsNeedUpdate,n.uvsNeedUpdate=t.uvsNeedUpdate,n.groupsNeedUpdate=t.groupsNeedUpdate,t.verticesNeedUpdate=!1,t.normalsNeedUpdate=!1,t.colorsNeedUpdate=!1,t.uvsNeedUpdate=!1,t.groupsNeedUpdate=!1,t=n}return!0===t.verticesNeedUpdate&&(void 0!==(n=this.attributes.position)&&(n.copyVector3sArray(t.vertices),n.needsUpdate=!0),t.verticesNeedUpdate=!1),!0===t.normalsNeedUpdate&&(void 0!==(n=this.attributes.normal)&&(n.copyVector3sArray(t.normals),n.needsUpdate=!0),t.normalsNeedUpdate=!1),!0===t.colorsNeedUpdate&&(void 0!==(n=this.attributes.color)&&(n.copyColorsArray(t.colors),n.needsUpdate=!0),t.colorsNeedUpdate=!1),t.uvsNeedUpdate&&(void 0!==(n=this.attributes.uv)&&(n.copyVector2sArray(t.uvs),n.needsUpdate=!0),t.uvsNeedUpdate=!1),t.lineDistancesNeedUpdate&&(void 0!==(n=this.attributes.lineDistance)&&(n.copyArray(t.lineDistances),n.needsUpdate=!0),t.lineDistancesNeedUpdate=!1),t.groupsNeedUpdate&&(t.computeGroups(e.geometry),this.groups=t.groups,t.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new ye).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(3*e.vertices.length);for(var n in this.addAttribute("position",new le(t,3).copyVector3sArray(e.vertices)),0<e.normals.length&&(t=new Float32Array(3*e.normals.length),this.addAttribute("normal",new le(t,3).copyVector3sArray(e.normals))),0<e.colors.length&&(t=new Float32Array(3*e.colors.length),this.addAttribute("color",new le(t,3).copyColorsArray(e.colors))),0<e.uvs.length&&(t=new Float32Array(2*e.uvs.length),this.addAttribute("uv",new le(t,2).copyVector2sArray(e.uvs))),0<e.uvs2.length&&(t=new Float32Array(2*e.uvs2.length),this.addAttribute("uv2",new le(t,2).copyVector2sArray(e.uvs2))),0<e.indices.length&&(t=new(65535<xe(e.indices)?Uint32Array:Uint16Array)(3*e.indices.length),this.setIndex(new le(t,1).copyIndicesArray(e.indices))),this.groups=e.groups,e.morphTargets){t=[];for(var r=e.morphTargets[n],i=0,a=r.length;i<a;i++){var o=r[i],s=new ve(3*o.length,3);t.push(s.copyVector3sArray(o))}this.morphAttributes[n]=t}return 0<e.skinIndices.length&&(n=new ve(4*e.skinIndices.length,4),this.addAttribute("skinIndex",n.copyVector4sArray(e.skinIndices))),0<e.skinWeights.length&&(n=new ve(4*e.skinWeights.length,4),this.addAttribute("skinWeight",n.copyVector4sArray(e.skinWeights))),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Y);var e=this.attributes.position;void 0!==e?this.boundingBox.setFromBufferAttribute(e):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var e=new Y,t=new l;return function(){null===this.boundingSphere&&(this.boundingSphere=new $);var n=this.attributes.position;if(n){var r=this.boundingSphere.center;e.setFromBufferAttribute(n),e.getCenter(r);for(var i=0,a=0,o=n.count;a<o;a++)t.x=n.getX(a),t.y=n.getY(a),t.z=n.getZ(a),i=Math.max(i,r.distanceToSquared(t));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.attributes,n=this.groups;if(t.position){var r=t.position.array;if(void 0===t.normal)this.addAttribute("normal",new le(new Float32Array(r.length),3));else for(var i=0,a=(c=t.normal.array).length;i<a;i++)c[i]=0;var o,s,u,c=t.normal.array,h=new l,d=new l,p=new l,f=new l,m=new l;if(e){e=e.array,0===n.length&&this.addGroup(0,e.length);for(var v=0,g=n.length;v<g;++v)for(a=(i=n[v]).start,o=i.count,i=a,a+=o;i<a;i+=3)o=3*e[i+0],s=3*e[i+1],u=3*e[i+2],h.fromArray(r,o),d.fromArray(r,s),p.fromArray(r,u),f.subVectors(p,d),m.subVectors(h,d),f.cross(m),c[o]+=f.x,c[o+1]+=f.y,c[o+2]+=f.z,c[s]+=f.x,c[s+1]+=f.y,c[s+2]+=f.z,c[u]+=f.x,c[u+1]+=f.y,c[u+2]+=f.z}else for(i=0,a=r.length;i<a;i+=9)h.fromArray(r,i),d.fromArray(r,i+3),p.fromArray(r,i+6),f.subVectors(p,d),m.subVectors(h,d),f.cross(m),c[i]=f.x,c[i+1]=f.y,c[i+2]=f.z,c[i+3]=f.x,c[i+4]=f.y,c[i+5]=f.z,c[i+6]=f.x,c[i+7]=f.y,c[i+8]=f.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},merge:function(e,t){if(!1!==(e&&e.isBufferGeometry)){void 0===t&&(t=0);var n,r=this.attributes;for(n in r)if(void 0!==e.attributes[n])for(var i=r[n].array,a=(s=e.attributes[n]).array,o=0,s=s.itemSize*t;o<a.length;o++,s++)i[s]=a[o];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)},normalizeNormals:function(){for(var e,t,n,r=this.attributes.normal.array,i=0,a=r.length;i<a;i+=3)e=r[i],t=r[i+1],n=r[i+2],e=1/Math.sqrt(e*e+t*t+n*n),r[i]*=e,r[i+1]*=e,r[i+2]*=e},toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var e,t=new _e,n=this.index.array,r=this.attributes;for(e in r){for(var i,a=(o=r[e]).array,o=o.itemSize,s=new a.constructor(n.length*o),l=0,u=0,c=n.length;u<c;u++){i=n[u]*o;for(var h=0;h<o;h++)s[l++]=a[i++]}t.addAttribute(e,new le(s,o))}return t},toJSON:function(){var e={metadata:{version:4.4,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){var t,n=this.parameters;for(t in n)void 0!==n[t]&&(e[t]=n[t]);return e}e.data={attributes:{}};var r=this.index;for(t in null!==r&&(n=Array.prototype.slice.call(r.array),e.data.index={type:r.array.constructor.name,array:n}),r=this.attributes){var i=r[t];n=Array.prototype.slice.call(i.array);e.data.attributes[t]={itemSize:i.itemSize,type:i.array.constructor.name,array:n,normalized:i.normalized}}return 0<(t=this.groups).length&&(e.data.groups=JSON.parse(JSON.stringify(t))),null!==(t=this.boundingSphere)&&(e.data.boundingSphere={center:t.center.toArray(),radius:t.radius}),e},clone:function(){return(new _e).copy(this)},copy:function(e){var t,n,r;for(t in this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingSphere=this.boundingBox=null,this.name=e.name,null!==(n=e.index)&&this.setIndex(n.clone()),n=e.attributes)this.addAttribute(t,n[t].clone());var i=e.morphAttributes;for(t in i){var a=[],o=i[t];for(n=0,r=o.length;n<r;n++)a.push(o[n].clone());this.morphAttributes[t]=a}for(n=0,r=(t=e.groups).length;n<r;n++)i=t[n],this.addGroup(i.start,i.count,i.materialIndex);return null!==(t=e.boundingBox)&&(this.boundingBox=t.clone()),null!==(t=e.boundingSphere)&&(this.boundingSphere=t.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this},dispose:function(){this.dispatchEvent({type:"dispose"})}},_e.MaxIndex=65535,Object.assign(_e.prototype,t.prototype),we.prototype=Object.assign(Object.create(re.prototype),{constructor:we,isMesh:!0,setDrawMode:function(e){this.drawMode=e},copy:function(e){return re.prototype.copy.call(this,e),this.drawMode=e.drawMode,this},updateMorphTargets:function(){var e=this.geometry.morphTargets;if(void 0!==e&&0<e.length){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var t=0,n=e.length;t<n;t++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[e[t].name]=t}},raycast:function(){function e(e,t,n,r,i,a,o){return ae.barycoordFromPoint(e,t,n,r,y),i.multiplyScalar(y.x),a.multiplyScalar(y.y),o.multiplyScalar(y.z),i.add(a).add(o),i.clone()}function t(e,t,n,r,i,a,o){var s=e.material;return null===(1===s.side?n.intersectTriangle(a,i,r,!0,o):n.intersectTriangle(r,i,a,2!==s.side,o))?null:(b.copy(o),b.applyMatrix4(e.matrixWorld),(n=t.ray.origin.distanceTo(b))<t.near||n>t.far?null:{distance:n,point:b.clone(),object:e})}function r(n,r,i,a,o,l,u,d){return s.fromBufferAttribute(a,l),c.fromBufferAttribute(a,u),h.fromBufferAttribute(a,d),(n=t(n,r,i,s,c,h,x))&&(o&&(m.fromBufferAttribute(o,l),v.fromBufferAttribute(o,u),g.fromBufferAttribute(o,d),n.uv=e(x,s,c,h,m,v,g)),n.face=new oe(l,u,d,ae.normal(s,c,h)),n.faceIndex=l),n}var i=new u,a=new ee,o=new $,s=new l,c=new l,h=new l,d=new l,p=new l,f=new l,m=new n,v=new n,g=new n,y=new l,x=new l,b=new l;return function(n,l){var u,y=this.geometry,b=this.material,_=this.matrixWorld;if(void 0!==b&&(null===y.boundingSphere&&y.computeBoundingSphere(),o.copy(y.boundingSphere),o.applyMatrix4(_),!1!==n.ray.intersectsSphere(o)&&(i.getInverse(_),a.copy(n.ray).applyMatrix4(i),null===y.boundingBox||!1!==a.intersectsBox(y.boundingBox))))if(y.isBufferGeometry){b=y.index;var w,E,T,M,S=y.attributes.position;_=y.attributes.uv;if(null!==b)for(T=0,M=b.count;T<M;T+=3)y=b.getX(T),w=b.getX(T+1),E=b.getX(T+2),(u=r(this,n,a,S,_,y,w,E))&&(u.faceIndex=Math.floor(T/3),l.push(u));else for(T=0,M=S.count;T<M;T+=3)(u=r(this,n,a,S,_,y=T,w=T+1,E=T+2))&&(u.index=y,l.push(u))}else if(y.isGeometry){var A,C;T=!0===(_=b&&b.isMultiMaterial)?b.materials:null,M=y.vertices,w=y.faces,0<(E=y.faceVertexUvs[0]).length&&(S=E);for(var L=0,P=w.length;L<P;L++){var R=w[L];if(void 0!==(u=!0===_?T[R.materialIndex]:b)){if(E=M[R.a],A=M[R.b],C=M[R.c],!0===u.morphTargets){u=y.morphTargets;var I=this.morphTargetInfluences;s.set(0,0,0),c.set(0,0,0),h.set(0,0,0);for(var D=0,O=u.length;D<O;D++){var N=I[D];if(0!==N){var z=u[D].vertices;s.addScaledVector(d.subVectors(z[R.a],E),N),c.addScaledVector(p.subVectors(z[R.b],A),N),h.addScaledVector(f.subVectors(z[R.c],C),N)}}s.add(E),c.add(A),h.add(C),E=s,A=c,C=h}(u=t(this,n,a,E,A,C,x))&&(S&&(I=S[L],m.copy(I[0]),v.copy(I[1]),g.copy(I[2]),u.uv=e(x,E,A,C,m,v,g)),u.face=R,u.faceIndex=L,l.push(u))}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Ee.prototype=Object.create(be.prototype),Ee.prototype.constructor=Ee,Te.prototype=Object.create(_e.prototype),Te.prototype.constructor=Te,Me.prototype=Object.create(be.prototype),Me.prototype.constructor=Me,Se.prototype=Object.create(_e.prototype),Se.prototype.constructor=Se,Ae.prototype=Object.create(re.prototype),Ae.prototype.constructor=Ae,Ae.prototype.isCamera=!0,Ae.prototype.getWorldDirection=function(){var e=new s;return function(t){return t=t||new l,this.getWorldQuaternion(e),t.set(0,0,-1).applyQuaternion(e)}}(),Ae.prototype.lookAt=function(){var e=new u;return function(t){e.lookAt(this.position,t,this.up),this.quaternion.setFromRotationMatrix(e)}}(),Ae.prototype.clone=function(){return(new this.constructor).copy(this)},Ae.prototype.copy=function(e){return re.prototype.copy.call(this,e),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this},Ce.prototype=Object.assign(Object.create(Ae.prototype),{constructor:Ce,isPerspectiveCamera:!0,copy:function(e){return Ae.prototype.copy.call(this,e),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){e=.5*this.getFilmHeight()/e,this.fov=2*li.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*li.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*li.RAD2DEG*Math.atan(Math.tan(.5*li.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,r,i,a){this.aspect=e/t,this.view={fullWidth:e,fullHeight:t,offsetX:n,offsetY:r,width:i,height:a},this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null,this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=2*(o=e*Math.tan(.5*li.DEG2RAD*this.fov)/this.zoom),n=-.5*(s=this.aspect*t),r=this.view;if(null!==r){var i=r.fullWidth,a=r.fullHeight,o=(n=n+r.offsetX*s/i,o-r.offsetY*t/a),s=r.width/i*s;t=r.height/a*t}0!==(r=this.filmOffset)&&(n+=e*r/this.getFilmWidth()),this.projectionMatrix.makePerspective(n,n+s,o,o-t,e,this.far)},toJSON:function(e){return(e=re.prototype.toJSON.call(this,e)).object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}),Le.prototype=Object.assign(Object.create(Ae.prototype),{constructor:Le,isOrthographicCamera:!0,copy:function(e){return Ae.prototype.copy.call(this,e),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,r,i,a){this.view={fullWidth:e,fullHeight:t,offsetX:n,offsetY:r,width:i,height:a},this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null,this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(r=(this.right+this.left)/2)-e,r=r+e;e=(a=(this.top+this.bottom)/2)+t,t=a-t;if(null!==this.view){r=this.zoom/(this.view.width/this.view.fullWidth),t=this.zoom/(this.view.height/this.view.fullHeight);var i=(this.right-this.left)/this.view.width,a=(this.top-this.bottom)/this.view.height;r=(n=n+this.view.offsetX/r*i)+this.view.width/r*i,t=(e=e-this.view.offsetY/t*a)-this.view.height/t*a}this.projectionMatrix.makeOrthographic(n,r,e,t,this.near,this.far)},toJSON:function(e){return(e=re.prototype.toJSON.call(this,e)).object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}});var Ei=0;Ke.prototype.isFogExp2=!0,Ke.prototype.clone=function(){return new Ke(this.color.getHex(),this.density)},Ke.prototype.toJSON=function(e){return{type:"FogExp2",color:this.color.getHex(),density:this.density}},et.prototype.isFog=!0,et.prototype.clone=function(){return new et(this.color.getHex(),this.near,this.far)},et.prototype.toJSON=function(e){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}},tt.prototype=Object.create(re.prototype),tt.prototype.constructor=tt,tt.prototype.copy=function(e,t){return re.prototype.copy.call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},tt.prototype.toJSON=function(e){var t=re.prototype.toJSON.call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t},nt.prototype=Object.assign(Object.create(re.prototype),{constructor:nt,isLensFlare:!0,copy:function(e){re.prototype.copy.call(this,e),this.positionScreen.copy(e.positionScreen),this.customUpdateCallback=e.customUpdateCallback;for(var t=0,n=e.lensFlares.length;t<n;t++)this.lensFlares.push(e.lensFlares[t]);return this},add:function(e,t,n,r,i,a){void 0===t&&(t=-1),void 0===n&&(n=0),void 0===a&&(a=1),void 0===i&&(i=new F(16777215)),void 0===r&&(r=1),n=Math.min(n,Math.max(0,n)),this.lensFlares.push({texture:e,size:t,distance:n,x:0,y:0,z:0,scale:1,rotation:0,opacity:a,color:i,blending:r})},updateLensFlares:function(){var e,t,n=this.lensFlares.length,r=2*-this.positionScreen.x,i=2*-this.positionScreen.y;for(e=0;e<n;e++)(t=this.lensFlares[e]).x=this.positionScreen.x+r*t.distance,t.y=this.positionScreen.y+i*t.distance,t.wantedRotation=t.x*Math.PI*.25,t.rotation+=.25*(t.wantedRotation-t.rotation)}}),rt.prototype=Object.create(W.prototype),rt.prototype.constructor=rt,rt.prototype.copy=function(e){return W.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.rotation=e.rotation,this},it.prototype=Object.assign(Object.create(re.prototype),{constructor:it,isSprite:!0,raycast:function(){var e=new l;return function(t,n){e.setFromMatrixPosition(this.matrixWorld);var r=t.ray.distanceSqToPoint(e);r>this.scale.x*this.scale.y/4||n.push({distance:Math.sqrt(r),point:this.position,face:null,object:this})}}(),clone:function(){return new this.constructor(this.material).copy(this)}}),at.prototype=Object.assign(Object.create(re.prototype),{constructor:at,copy:function(e){re.prototype.copy.call(this,e,!1);for(var t=0,n=(e=e.levels).length;t<n;t++){var r=e[t];this.addLevel(r.object.clone(),r.distance)}return this},addLevel:function(e,t){void 0===t&&(t=0),t=Math.abs(t);for(var n=this.levels,r=0;r<n.length&&!(t<n[r].distance);r++);n.splice(r,0,{distance:t,object:e}),this.add(e)},getObjectForDistance:function(e){for(var t=this.levels,n=1,r=t.length;n<r&&!(e<t[n].distance);n++);return t[n-1].object},raycast:function(){var e=new l;return function(t,n){e.setFromMatrixPosition(this.matrixWorld);var r=t.ray.origin.distanceTo(e);this.getObjectForDistance(r).raycast(t,n)}}(),update:function(){var e=new l,t=new l;return function(n){var r=this.levels;if(1<r.length){e.setFromMatrixPosition(n.matrixWorld),t.setFromMatrixPosition(this.matrixWorld),n=e.distanceTo(t),r[0].object.visible=!0;for(var i=1,a=r.length;i<a&&n>=r[i].distance;i++)r[i-1].object.visible=!1,r[i].object.visible=!0;for(;i<a;i++)r[i].object.visible=!1}}}(),toJSON:function(e){(e=re.prototype.toJSON.call(this,e)).object.levels=[];for(var t=this.levels,n=0,r=t.length;n<r;n++){var i=t[n];e.object.levels.push({object:i.object.uuid,distance:i.distance})}return e}}),Object.assign(ot.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e=0,t=this.bones.length;e<t;e++){var n=new u;this.bones[e]&&n.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(n)}},pose:function(){for(var e,t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&e.matrixWorld.getInverse(this.boneInverses[t]);for(t=0,n=this.bones.length;t<n;t++)(e=this.bones[t])&&(e.parent&&e.parent.isBone?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},update:function(){var e=new u;return function(){for(var t=0,n=this.bones.length;t<n;t++)e.multiplyMatrices(this.bones[t]?this.bones[t].matrixWorld:this.identityMatrix,this.boneInverses[t]),e.toArray(this.boneMatrices,16*t);this.useVertexTexture&&(this.boneTexture.needsUpdate=!0)}}(),clone:function(){return new ot(this.bones,this.boneInverses,this.useVertexTexture)}}),st.prototype=Object.assign(Object.create(re.prototype),{constructor:st,isBone:!0}),lt.prototype=Object.assign(Object.create(we.prototype),{constructor:lt,isSkinnedMesh:!0,bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){if(this.geometry&&this.geometry.isGeometry)for(var e=0;e<this.geometry.skinWeights.length;e++){var t=1/(n=this.geometry.skinWeights[e]).lengthManhattan();1/0!==t?n.multiplyScalar(t):n.set(1,0,0,0)}else if(this.geometry&&this.geometry.isBufferGeometry){var n=new i,r=this.geometry.attributes.skinWeight;for(e=0;e<r.count;e++)n.x=r.getX(e),n.y=r.getY(e),n.z=r.getZ(e),n.w=r.getW(e),1/0!==(t=1/n.lengthManhattan())?n.multiplyScalar(t):n.set(1,0,0,0),r.setXYZW(e,n.x,n.y,n.z,n.w)}},updateMatrixWorld:function(e){we.prototype.updateMatrixWorld.call(this,!0),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material,this.skeleton.useVertexTexture).copy(this)}}),ut.prototype=Object.create(W.prototype),ut.prototype.constructor=ut,ut.prototype.isLineBasicMaterial=!0,ut.prototype.copy=function(e){return W.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this},ct.prototype=Object.assign(Object.create(re.prototype),{constructor:ct,isLine:!0,raycast:function(){var e=new u,t=new ee,n=new $;return function(r,i){var a=(a=r.linePrecision)*a,o=this.geometry,s=this.matrixWorld;if(null===o.boundingSphere&&o.computeBoundingSphere(),n.copy(o.boundingSphere),n.applyMatrix4(s),!1!==r.ray.intersectsSphere(n)){e.getInverse(s),t.copy(r.ray).applyMatrix4(e);var u=new l,c=new l,h=(s=new l,new l),d=this&&this.isLineSegments?2:1;if(o.isBufferGeometry){var p=o.index,f=o.attributes.position.array;if(null!==p){o=0;for(var m=(p=p.array).length-1;o<m;o+=d){var v=p[o+1];u.fromArray(f,3*p[o]),c.fromArray(f,3*v),(v=t.distanceSqToSegment(u,c,h,s))>a||(h.applyMatrix4(this.matrixWorld),(v=r.ray.origin.distanceTo(h))<r.near||v>r.far||i.push({distance:v,point:s.clone().applyMatrix4(this.matrixWorld),index:o,face:null,faceIndex:null,object:this}))}}else for(o=0,m=f.length/3-1;o<m;o+=d)u.fromArray(f,3*o),c.fromArray(f,3*o+3),(v=t.distanceSqToSegment(u,c,h,s))>a||(h.applyMatrix4(this.matrixWorld),(v=r.ray.origin.distanceTo(h))<r.near||v>r.far||i.push({distance:v,point:s.clone().applyMatrix4(this.matrixWorld),index:o,face:null,faceIndex:null,object:this}))}else if(o.isGeometry)for(c=(u=o.vertices).length,o=0;o<c-1;o+=d)(v=t.distanceSqToSegment(u[o],u[o+1],h,s))>a||(h.applyMatrix4(this.matrixWorld),(v=r.ray.origin.distanceTo(h))<r.near||v>r.far||i.push({distance:v,point:s.clone().applyMatrix4(this.matrixWorld),index:o,face:null,faceIndex:null,object:this}))}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),ht.prototype=Object.assign(Object.create(ct.prototype),{constructor:ht,isLineSegments:!0}),dt.prototype=Object.create(W.prototype),dt.prototype.constructor=dt,dt.prototype.isPointsMaterial=!0,dt.prototype.copy=function(e){return W.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this},pt.prototype=Object.assign(Object.create(re.prototype),{constructor:pt,isPoints:!0,raycast:function(){var e=new u,t=new ee,n=new $;return function(r,i){function a(e,n){var a=t.distanceSqToPoint(e);if(a<h){var s=t.closestPointToPoint(e);s.applyMatrix4(u);var l=r.ray.origin.distanceTo(s);l<r.near||l>r.far||i.push({distance:l,distanceToRay:Math.sqrt(a),point:s.clone(),index:n,face:null,object:o})}}var o=this,s=this.geometry,u=this.matrixWorld,c=r.params.Points.threshold;if(null===s.boundingSphere&&s.computeBoundingSphere(),n.copy(s.boundingSphere),n.applyMatrix4(u),!1!==r.ray.intersectsSphere(n)){e.getInverse(u),t.copy(r.ray).applyMatrix4(e);var h=(c=c/((this.scale.x+this.scale.y+this.scale.z)/3))*c;c=new l;if(s.isBufferGeometry){var d=s.index;s=s.attributes.position.array;if(null!==d)for(var p=d.array,f=(d=0,p.length);d<f;d++){var m=p[d];c.fromArray(s,3*m),a(c,m)}else for(d=0,p=s.length/3;d<p;d++)c.fromArray(s,3*d),a(c,d)}else for(d=0,p=(c=s.vertices).length;d<p;d++)a(c[d],d)}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),ft.prototype=Object.assign(Object.create(re.prototype),{constructor:ft}),mt.prototype=Object.create(r.prototype),mt.prototype.constructor=mt,vt.prototype=Object.create(r.prototype),vt.prototype.constructor=vt,vt.prototype.isCompressedTexture=!0,gt.prototype=Object.create(r.prototype),gt.prototype.constructor=gt,yt.prototype=Object.create(r.prototype),yt.prototype.constructor=yt,yt.prototype.isDepthTexture=!0,xt.prototype=Object.create(_e.prototype),xt.prototype.constructor=xt,bt.prototype=Object.create(be.prototype),bt.prototype.constructor=bt,_t.prototype=Object.create(_e.prototype),_t.prototype.constructor=_t,wt.prototype=Object.create(be.prototype),wt.prototype.constructor=wt,Et.prototype=Object.create(_e.prototype),Et.prototype.constructor=Et,Tt.prototype=Object.create(be.prototype),Tt.prototype.constructor=Tt,Mt.prototype=Object.create(Et.prototype),Mt.prototype.constructor=Mt,St.prototype=Object.create(be.prototype),St.prototype.constructor=St,At.prototype=Object.create(Et.prototype),At.prototype.constructor=At,Ct.prototype=Object.create(be.prototype),Ct.prototype.constructor=Ct,Lt.prototype=Object.create(Et.prototype),Lt.prototype.constructor=Lt,Pt.prototype=Object.create(be.prototype),Pt.prototype.constructor=Pt,Rt.prototype=Object.create(Et.prototype),Rt.prototype.constructor=Rt,It.prototype=Object.create(be.prototype),It.prototype.constructor=It,Dt.prototype=Object.create(_e.prototype),Dt.prototype.constructor=Dt,Ot.prototype=Object.create(be.prototype),Ot.prototype.constructor=Ot,Nt.prototype=Object.create(_e.prototype),Nt.prototype.constructor=Nt,zt.prototype=Object.create(be.prototype),zt.prototype.constructor=zt,Ut.prototype=Object.create(_e.prototype),Ut.prototype.constructor=Ut;var Ti={area:function(e){for(var t=e.length,n=0,r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n},triangulate:function(e,t){var n=e.length;if(3>n)return null;var r,i,a,o=[],s=[],l=[];if(0<Ti.area(e))for(i=0;i<n;i++)s[i]=i;else for(i=0;i<n;i++)s[i]=n-1-i;var u=2*n;for(i=n-1;2<n;){if(0>=u--){console.warn("THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()");break}var c;n<=(r=i)&&(r=0),n<=(i=r+1)&&(i=0),n<=(a=i+1)&&(a=0);e:{var h,d,p,f,m,v,g,y;if(h=e[s[r]].x,d=e[s[r]].y,p=e[s[i]].x,f=e[s[i]].y,m=e[s[a]].x,0>=(p-h)*((v=e[s[a]].y)-d)-(f-d)*(m-h))c=!1;else{var x,b,_,w,E,T,M,S,A,C;for(x=m-p,b=v-f,_=h-m,w=d-v,E=p-h,T=f-d,c=0;c<n;c++)if(g=e[s[c]].x,y=e[s[c]].y,!(g===h&&y===d||g===p&&y===f||g===m&&y===v)&&(A=g-p,C=y-f,M=E*(S=y-d)-T*(M=g-h),S=_*(y-=v)-w*(g-=m),(A=x*C-b*A)>=-Number.EPSILON&&S>=-Number.EPSILON&&M>=-Number.EPSILON)){c=!1;break e}c=!0}}if(c){for(o.push([e[s[r]],e[s[i]],e[s[a]]]),l.push([s[r],s[i],s[a]]),r=i,a=i+1;a<n;r++,a++)s[r]=s[a];u=2*--n}}return t?l:o},triangulateShape:function(e,t){function n(e){var t=e.length;2<t&&e[t-1].equals(e[0])&&e.pop()}function r(e,t,n){return e.x!==t.x?e.x<t.x?e.x<=n.x&&n.x<=t.x:t.x<=n.x&&n.x<=e.x:e.y<t.y?e.y<=n.y&&n.y<=t.y:t.y<=n.y&&n.y<=e.y}function i(e,t,n,i,a){var o=t.x-e.x,s=t.y-e.y,l=i.x-n.x,u=i.y-n.y,c=e.x-n.x,h=e.y-n.y,d=s*l-o*u,p=s*c-o*h;if(Math.abs(d)>Number.EPSILON){if(0<d){if(0>p||p>d)return[];if(0>(l=u*c-l*h)||l>d)return[]}else{if(0<p||p<d)return[];if(0<(l=u*c-l*h)||l<d)return[]}return 0===l?!a||0!==p&&p!==d?[e]:[]:l===d?!a||0!==p&&p!==d?[t]:[]:0===p?[n]:p===d?[i]:(a=l/d,[{x:e.x+a*o,y:e.y+a*s}])}return 0!==p||u*c!=l*h?[]:(l=0===l&&0===u,(s=0===o&&0===s)&&l?e.x!==n.x||e.y!==n.y?[]:[e]:s?r(n,i,e)?[e]:[]:l?r(e,t,n)?[n]:[]:(0!==o?(e.x<t.x?(o=e,l=e.x,s=t,e=t.x):(o=t,l=t.x,s=e,e=e.x),n.x<i.x?(t=n,d=n.x,u=i,n=i.x):(t=i,d=i.x,u=n,n=n.x)):(e.y<t.y?(o=e,l=e.y,s=t,e=t.y):(o=t,l=t.y,s=e,e=e.y),n.y<i.y?(t=n,d=n.y,u=i,n=i.y):(t=i,d=i.y,u=n,n=n.y)),l<=d?e<d?[]:e===d?a?[]:[t]:e<=n?[t,s]:[t,u]:l>n?[]:l===n?a?[]:[o]:e<=n?[o,s]:[o,u]))}function a(e,t,n,r){var i=t.x-e.x,a=t.y-e.y;t=n.x-e.x,n=n.y-e.y;var o=r.x-e.x;return r=r.y-e.y,e=i*n-a*t,i=i*r-a*o,Math.abs(e)>Number.EPSILON?(t=o*n-r*t,0<e?0<=i&&0<=t:0<=i||0<=t):0<i}n(e),t.forEach(n);var o,s,l,u,c,h={};for(l=e.concat(),o=0,s=t.length;o<s;o++)Array.prototype.push.apply(l,t[o]);for(o=0,s=l.length;o<s;o++)void 0!==h[c=l[o].x+":"+l[o].y]&&console.warn("THREE.ShapeUtils: Duplicate point",c,o),h[c]=o;o=function(e,t){function n(e,t){var n=v.length-1,r=e-1;0>r&&(r=n);var i=e+1;return i>n&&(i=0),!!(n=a(v[e],v[r],v[i],s[t]))&&(n=s.length-1,0>(r=t-1)&&(r=n),(i=t+1)>n&&(i=0),!!(n=a(s[t],s[r],s[i],v[e])))}function r(e,t){var n,r;for(n=0;n<v.length;n++)if(r=n+1,r%=v.length,0<(r=i(e,t,v[n],v[r],!0)).length)return!0;return!1}function o(e,n){var r,a,o,s;for(r=0;r<g.length;r++)for(a=t[g[r]],o=0;o<a.length;o++)if(s=o+1,s%=a.length,0<(s=i(e,n,a[o],a[s],!0)).length)return!0;return!1}var s,l,u,c,h,d,p,f,m,v=e.concat(),g=[],y=[],x=0;for(l=t.length;x<l;x++)g.push(x);p=0;for(var b=2*g.length;0<g.length;){if(0>--b){console.log("Infinite Loop! Holes left:"+g.length+", Probably Hole outside Shape!");break}for(u=p;u<v.length;u++){for(c=v[u],l=-1,x=0;x<g.length;x++)if(h=g[x],void 0===y[d=c.x+":"+c.y+":"+h]){for(s=t[h],f=0;f<s.length;f++)if(h=s[f],n(u,f)&&!r(c,h)&&!o(c,h)){l=f,g.splice(x,1),p=v.slice(0,u+1),h=v.slice(u),f=s.slice(l),m=s.slice(0,l+1),v=p.concat(f).concat(m).concat(h),p=u;break}if(0<=l)break;y[d]=!0}if(0<=l)break}}return v}(e,t);var d=Ti.triangulate(o,!1);for(o=0,s=d.length;o<s;o++)for(u=d[o],l=0;3>l;l++)void 0!==(c=h[c=u[l].x+":"+u[l].y])&&(u[l]=c);return d.concat()},isClockWise:function(e){return 0>Ti.area(e)}};Bt.prototype=Object.create(be.prototype),Bt.prototype.constructor=Bt,Bt.prototype.addShapeList=function(e,t){for(var n=e.length,r=0;r<n;r++)this.addShape(e[r],t)},Bt.prototype.addShape=function(e,t){function r(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}function i(e,t,r){var i,a,o;a=e.x-t.x,o=e.y-t.y,i=r.x-e.x;var s=r.y-e.y,l=a*a+o*o;if(Math.abs(a*s-o*i)>Number.EPSILON){var u=Math.sqrt(l),c=Math.sqrt(i*i+s*s);l=t.x-o/u;if(t=t.y+a/u,2>=(o=(i=l+a*(s=((r.x-s/c-l)*s-(r.y+i/c-t)*i)/(a*s-o*i))-e.x)*i+(a=t+o*s-e.y)*a))return new n(i,a);o=Math.sqrt(o/2)}else e=!1,a>Number.EPSILON?i>Number.EPSILON&&(e=!0):a<-Number.EPSILON?i<-Number.EPSILON&&(e=!0):Math.sign(o)===Math.sign(s)&&(e=!0),e?(i=-o,o=Math.sqrt(l)):(i=a,a=o,o=Math.sqrt(l/2));return new n(i/o,a/o)}function a(e,t){var n,r;for(F=e.length;0<=--F;){n=F,0>(r=F-1)&&(r=e.length-1);var i,a=b+2*g;for(i=0;i<a;i++){var o=(o=t+n+(s=B*i))+C,s=(s=t+r+s)+C,l=(l=t+r+(u=B*(i+1)))+C,u=(u=t+n+u)+C;A.faces.push(new oe(o,s,u,null,null,1)),A.faces.push(new oe(s,l,u,null,null,1)),o=E.generateSideWallUV(A,o,s,l,u),A.faceVertexUvs[0].push([o[0],o[1],o[3]]),A.faceVertexUvs[0].push([o[1],o[2],o[3]])}}}function o(e,t,n){A.vertices.push(new l(e,t,n))}function s(e,t,n){e+=C,t+=C,n+=C,A.faces.push(new oe(e,t,n,null,null,0)),e=E.generateTopUV(A,e,t,n),A.faceVertexUvs[0].push(e)}var u,c,h,d,p,f=void 0!==t.amount?t.amount:100,m=void 0!==t.bevelThickness?t.bevelThickness:6,v=void 0!==t.bevelSize?t.bevelSize:m-2,g=void 0!==t.bevelSegments?t.bevelSegments:3,y=void 0===t.bevelEnabled||t.bevelEnabled,x=void 0!==t.curveSegments?t.curveSegments:12,b=void 0!==t.steps?t.steps:1,_=t.extrudePath,w=!1,E=void 0!==t.UVGenerator?t.UVGenerator:Bt.WorldUVGenerator;_&&(u=_.getSpacedPoints(b),w=!0,y=!1,c=void 0!==t.frames?t.frames:_.computeFrenetFrames(b,!1),h=new l,d=new l,p=new l),y||(v=m=g=0);var T,M,S,A=this,C=this.vertices.length,L=(x=(_=e.extractPoints(x)).shape,_.holes);if(_=!Ti.isClockWise(x)){for(x=x.reverse(),M=0,S=L.length;M<S;M++)T=L[M],Ti.isClockWise(T)&&(L[M]=T.reverse());_=!1}var P=Ti.triangulateShape(x,L),R=x;for(M=0,S=L.length;M<S;M++)T=L[M],x=x.concat(T);var I,D,O,N,z,U,B=x.length,k=P.length,F=(_=[],0);for(I=(O=R.length)-1,D=F+1;F<O;F++,I++,D++)I===O&&(I=0),D===O&&(D=0),_[F]=i(R[F],R[I],R[D]);var G,H=[],j=_.concat();for(M=0,S=L.length;M<S;M++){for(T=L[M],G=[],F=0,I=(O=T.length)-1,D=F+1;F<O;F++,I++,D++)I===O&&(I=0),D===O&&(D=0),G[F]=i(T[F],T[I],T[D]);H.push(G),j=j.concat(G)}for(I=0;I<g;I++){for(O=I/g,N=m*Math.cos(O*Math.PI/2),D=v*Math.sin(O*Math.PI/2),F=0,O=R.length;F<O;F++)o((z=r(R[F],_[F],D)).x,z.y,-N);for(M=0,S=L.length;M<S;M++)for(T=L[M],G=H[M],F=0,O=T.length;F<O;F++)o((z=r(T[F],G[F],D)).x,z.y,-N)}for(D=v,F=0;F<B;F++)z=y?r(x[F],j[F],D):x[F],w?(d.copy(c.normals[0]).multiplyScalar(z.x),h.copy(c.binormals[0]).multiplyScalar(z.y),p.copy(u[0]).add(d).add(h),o(p.x,p.y,p.z)):o(z.x,z.y,0);for(O=1;O<=b;O++)for(F=0;F<B;F++)z=y?r(x[F],j[F],D):x[F],w?(d.copy(c.normals[O]).multiplyScalar(z.x),h.copy(c.binormals[O]).multiplyScalar(z.y),p.copy(u[O]).add(d).add(h),o(p.x,p.y,p.z)):o(z.x,z.y,f/b*O);for(I=g-1;0<=I;I--){for(O=I/g,N=m*Math.cos(O*Math.PI/2),D=v*Math.sin(O*Math.PI/2),F=0,O=R.length;F<O;F++)o((z=r(R[F],_[F],D)).x,z.y,f+N);for(M=0,S=L.length;M<S;M++)for(T=L[M],G=H[M],F=0,O=T.length;F<O;F++)z=r(T[F],G[F],D),w?o(z.x,z.y+u[b-1].y,u[b-1].x+N):o(z.x,z.y,f+N)}!function(){if(y){var e=0*B;for(F=0;F<k;F++)s((U=P[F])[2]+e,U[1]+e,U[0]+e);for(e=B*(b+2*g),F=0;F<k;F++)s((U=P[F])[0]+e,U[1]+e,U[2]+e)}else{for(F=0;F<k;F++)s((U=P[F])[2],U[1],U[0]);for(F=0;F<k;F++)s((U=P[F])[0]+B*b,U[1]+B*b,U[2]+B*b)}}(),function(){var e=0;for(a(R,e),e+=R.length,M=0,S=L.length;M<S;M++)a(T=L[M],e),e+=T.length}()},Bt.WorldUVGenerator={generateTopUV:function(e,t,r,i){return t=(e=e.vertices)[t],r=e[r],i=e[i],[new n(t.x,t.y),new n(r.x,r.y),new n(i.x,i.y)]},generateSideWallUV:function(e,t,r,i,a){return t=(e=e.vertices)[t],r=e[r],i=e[i],a=e[a],.01>Math.abs(t.y-r.y)?[new n(t.x,1-t.z),new n(r.x,1-r.z),new n(i.x,1-i.z),new n(a.x,1-a.z)]:[new n(t.y,1-t.z),new n(r.y,1-r.z),new n(i.y,1-i.z),new n(a.y,1-a.z)]}},kt.prototype=Object.create(Bt.prototype),kt.prototype.constructor=kt,Ft.prototype=Object.create(be.prototype),Ft.prototype.constructor=Ft,Gt.prototype=Object.create(_e.prototype),Gt.prototype.constructor=Gt,Ht.prototype=Object.create(be.prototype),Ht.prototype.constructor=Ht,jt.prototype=Object.create(_e.prototype),jt.prototype.constructor=jt,Vt.prototype=Object.create(be.prototype),Vt.prototype.constructor=Vt,Wt.prototype=Object.create(_e.prototype),Wt.prototype.constructor=Wt,Xt.prototype=Object.create(be.prototype),Xt.prototype.constructor=Xt,qt.prototype=Object.create(_e.prototype),qt.prototype.constructor=qt,Yt.prototype=Object.create(_e.prototype),Yt.prototype.constructor=Yt,$t.prototype=Object.create(be.prototype),$t.prototype.constructor=$t,Zt.prototype=Object.create(_e.prototype),Zt.prototype.constructor=Zt,Jt.prototype=Object.create($t.prototype),Jt.prototype.constructor=Jt,Qt.prototype=Object.create(Zt.prototype),Qt.prototype.constructor=Qt,Kt.prototype=Object.create(be.prototype),Kt.prototype.constructor=Kt,en.prototype=Object.create(_e.prototype),en.prototype.constructor=en;var Mi=Object.freeze({WireframeGeometry:xt,ParametricGeometry:bt,ParametricBufferGeometry:_t,TetrahedronGeometry:Tt,TetrahedronBufferGeometry:Mt,OctahedronGeometry:St,OctahedronBufferGeometry:At,IcosahedronGeometry:Ct,IcosahedronBufferGeometry:Lt,DodecahedronGeometry:Pt,DodecahedronBufferGeometry:Rt,PolyhedronGeometry:wt,PolyhedronBufferGeometry:Et,TubeGeometry:It,TubeBufferGeometry:Dt,TorusKnotGeometry:Ot,TorusKnotBufferGeometry:Nt,TorusGeometry:zt,TorusBufferGeometry:Ut,TextGeometry:kt,SphereGeometry:Ft,SphereBufferGeometry:Gt,RingGeometry:Ht,RingBufferGeometry:jt,PlaneGeometry:Me,PlaneBufferGeometry:Se,LatheGeometry:Vt,LatheBufferGeometry:Wt,ShapeGeometry:Xt,ShapeBufferGeometry:qt,ExtrudeGeometry:Bt,EdgesGeometry:Yt,ConeGeometry:Jt,ConeBufferGeometry:Qt,CylinderGeometry:$t,CylinderBufferGeometry:Zt,CircleGeometry:Kt,CircleBufferGeometry:en,BoxGeometry:Ee,BoxBufferGeometry:Te});tn.prototype=Object.create(X.prototype),tn.prototype.constructor=tn,tn.prototype.isShadowMaterial=!0,nn.prototype=Object.create(X.prototype),nn.prototype.constructor=nn,nn.prototype.isRawShaderMaterial=!0,rn.prototype={constructor:rn,isMultiMaterial:!0,toJSON:function(e){for(var t={metadata:{version:4.2,type:"material",generator:"MaterialExporter"},uuid:this.uuid,type:this.type,materials:[]},n=this.materials,r=0,i=n.length;r<i;r++){var a=n[r].toJSON(e);delete a.metadata,t.materials.push(a)}return t.visible=this.visible,t},clone:function(){for(var e=new this.constructor,t=0;t<this.materials.length;t++)e.materials.push(this.materials[t].clone());return e.visible=this.visible,e}},an.prototype=Object.create(W.prototype),an.prototype.constructor=an,an.prototype.isMeshStandardMaterial=!0,an.prototype.copy=function(e){return W.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},on.prototype=Object.create(an.prototype),on.prototype.constructor=on,on.prototype.isMeshPhysicalMaterial=!0,on.prototype.copy=function(e){return an.prototype.copy.call(this,e),this.defines={PHYSICAL:""},this.reflectivity=e.reflectivity,this.clearCoat=e.clearCoat,this.clearCoatRoughness=e.clearCoatRoughness,this},sn.prototype=Object.create(W.prototype),sn.prototype.constructor=sn,sn.prototype.isMeshPhongMaterial=!0,sn.prototype.copy=function(e){return W.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},ln.prototype=Object.create(sn.prototype),ln.prototype.constructor=ln,ln.prototype.isMeshToonMaterial=!0,ln.prototype.copy=function(e){return sn.prototype.copy.call(this,e),this.gradientMap=e.gradientMap,this},un.prototype=Object.create(W.prototype),un.prototype.constructor=un,un.prototype.isMeshNormalMaterial=!0,un.prototype.copy=function(e){return W.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},cn.prototype=Object.create(W.prototype),cn.prototype.constructor=cn,cn.prototype.isMeshLambertMaterial=!0,cn.prototype.copy=function(e){return W.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},hn.prototype=Object.create(W.prototype),hn.prototype.constructor=hn,hn.prototype.isLineDashedMaterial=!0,hn.prototype.copy=function(e){return W.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var Si=Object.freeze({ShadowMaterial:tn,SpriteMaterial:rt,RawShaderMaterial:nn,ShaderMaterial:X,PointsMaterial:dt,MultiMaterial:rn,MeshPhysicalMaterial:on,MeshStandardMaterial:an,MeshPhongMaterial:sn,MeshToonMaterial:ln,MeshNormalMaterial:un,MeshLambertMaterial:cn,MeshDepthMaterial:q,MeshBasicMaterial:se,LineDashedMaterial:hn,LineBasicMaterial:ut,Material:W}),Ai={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},Ci=new dn;Object.assign(pn.prototype,{load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e);var i=this,a=Ai.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;if(l=e.match(/^data:(.*?)(;base64)?,(.*)$/)){var o=l[1],s=!!l[2],l=l[3];l=window.decodeURIComponent(l);s&&(l=window.atob(l));try{var u,c=(this.responseType||"").toLowerCase();switch(c){case"arraybuffer":case"blob":u=new ArrayBuffer(l.length);var h=new Uint8Array(u);for(s=0;s<l.length;s++)h[s]=l.charCodeAt(s);"blob"===c&&(u=new Blob([u],{type:o}));break;case"document":u=(new DOMParser).parseFromString(l,o);break;case"json":u=JSON.parse(l);break;default:u=l}window.setTimeout((function(){t&&t(u),i.manager.itemEnd(e)}),0)}catch(t){window.setTimeout((function(){r&&r(t),i.manager.itemError(e)}),0)}}else{var d=new XMLHttpRequest;d.open("GET",e,!0),d.addEventListener("load",(function(n){var a=n.target.response;Ai.add(e,a),200===this.status?(t&&t(a),i.manager.itemEnd(e)):0===this.status?(console.warn("THREE.FileLoader: HTTP Status 0 received."),t&&t(a),i.manager.itemEnd(e)):(r&&r(n),i.manager.itemError(e))}),!1),void 0!==n&&d.addEventListener("progress",(function(e){n(e)}),!1),d.addEventListener("error",(function(t){r&&r(t),i.manager.itemError(e)}),!1),void 0!==this.responseType&&(d.responseType=this.responseType),void 0!==this.withCredentials&&(d.withCredentials=this.withCredentials),d.overrideMimeType&&d.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),d.send(null)}return i.manager.itemStart(e),d},setPath:function(e){return this.path=e,this},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this}}),Object.assign(fn.prototype,{load:function(e,t,n,r){function i(i){l.load(e[i],(function(e){e=a._parser(e,!0),o[i]={width:e.width,height:e.height,format:e.format,mipmaps:e.mipmaps},6===(u+=1)&&(1===e.mipmapCount&&(s.minFilter=1006),s.format=e.format,s.needsUpdate=!0,t&&t(s))}),n,r)}var a=this,o=[],s=new vt;s.image=o;var l=new pn(this.manager);if(l.setPath(this.path),l.setResponseType("arraybuffer"),Array.isArray(e))for(var u=0,c=0,h=e.length;c<h;++c)i(c);else l.load(e,(function(e){if((e=a._parser(e,!0)).isCubemap)for(var n=e.mipmaps.length/e.mipmapCount,r=0;r<n;r++){o[r]={mipmaps:[]};for(var i=0;i<e.mipmapCount;i++)o[r].mipmaps.push(e.mipmaps[r*e.mipmapCount+i]),o[r].format=e.format,o[r].width=e.width,o[r].height=e.height}else s.image.width=e.width,s.image.height=e.height,s.mipmaps=e.mipmaps;1===e.mipmapCount&&(s.minFilter=1006),s.format=e.format,s.needsUpdate=!0,t&&t(s)}),n,r);return s},setPath:function(e){return this.path=e,this}}),Object.assign(mn.prototype,{load:function(e,t,n,r){var i=this,a=new G,o=new pn(this.manager);return o.setResponseType("arraybuffer"),o.load(e,(function(e){(e=i._parser(e))&&(void 0!==e.image?a.image=e.image:void 0!==e.data&&(a.image.width=e.width,a.image.height=e.height,a.image.data=e.data),a.wrapS=void 0!==e.wrapS?e.wrapS:1001,a.wrapT=void 0!==e.wrapT?e.wrapT:1001,a.magFilter=void 0!==e.magFilter?e.magFilter:1006,a.minFilter=void 0!==e.minFilter?e.minFilter:1008,a.anisotropy=void 0!==e.anisotropy?e.anisotropy:1,void 0!==e.format&&(a.format=e.format),void 0!==e.type&&(a.type=e.type),void 0!==e.mipmaps&&(a.mipmaps=e.mipmaps),1===e.mipmapCount&&(a.minFilter=1006),a.needsUpdate=!0,t&&t(a,e))}),n,r),a}}),Object.assign(vn.prototype,{load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e);var i=this,a=Ai.get(e);return void 0!==a?(i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a):((n=document.createElementNS("http://www.w3.org/1999/xhtml","img")).addEventListener("load",(function(){Ai.add(e,this),t&&t(this),i.manager.itemEnd(e)}),!1),n.addEventListener("error",(function(t){r&&r(t),i.manager.itemError(e)}),!1),void 0!==this.crossOrigin&&(n.crossOrigin=this.crossOrigin),i.manager.itemStart(e),n.src=e,n)},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(gn.prototype,{load:function(e,t,n,r){function i(n){o.load(e[n],(function(e){a.images[n]=e,6===++s&&(a.needsUpdate=!0,t&&t(a))}),void 0,r)}var a=new c,o=new vn(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);var s=0;for(n=0;n<e.length;++n)i(n);return a},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),Object.assign(yn.prototype,{load:function(e,t,n,i){var a=new r,o=new vn(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,(function(n){var r=0<e.search(/\.(jpg|jpeg)$/)||0===e.search(/^data\:image\/jpeg/);a.format=r?1022:1023,a.image=n,a.needsUpdate=!0,void 0!==t&&t(a)}),n,i),a},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this}}),xn.prototype=Object.assign(Object.create(re.prototype),{constructor:xn,isLight:!0,copy:function(e){return re.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){return(e=re.prototype.toJSON.call(this,e)).object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),bn.prototype=Object.assign(Object.create(xn.prototype),{constructor:bn,isHemisphereLight:!0,copy:function(e){return xn.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Object.assign(_n.prototype,{copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),wn.prototype=Object.assign(Object.create(_n.prototype),{constructor:wn,isSpotLightShadow:!0,update:function(e){var t=2*li.RAD2DEG*e.angle,n=this.mapSize.width/this.mapSize.height;e=e.distance||500;var r=this.camera;t===r.fov&&n===r.aspect&&e===r.far||(r.fov=t,r.aspect=n,r.far=e,r.updateProjectionMatrix())}}),En.prototype=Object.assign(Object.create(xn.prototype),{constructor:En,isSpotLight:!0,copy:function(e){return xn.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Tn.prototype=Object.assign(Object.create(xn.prototype),{constructor:Tn,isPointLight:!0,copy:function(e){return xn.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),Mn.prototype=Object.assign(Object.create(_n.prototype),{constructor:Mn}),Sn.prototype=Object.assign(Object.create(xn.prototype),{constructor:Sn,isDirectionalLight:!0,copy:function(e){return xn.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),An.prototype=Object.assign(Object.create(xn.prototype),{constructor:An,isAmbientLight:!0});var Li,Pi={arraySlice:function(e,t,n){return Pi.isTypedArray(e)?new e.constructor(e.subarray(t,n)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var t=e.length,n=Array(t),r=0;r!==t;++r)n[r]=r;return n.sort((function(t,n){return e[t]-e[n]})),n},sortedArray:function(e,t,n){for(var r=e.length,i=new e.constructor(r),a=0,o=0;o!==r;++a)for(var s=n[a]*t,l=0;l!==t;++l)i[o++]=e[s+l];return i},flattenJSON:function(e,t,n,r){for(var i=1,a=e[0];void 0!==a&&void 0===a[r];)a=e[i++];if(void 0!==a){var o=a[r];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=a[r])&&(t.push(a.time),n.push.apply(n,o)),a=e[i++]}while(void 0!==a);else if(void 0!==o.toArray)do{void 0!==(o=a[r])&&(t.push(a.time),o.toArray(n,n.length)),a=e[i++]}while(void 0!==a);else do{void 0!==(o=a[r])&&(t.push(a.time),n.push(o)),a=e[i++]}while(void 0!==a)}}};Cn.prototype={constructor:Cn,evaluate:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{n:{r:if(!(e<r)){for(var a=n+2;;){if(void 0===r){if(e<i)break r;return this._cachedIndex=n=t.length,this.afterEnd_(n-1,e,i)}if(n===a)break;if(i=r,e<(r=t[++n]))break t}r=t.length;break n}if(e>=i)break e;for(e<(a=t[1])&&(n=2,i=a),a=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(n===a)break;if(r=i,e>=(i=t[--n-1]))break t}r=n,n=0}for(;n<r;)e<t[i=n+r>>>1]?r=i:n=i+1;if(r=t[n],void 0===(i=t[n-1]))return this._cachedIndex=0,this.beforeStart_(0,e,r);if(void 0===r)return this._cachedIndex=n=t.length,this.afterEnd_(n-1,i,e)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize;e*=r;for(var i=0;i!==r;++i)t[i]=n[e+i];return t},interpolate_:function(e,t,n,r){throw Error("call to abstract method")},intervalChanged_:function(e,t,n){}},Object.assign(Cn.prototype,{beforeStart_:Cn.prototype.copySampleValue_,afterEnd_:Cn.prototype.copySampleValue_}),Ln.prototype=Object.assign(Object.create(Cn.prototype),{constructor:Ln,DefaultSettings_:{endingStart:2400,endingEnd:2400},intervalChanged_:function(e,t,n){var r=this.parameterPositions,i=e-2,a=e+1,o=r[i],s=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case 2401:i=e,o=2*t-n;break;case 2402:o=t+r[i=r.length-2]-r[i+1];break;default:i=e,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case 2401:a=e,s=2*n-t;break;case 2402:a=1,s=n+r[1]-r[0];break;default:a=e-1,s=t}e=.5*(n-t),r=this.valueSize,this._weightPrev=e/(t-o),this._weightNext=e/(s-n),this._offsetPrev=i*r,this._offsetNext=a*r},interpolate_:function(e,t,n,r){var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(e*=o)-o,l=this._offsetPrev,u=this._offsetNext,c=this._weightPrev,h=this._weightNext,d=(n-t)/(r-t);for(t=-c*(r=(n=d*d)*d)+2*c*n-c*d,c=(1+c)*r+(-1.5-2*c)*n+(-.5+c)*d+1,d=(-1-h)*r+(1.5+h)*n+.5*d,h=h*r-h*n,n=0;n!==o;++n)i[n]=t*a[l+n]+c*a[s+n]+d*a[e+n]+h*a[u+n];return i}}),Pn.prototype=Object.assign(Object.create(Cn.prototype),{constructor:Pn,interpolate_:function(e,t,n,r){var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(e*=o)-o;for(n=1-(t=(n-t)/(r-t)),r=0;r!==o;++r)i[r]=a[s+r]*n+a[e+r]*t;return i}}),Rn.prototype=Object.assign(Object.create(Cn.prototype),{constructor:Rn,interpolate_:function(e,t,n,r){return this.copySampleValue_(e-1)}}),Li={TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:2301,InterpolantFactoryMethodDiscrete:function(e){return new Rn(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new Pn(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new Ln(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;switch(e){case 2300:t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){if(t="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name,void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw Error(t);this.setInterpolation(this.DefaultInterpolation)}console.warn(t)}else this.createInterpolant=t},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this},trim:function(e,t){for(var n=this.times,r=n.length,i=0,a=r-1;i!==r&&n[i]<e;)++i;for(;-1!==a&&n[a]>t;)--a;return++a,0===i&&a===r||(i>=a&&(i=(a=Math.max(a,1))-1),r=this.getValueSize(),this.times=Pi.arraySlice(n,i,a),this.values=Pi.arraySlice(this.values,i*r,a*r)),this},validate:function(){var e=!0;0!=(n=this.getValueSize())-Math.floor(n)&&(console.error("invalid value size in track",this),e=!1);var t=this.times,n=this.values,r=t.length;0===r&&(console.error("track is empty",this),e=!1);for(var i=null,a=0;a!==r;a++){var o=t[a];if("number"==typeof o&&isNaN(o)){console.error("time is not a valid number",this,a,o),e=!1;break}if(null!==i&&i>o){console.error("out of order keys",this,a,o,i),e=!1;break}i=o}if(void 0!==n&&Pi.isTypedArray(n))for(a=0,t=n.length;a!==t;++a)if(r=n[a],isNaN(r)){console.error("value is not a valid number",this,a,r),e=!1;break}return e},optimize:function(){for(var e=this.times,t=this.values,n=this.getValueSize(),r=2302===this.getInterpolation(),i=1,a=e.length-1,o=1;o<a;++o){var s=!1;if((h=e[o])!==e[o+1]&&(1!==o||h!==h[0]))if(r)s=!0;else for(var l=o*n,u=l-n,c=l+n,h=0;h!==n;++h){var d=t[l+h];if(d!==t[u+h]||d!==t[c+h]){s=!0;break}}if(s){if(o!==i)for(e[i]=e[o],s=o*n,l=i*n,h=0;h!==n;++h)t[l+h]=t[s+h];++i}}if(0<a){for(e[i]=e[a],s=a*n,l=i*n,h=0;h!==n;++h)t[l+h]=t[s+h];++i}return i!==e.length&&(this.times=Pi.arraySlice(e,0,i),this.values=Pi.arraySlice(t,0,i*n)),this}},Dn.prototype=Object.assign(Object.create(Li),{constructor:Dn,ValueTypeName:"vector"}),On.prototype=Object.assign(Object.create(Cn.prototype),{constructor:On,interpolate_:function(e,t,n,r){var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize;for(t=(n-t)/(r-t),n=(e*=o)+o;e!==n;e+=4)s.slerpFlat(i,0,a,e-o,a,e,t);return i}}),Nn.prototype=Object.assign(Object.create(Li),{constructor:Nn,ValueTypeName:"quaternion",DefaultInterpolation:2301,InterpolantFactoryMethodLinear:function(e){return new On(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),zn.prototype=Object.assign(Object.create(Li),{constructor:zn,ValueTypeName:"number"}),Un.prototype=Object.assign(Object.create(Li),{constructor:Un,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Bn.prototype=Object.assign(Object.create(Li),{constructor:Bn,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),kn.prototype=Object.assign(Object.create(Li),{constructor:kn,ValueTypeName:"color"}),Fn.prototype=Li,Li.constructor=Fn,Object.assign(Fn,{parse:function(e){if(void 0===e.type)throw Error("track type undefined, can not parse");var t=Fn._getTrackTypeForValueTypeName(e.type);if(void 0===e.times){var n=[],r=[];Pi.flattenJSON(e.keys,n,r,"value"),e.times=n,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)},toJSON:function(e){if(void 0!==(t=e.constructor).toJSON)t=t.toJSON(e);else{var t={name:e.name,times:Pi.convertArray(e.times,Array),values:Pi.convertArray(e.values,Array)},n=e.getInterpolation();n!==e.DefaultInterpolation&&(t.interpolation=n)}return t.type=e.ValueTypeName,t},_getTrackTypeForValueTypeName:function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return zn;case"vector":case"vector2":case"vector3":case"vector4":return Dn;case"color":return kn;case"quaternion":return Nn;case"bool":case"boolean":return Bn;case"string":return Un}throw Error("Unsupported typeName: "+e)}}),Gn.prototype={constructor:Gn,resetDuration:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t){var r=this.tracks[t];e=Math.max(e,r.times[r.times.length-1])}this.duration=e},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}},Object.assign(Gn,{parse:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),i=0,a=n.length;i!==a;++i)t.push(Fn.parse(n[i]).scale(r));return new Gn(e.name,e.duration,t)},toJSON:function(e){var t=[],n=e.tracks;e={name:e.name,duration:e.duration,tracks:t};for(var r=0,i=n.length;r!==i;++r)t.push(Fn.toJSON(n[r]));return e},CreateFromMorphTargetSequence:function(e,t,n,r){for(var i=t.length,a=[],o=0;o<i;o++){var s=[];(u=[]).push((o+i-1)%i,o,(o+1)%i),s.push(0,1,0);var l=Pi.getKeyframeOrder(u),u=Pi.sortedArray(u,1,l);s=Pi.sortedArray(s,1,l);r||0!==u[0]||(u.push(i),s.push(s[0])),a.push(new zn(".morphTargetInfluences["+t[o].name+"]",u,s).scale(1/n))}return new Gn(e,-1,a)},findByName:function(e,t){var n=e;Array.isArray(e)||(n=e.geometry&&e.geometry.animations||e.animations);for(var r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,a=0,o=e.length;a<o;a++){var s=e[a],l=s.name.match(i);if(l&&1<l.length){var u=l[1];(l=r[u])||(r[u]=l=[]),l.push(s)}}for(u in e=[],r)e.push(Gn.CreateFromMorphTargetSequence(u,r[u],t,n));return e},parseAnimation:function(e,t){if(!e)return console.error("  no animation in JSONLoader data"),null;for(var n=function(e,t,n,r,i){if(0!==n.length){var a=[],o=[];Pi.flattenJSON(n,a,o,r),0!==a.length&&i.push(new e(t,a,o))}},r=[],i=e.name||"default",a=e.length||-1,o=e.fps||30,s=e.hierarchy||[],l=0;l<s.length;l++){var u=s[l].keys;if(u&&0!==u.length)if(u[0].morphTargets){a={};for(var c=0;c<u.length;c++)if(u[c].morphTargets)for(var h=0;h<u[c].morphTargets.length;h++)a[u[c].morphTargets[h]]=-1;for(var d in a){var p=[],f=[];for(h=0;h!==u[c].morphTargets.length;++h){var m=u[c];p.push(m.time),f.push(m.morphTarget===d?1:0)}r.push(new zn(".morphTargetInfluence["+d+"]",p,f))}a=a.length*(o||1)}else n(Dn,(c=".bones["+t[l].name+"]")+".position",u,"pos",r),n(Nn,c+".quaternion",u,"rot",r),n(Dn,c+".scale",u,"scl",r)}return 0===r.length?null:new Gn(i,a,r)}}),Object.assign(Hn.prototype,{load:function(e,t,n,r){var i=this;new pn(i.manager).load(e,(function(e){t(i.parse(JSON.parse(e)))}),n,r)},setTextures:function(e){this.textures=e},parse:function(e){function t(e){return void 0===r[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),r[e]}var r=this.textures,i=new Si[e.type];if(void 0!==e.uuid&&(i.uuid=e.uuid),void 0!==e.name&&(i.name=e.name),void 0!==e.color&&i.color.setHex(e.color),void 0!==e.roughness&&(i.roughness=e.roughness),void 0!==e.metalness&&(i.metalness=e.metalness),void 0!==e.emissive&&i.emissive.setHex(e.emissive),void 0!==e.specular&&i.specular.setHex(e.specular),void 0!==e.shininess&&(i.shininess=e.shininess),void 0!==e.clearCoat&&(i.clearCoat=e.clearCoat),void 0!==e.clearCoatRoughness&&(i.clearCoatRoughness=e.clearCoatRoughness),void 0!==e.uniforms&&(i.uniforms=e.uniforms),void 0!==e.vertexShader&&(i.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(i.fragmentShader=e.fragmentShader),void 0!==e.vertexColors&&(i.vertexColors=e.vertexColors),void 0!==e.fog&&(i.fog=e.fog),void 0!==e.shading&&(i.shading=e.shading),void 0!==e.blending&&(i.blending=e.blending),void 0!==e.side&&(i.side=e.side),void 0!==e.opacity&&(i.opacity=e.opacity),void 0!==e.transparent&&(i.transparent=e.transparent),void 0!==e.alphaTest&&(i.alphaTest=e.alphaTest),void 0!==e.depthTest&&(i.depthTest=e.depthTest),void 0!==e.depthWrite&&(i.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(i.colorWrite=e.colorWrite),void 0!==e.wireframe&&(i.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(i.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(i.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(i.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.skinning&&(i.skinning=e.skinning),void 0!==e.morphTargets&&(i.morphTargets=e.morphTargets),void 0!==e.size&&(i.size=e.size),void 0!==e.sizeAttenuation&&(i.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(i.map=t(e.map)),void 0!==e.alphaMap&&(i.alphaMap=t(e.alphaMap),i.transparent=!0),void 0!==e.bumpMap&&(i.bumpMap=t(e.bumpMap)),void 0!==e.bumpScale&&(i.bumpScale=e.bumpScale),void 0!==e.normalMap&&(i.normalMap=t(e.normalMap)),void 0!==e.normalScale){var a=e.normalScale;!1===Array.isArray(a)&&(a=[a,a]),i.normalScale=(new n).fromArray(a)}if(void 0!==e.displacementMap&&(i.displacementMap=t(e.displacementMap)),void 0!==e.displacementScale&&(i.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(i.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(i.roughnessMap=t(e.roughnessMap)),void 0!==e.metalnessMap&&(i.metalnessMap=t(e.metalnessMap)),void 0!==e.emissiveMap&&(i.emissiveMap=t(e.emissiveMap)),void 0!==e.emissiveIntensity&&(i.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(i.specularMap=t(e.specularMap)),void 0!==e.envMap&&(i.envMap=t(e.envMap)),void 0!==e.reflectivity&&(i.reflectivity=e.reflectivity),void 0!==e.lightMap&&(i.lightMap=t(e.lightMap)),void 0!==e.lightMapIntensity&&(i.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(i.aoMap=t(e.aoMap)),void 0!==e.aoMapIntensity&&(i.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(i.gradientMap=t(e.gradientMap)),void 0!==e.materials){a=0;for(var o=e.materials.length;a<o;a++)i.materials.push(this.parse(e.materials[a]))}return i}}),Object.assign(jn.prototype,{load:function(e,t,n,r){var i=this;new pn(i.manager).load(e,(function(e){t(i.parse(JSON.parse(e)))}),n,r)},parse:function(e){var t=new _e,n=e.data.index,r={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};void 0!==n&&(n=new r[n.type](n.array),t.setIndex(new le(n,1)));var i,a=e.data.attributes;for(i in a){var o=a[i];n=new r[o.type](o.array);t.addAttribute(i,new le(n,o.itemSize,o.normalized))}if(void 0!==(r=e.data.groups||e.data.drawcalls||e.data.offsets))for(i=0,n=r.length;i!==n;++i)a=r[i],t.addGroup(a.start,a.count,a.materialIndex);return void 0!==(e=e.data.boundingSphere)&&(r=new l,void 0!==e.center&&r.fromArray(e.center),t.boundingSphere=new $(r,e.radius)),t}}),Vn.prototype={constructor:Vn,crossOrigin:void 0,extractUrlBase:function(e){return 1===(e=e.split("/")).length?"./":(e.pop(),e.join("/")+"/")},initMaterials:function(e,t,n){for(var r=[],i=0;i<e.length;++i)r[i]=this.createMaterial(e[i],t,n);return r},createMaterial:function(){var e,t,n,r={NoBlending:0,NormalBlending:1,AdditiveBlending:2,SubtractiveBlending:3,MultiplyBlending:4,CustomBlending:5};return function(i,a,o){function s(e,n,r,i,s){e=a+e;var l=Vn.Handlers.get(e);return null!==l?e=l.load(e):(t.setCrossOrigin(o),e=t.load(e)),void 0!==n&&(e.repeat.fromArray(n),1!==n[0]&&(e.wrapS=1e3),1!==n[1]&&(e.wrapT=1e3)),void 0!==r&&e.offset.fromArray(r),void 0!==i&&("repeat"===i[0]&&(e.wrapS=1e3),"mirror"===i[0]&&(e.wrapS=1002),"repeat"===i[1]&&(e.wrapT=1e3),"mirror"===i[1]&&(e.wrapT=1002)),void 0!==s&&(e.anisotropy=s),n=li.generateUUID(),u[n]=e,n}void 0===e&&(e=new F),void 0===t&&(t=new yn),void 0===n&&(n=new Hn);var l,u={},c={uuid:li.generateUUID(),type:"MeshLambertMaterial"};for(l in i){var h=i[l];switch(l){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":c.name=h;break;case"blending":c.blending=r[h];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",l,"is no longer supported.");break;case"colorDiffuse":c.color=e.fromArray(h).getHex();break;case"colorSpecular":c.specular=e.fromArray(h).getHex();break;case"colorEmissive":c.emissive=e.fromArray(h).getHex();break;case"specularCoef":c.shininess=h;break;case"shading":"basic"===h.toLowerCase()&&(c.type="MeshBasicMaterial"),"phong"===h.toLowerCase()&&(c.type="MeshPhongMaterial"),"standard"===h.toLowerCase()&&(c.type="MeshStandardMaterial");break;case"mapDiffuse":c.map=s(h,i.mapDiffuseRepeat,i.mapDiffuseOffset,i.mapDiffuseWrap,i.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":c.emissiveMap=s(h,i.mapEmissiveRepeat,i.mapEmissiveOffset,i.mapEmissiveWrap,i.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":c.lightMap=s(h,i.mapLightRepeat,i.mapLightOffset,i.mapLightWrap,i.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":c.aoMap=s(h,i.mapAORepeat,i.mapAOOffset,i.mapAOWrap,i.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":c.bumpMap=s(h,i.mapBumpRepeat,i.mapBumpOffset,i.mapBumpWrap,i.mapBumpAnisotropy);break;case"mapBumpScale":c.bumpScale=h;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":c.normalMap=s(h,i.mapNormalRepeat,i.mapNormalOffset,i.mapNormalWrap,i.mapNormalAnisotropy);break;case"mapNormalFactor":c.normalScale=[h,h];break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":c.specularMap=s(h,i.mapSpecularRepeat,i.mapSpecularOffset,i.mapSpecularWrap,i.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":c.metalnessMap=s(h,i.mapMetalnessRepeat,i.mapMetalnessOffset,i.mapMetalnessWrap,i.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":c.roughnessMap=s(h,i.mapRoughnessRepeat,i.mapRoughnessOffset,i.mapRoughnessWrap,i.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":c.alphaMap=s(h,i.mapAlphaRepeat,i.mapAlphaOffset,i.mapAlphaWrap,i.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":c.side=1;break;case"doubleSided":c.side=2;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),c.opacity=h;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":c[l]=h;break;case"vertexColors":!0===h&&(c.vertexColors=2),"face"===h&&(c.vertexColors=1);break;default:console.error("THREE.Loader.createMaterial: Unsupported",l,h)}}return"MeshBasicMaterial"===c.type&&delete c.emissive,"MeshPhongMaterial"!==c.type&&delete c.specular,1>c.opacity&&(c.transparent=!0),n.setTextures(u),n.parse(c)}}()},Vn.Handlers={handlers:[],add:function(e,t){this.handlers.push(e,t)},get:function(e){for(var t=this.handlers,n=0,r=t.length;n<r;n+=2){var i=t[n+1];if(t[n].test(e))return i}return null}},Object.assign(Wn.prototype,{load:function(e,t,n,r){var i=this,a=this.texturePath&&"string"==typeof this.texturePath?this.texturePath:Vn.prototype.extractUrlBase(e),o=new pn(this.manager);o.setWithCredentials(this.withCredentials),o.load(e,(function(n){var r=(n=JSON.parse(n)).metadata;if(void 0!==r&&void 0!==(r=r.type)){if("object"===r.toLowerCase())return void console.error("THREE.JSONLoader: "+e+" should be loaded with THREE.ObjectLoader instead.");if("scene"===r.toLowerCase())return void console.error("THREE.JSONLoader: "+e+" should be loaded with THREE.SceneLoader instead.")}n=i.parse(n,a),t(n.geometry,n.materials)}),n,r)},setTexturePath:function(e){this.texturePath=e},parse:function(e,t){var r=new be,a=void 0!==e.scale?1/e.scale:1;return function(t){var i,a,o,s,u,c,h,d,p,f,m,v,g,y=e.faces;c=e.vertices;var x=e.normals,b=e.colors,_=0;if(void 0!==e.uvs){for(i=0;i<e.uvs.length;i++)e.uvs[i].length&&_++;for(i=0;i<_;i++)r.faceVertexUvs[i]=[]}for(s=0,u=c.length;s<u;)(i=new l).x=c[s++]*t,i.y=c[s++]*t,i.z=c[s++]*t,r.vertices.push(i);for(s=0,u=y.length;s<u;)if(p=1&(t=y[s++]),o=2&t,i=8&t,h=16&t,f=32&t,c=64&t,t&=128,p){if((p=new oe).a=y[s],p.b=y[s+1],p.c=y[s+3],(m=new oe).a=y[s+1],m.b=y[s+2],m.c=y[s+3],s+=4,o&&(o=y[s++],p.materialIndex=o,m.materialIndex=o),o=r.faces.length,i)for(i=0;i<_;i++)for(v=e.uvs[i],r.faceVertexUvs[i][o]=[],r.faceVertexUvs[i][o+1]=[],a=0;4>a;a++)g=new n(g=v[2*(d=y[s++])],d=v[2*d+1]),2!==a&&r.faceVertexUvs[i][o].push(g),0!==a&&r.faceVertexUvs[i][o+1].push(g);if(h&&(h=3*y[s++],p.normal.set(x[h++],x[h++],x[h]),m.normal.copy(p.normal)),f)for(i=0;4>i;i++)h=3*y[s++],f=new l(x[h++],x[h++],x[h]),2!==i&&p.vertexNormals.push(f),0!==i&&m.vertexNormals.push(f);if(c&&(c=b[c=y[s++]],p.color.setHex(c),m.color.setHex(c)),t)for(i=0;4>i;i++)c=b[c=y[s++]],2!==i&&p.vertexColors.push(new F(c)),0!==i&&m.vertexColors.push(new F(c));r.faces.push(p),r.faces.push(m)}else{if((p=new oe).a=y[s++],p.b=y[s++],p.c=y[s++],o&&(o=y[s++],p.materialIndex=o),o=r.faces.length,i)for(i=0;i<_;i++)for(v=e.uvs[i],r.faceVertexUvs[i][o]=[],a=0;3>a;a++)g=new n(g=v[2*(d=y[s++])],d=v[2*d+1]),r.faceVertexUvs[i][o].push(g);if(h&&(h=3*y[s++],p.normal.set(x[h++],x[h++],x[h])),f)for(i=0;3>i;i++)h=3*y[s++],f=new l(x[h++],x[h++],x[h]),p.vertexNormals.push(f);if(c&&(c=y[s++],p.color.setHex(b[c])),t)for(i=0;3>i;i++)c=y[s++],p.vertexColors.push(new F(b[c]));r.faces.push(p)}}(a),function(){var t=void 0!==e.influencesPerVertex?e.influencesPerVertex:2;if(e.skinWeights)for(var n=0,a=e.skinWeights.length;n<a;n+=t)r.skinWeights.push(new i(e.skinWeights[n],1<t?e.skinWeights[n+1]:0,2<t?e.skinWeights[n+2]:0,3<t?e.skinWeights[n+3]:0));if(e.skinIndices)for(n=0,a=e.skinIndices.length;n<a;n+=t)r.skinIndices.push(new i(e.skinIndices[n],1<t?e.skinIndices[n+1]:0,2<t?e.skinIndices[n+2]:0,3<t?e.skinIndices[n+3]:0));r.bones=e.bones,r.bones&&0<r.bones.length&&(r.skinWeights.length!==r.skinIndices.length||r.skinIndices.length!==r.vertices.length)&&console.warn("When skinning, number of vertices ("+r.vertices.length+"), skinIndices ("+r.skinIndices.length+"), and skinWeights ("+r.skinWeights.length+") should match.")}(),function(t){if(void 0!==e.morphTargets)for(var n=0,i=e.morphTargets.length;n<i;n++){r.morphTargets[n]={},r.morphTargets[n].name=e.morphTargets[n].name,r.morphTargets[n].vertices=[];for(var a=r.morphTargets[n].vertices,o=e.morphTargets[n].vertices,s=0,u=o.length;s<u;s+=3){var c=new l;c.x=o[s]*t,c.y=o[s+1]*t,c.z=o[s+2]*t,a.push(c)}}if(void 0!==e.morphColors&&0<e.morphColors.length)for(console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.'),t=r.faces,a=e.morphColors[0].colors,n=0,i=t.length;n<i;n++)t[n].color.fromArray(a,3*n)}(a),function(){var t=[],n=[];void 0!==e.animation&&n.push(e.animation),void 0!==e.animations&&(e.animations.length?n=n.concat(e.animations):n.push(e.animations));for(var i=0;i<n.length;i++){var a=Gn.parseAnimation(n[i],r.bones);a&&t.push(a)}r.morphTargets&&(n=Gn.CreateClipsFromMorphTargetSequences(r.morphTargets,10),t=t.concat(n)),0<t.length&&(r.animations=t)}(),r.computeFaceNormals(),r.computeBoundingSphere(),void 0===e.materials||0===e.materials.length?{geometry:r}:(a=Vn.prototype.initMaterials(e.materials,t,this.crossOrigin),{geometry:r,materials:a})}}),Object.assign(Xn.prototype,{load:function(e,t,n,r){""===this.texturePath&&(this.texturePath=e.substring(0,e.lastIndexOf("/")+1));var i=this;new pn(i.manager).load(e,(function(n){var a=null;try{a=JSON.parse(n)}catch(t){return void 0!==r&&r(t),void console.error("THREE:ObjectLoader: Can't parse "+e+".",t.message)}void 0===(n=a.metadata)||void 0===n.type||"geometry"===n.type.toLowerCase()?console.error("THREE.ObjectLoader: Can't load "+e+". Use THREE.JSONLoader instead."):i.parse(a,t)}),n,r)},setTexturePath:function(e){this.texturePath=e},setCrossOrigin:function(e){this.crossOrigin=e},parse:function(e,t){var n=this.parseGeometries(e.geometries),r=this.parseImages(e.images,(function(){void 0!==t&&t(i)})),i=(r=this.parseTextures(e.textures,r),r=this.parseMaterials(e.materials,r),this.parseObject(e.object,n,r));return e.animations&&(i.animations=this.parseAnimations(e.animations)),void 0!==e.images&&0!==e.images.length||void 0===t||t(i),i},parseGeometries:function(e){var t={};if(void 0!==e)for(var n=new Wn,r=new jn,i=0,a=e.length;i<a;i++){var o,s=e[i];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":o=new Mi[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":o=new Mi[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":o=new Mi[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":o=new Mi[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":o=new Mi[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":o=new Mi[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"IcosahedronGeometry":case"OctahedronGeometry":case"TetrahedronGeometry":o=new Mi[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":o=new Mi[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":o=new Mi[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":o=new Mi[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"LatheGeometry":case"LatheBufferGeometry":o=new Mi[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"BufferGeometry":o=r.parse(s);break;case"Geometry":o=n.parse(s.data,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+s.type+'"');continue}o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),t[s.uuid]=o}return t},parseMaterials:function(e,t){var n={};if(void 0!==e){var r=new Hn;r.setTextures(t);for(var i=0,a=e.length;i<a;i++){var o=r.parse(e[i]);n[o.uuid]=o}}return n},parseAnimations:function(e){for(var t=[],n=0;n<e.length;n++){var r=Gn.parse(e[n]);t.push(r)}return t},parseImages:function(e,t){function n(e){return r.manager.itemStart(e),a.load(e,(function(){r.manager.itemEnd(e)}),void 0,(function(){r.manager.itemError(e)}))}var r=this,i={};if(void 0!==e&&0<e.length){var a=new vn(o=new dn(t));a.setCrossOrigin(this.crossOrigin);for(var o=0,s=e.length;o<s;o++){var l=e[o],u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l.url)?l.url:r.texturePath+l.url;i[l.uuid]=n(u)}}return i},parseTextures:function(e,t){function n(e,t){return"number"==typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var i={UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,SphericalReflectionMapping:305,CubeUVReflectionMapping:306,CubeUVRefractionMapping:307},a={RepeatWrapping:1e3,ClampToEdgeWrapping:1001,MirroredRepeatWrapping:1002},o={NearestFilter:1003,NearestMipMapNearestFilter:1004,NearestMipMapLinearFilter:1005,LinearFilter:1006,LinearMipMapNearestFilter:1007,LinearMipMapLinearFilter:1008},s={};if(void 0!==e)for(var l=0,u=e.length;l<u;l++){var c=e[l];void 0===c.image&&console.warn('THREE.ObjectLoader: No "image" specified for',c.uuid),void 0===t[c.image]&&console.warn("THREE.ObjectLoader: Undefined image",c.image);var h=new r(t[c.image]);h.needsUpdate=!0,h.uuid=c.uuid,void 0!==c.name&&(h.name=c.name),void 0!==c.mapping&&(h.mapping=n(c.mapping,i)),void 0!==c.offset&&h.offset.fromArray(c.offset),void 0!==c.repeat&&h.repeat.fromArray(c.repeat),void 0!==c.wrap&&(h.wrapS=n(c.wrap[0],a),h.wrapT=n(c.wrap[1],a)),void 0!==c.minFilter&&(h.minFilter=n(c.minFilter,o)),void 0!==c.magFilter&&(h.magFilter=n(c.magFilter,o)),void 0!==c.anisotropy&&(h.anisotropy=c.anisotropy),void 0!==c.flipY&&(h.flipY=c.flipY),s[c.uuid]=h}return s},parseObject:function(){var e=new u;return function(t,n,r){function i(e){return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),n[e]}function a(e){if(void 0!==e)return void 0===r[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),r[e]}var o;switch(t.type){case"Scene":o=new tt,void 0!==t.background&&Number.isInteger(t.background)&&(o.background=new F(t.background)),void 0!==t.fog&&("Fog"===t.fog.type?o.fog=new et(t.fog.color,t.fog.near,t.fog.far):"FogExp2"===t.fog.type&&(o.fog=new Ke(t.fog.color,t.fog.density)));break;case"PerspectiveCamera":o=new Ce(t.fov,t.aspect,t.near,t.far),void 0!==t.focus&&(o.focus=t.focus),void 0!==t.zoom&&(o.zoom=t.zoom),void 0!==t.filmGauge&&(o.filmGauge=t.filmGauge),void 0!==t.filmOffset&&(o.filmOffset=t.filmOffset),void 0!==t.view&&(o.view=Object.assign({},t.view));break;case"OrthographicCamera":o=new Le(t.left,t.right,t.top,t.bottom,t.near,t.far);break;case"AmbientLight":o=new An(t.color,t.intensity);break;case"DirectionalLight":o=new Sn(t.color,t.intensity);break;case"PointLight":o=new Tn(t.color,t.intensity,t.distance,t.decay);break;case"SpotLight":o=new En(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":o=new bn(t.color,t.groundColor,t.intensity);break;case"Mesh":o=i(t.geometry);var s=a(t.material);o=o.bones&&0<o.bones.length?new lt(o,s):new we(o,s);break;case"LOD":o=new at;break;case"Line":o=new ct(i(t.geometry),a(t.material),t.mode);break;case"LineSegments":o=new ht(i(t.geometry),a(t.material));break;case"PointCloud":case"Points":o=new pt(i(t.geometry),a(t.material));break;case"Sprite":o=new it(a(t.material));break;case"Group":o=new ft;break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh type. Instantiates Object3D instead.");default:o=new re}if(o.uuid=t.uuid,void 0!==t.name&&(o.name=t.name),void 0!==t.matrix?(e.fromArray(t.matrix),e.decompose(o.position,o.quaternion,o.scale)):(void 0!==t.position&&o.position.fromArray(t.position),void 0!==t.rotation&&o.rotation.fromArray(t.rotation),void 0!==t.quaternion&&o.quaternion.fromArray(t.quaternion),void 0!==t.scale&&o.scale.fromArray(t.scale)),void 0!==t.castShadow&&(o.castShadow=t.castShadow),void 0!==t.receiveShadow&&(o.receiveShadow=t.receiveShadow),t.shadow&&(void 0!==t.shadow.bias&&(o.shadow.bias=t.shadow.bias),void 0!==t.shadow.radius&&(o.shadow.radius=t.shadow.radius),void 0!==t.shadow.mapSize&&o.shadow.mapSize.fromArray(t.shadow.mapSize),void 0!==t.shadow.camera&&(o.shadow.camera=this.parseObject(t.shadow.camera))),void 0!==t.visible&&(o.visible=t.visible),void 0!==t.userData&&(o.userData=t.userData),void 0!==t.children)for(var l in t.children)o.add(this.parseObject(t.children[l],n,r));if("LOD"===t.type)for(t=t.levels,s=0;s<t.length;s++){var u=t[s];void 0!==(l=o.getObjectByProperty("uuid",u.object))&&o.addLevel(l,u.distance)}return o}}()}),Zn.prototype={constructor:Zn,getPoint:function(e){return console.warn("THREE.Curve: Warning, getPoint() not implemented!"),null},getPointAt:function(e){return e=this.getUtoTmapping(e),this.getPoint(e)},getPoints:function(e){isNaN(e)&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(e){isNaN(e)&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(isNaN(e)&&(e=this.__arcLengthDivisions?this.__arcLengthDivisions:200),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n,r=[],i=this.getPoint(0),a=0;for(r.push(0),n=1;n<=e;n++)a+=(t=this.getPoint(n/e)).distanceTo(i),r.push(a),i=t;return this.cacheArcLengths=r},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var n,r,i=this.getLengths(),a=i.length;r=t||e*i[a-1];for(var o,s=0,l=a-1;s<=l;)if(0>(o=i[n=Math.floor(s+(l-s)/2)]-r))s=n+1;else{if(!(0<o)){l=n;break}l=n-1}return i[n=l]===r?n/(a-1):(n+(r-(s=i[n]))/(i[n+1]-s))/(a-1)},getTangent:function(e){var t=e-1e-4;return 0>t&&(t=0),1<(e+=1e-4)&&(e=1),t=this.getPoint(t),this.getPoint(e).clone().sub(t).normalize()},getTangentAt:function(e){return e=this.getUtoTmapping(e),this.getTangent(e)},computeFrenetFrames:function(e,t){var n,r,i=new l,a=[],o=[],s=[],c=new l,h=new u;for(n=0;n<=e;n++)r=n/e,a[n]=this.getTangentAt(r),a[n].normalize();o[0]=new l,s[0]=new l,n=Number.MAX_VALUE,r=Math.abs(a[0].x);var d=Math.abs(a[0].y),p=Math.abs(a[0].z);for(r<=n&&(n=r,i.set(1,0,0)),d<=n&&(n=d,i.set(0,1,0)),p<=n&&i.set(0,0,1),c.crossVectors(a[0],i).normalize(),o[0].crossVectors(a[0],c),s[0].crossVectors(a[0],o[0]),n=1;n<=e;n++)o[n]=o[n-1].clone(),s[n]=s[n-1].clone(),c.crossVectors(a[n-1],a[n]),c.length()>Number.EPSILON&&(c.normalize(),i=Math.acos(li.clamp(a[n-1].dot(a[n]),-1,1)),o[n].applyMatrix4(h.makeRotationAxis(c,i))),s[n].crossVectors(a[n],o[n]);if(!0===t)for(i=Math.acos(li.clamp(o[0].dot(o[e]),-1,1)),i/=e,0<a[0].dot(c.crossVectors(o[0],o[e]))&&(i=-i),n=1;n<=e;n++)o[n].applyMatrix4(h.makeRotationAxis(a[n],i*n)),s[n].crossVectors(a[n],o[n]);return{tangents:a,normals:o,binormals:s}}},Jn.prototype=Object.create(Zn.prototype),Jn.prototype.constructor=Jn,Jn.prototype.isLineCurve=!0,Jn.prototype.getPoint=function(e){if(1===e)return this.v2.clone();var t=this.v2.clone().sub(this.v1);return t.multiplyScalar(e).add(this.v1),t},Jn.prototype.getPointAt=function(e){return this.getPoint(e)},Jn.prototype.getTangent=function(e){return this.v2.clone().sub(this.v1).normalize()},Qn.prototype=Object.assign(Object.create(Zn.prototype),{constructor:Qn,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Jn(t,e))},getPoint:function(e){var t=e*this.getLength(),n=this.getCurveLengths();for(e=0;e<n.length;){if(n[e]>=t)return t=n[e]-t,n=(e=this.curves[e]).getLength(),e.getPointAt(0===n?0:1-t/n);e++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e},getSpacedPoints:function(e){isNaN(e)&&(e=40);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;for(var t,n=[],r=0,i=this.curves;r<i.length;r++)for(var a=(a=i[r]).getPoints(a&&a.isEllipseCurve?2*e:a&&a.isLineCurve?1:a&&a.isSplineCurve?e*a.points.length:e),o=0;o<a.length;o++){var s=a[o];t&&t.equals(s)||(n.push(s),t=s)}return this.autoClose&&1<n.length&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},createPointsGeometry:function(e){return e=this.getPoints(e),this.createGeometry(e)},createSpacedPointsGeometry:function(e){return e=this.getSpacedPoints(e),this.createGeometry(e)},createGeometry:function(e){for(var t=new be,n=0,r=e.length;n<r;n++){var i=e[n];t.vertices.push(new l(i.x,i.y,i.z||0))}return t}}),Kn.prototype=Object.create(Zn.prototype),Kn.prototype.constructor=Kn,Kn.prototype.isEllipseCurve=!0,Kn.prototype.getPoint=function(e){for(var t=2*Math.PI,r=this.aEndAngle-this.aStartAngle,i=Math.abs(r)<Number.EPSILON;0>r;)r+=t;for(;r>t;)r-=t;r<Number.EPSILON&&(r=i?0:t),!0!==this.aClockwise||i||(r=r===t?-t:r-t),t=this.aStartAngle+e*r,e=this.aX+this.xRadius*Math.cos(t);var a=this.aY+this.yRadius*Math.sin(t);return 0!==this.aRotation&&(t=Math.cos(this.aRotation),r=Math.sin(this.aRotation),e=(i=e-this.aX)*t-(a-=this.aY)*r+this.aX,a=i*r+a*t+this.aY),new n(e,a)},er.prototype=Object.create(Zn.prototype),er.prototype.constructor=er,er.prototype.isSplineCurve=!0,er.prototype.getPoint=function(e){var t=(t=((o=this.points).length-1)*e)-(e=Math.floor(t)),r=o[0===e?e:e-1],i=o[e],a=o[e>o.length-2?o.length-1:e+1],o=o[e>o.length-3?o.length-1:e+2];return new n(qn(t,r.x,i.x,a.x,o.x),qn(t,r.y,i.y,a.y,o.y))},tr.prototype=Object.create(Zn.prototype),tr.prototype.constructor=tr,tr.prototype.getPoint=function(e){var t=this.v0,r=this.v1,i=this.v2,a=this.v3;return new n($n(e,t.x,r.x,i.x,a.x),$n(e,t.y,r.y,i.y,a.y))},nr.prototype=Object.create(Zn.prototype),nr.prototype.constructor=nr,nr.prototype.getPoint=function(e){var t=this.v0,r=this.v1,i=this.v2;return new n(Yn(e,t.x,r.x,i.x),Yn(e,t.y,r.y,i.y))};var Ri=Object.assign(Object.create(Qn.prototype),{fromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y)},moveTo:function(e,t){this.currentPoint.set(e,t)},lineTo:function(e,t){var r=new Jn(this.currentPoint.clone(),new n(e,t));this.curves.push(r),this.currentPoint.set(e,t)},quadraticCurveTo:function(e,t,r,i){e=new nr(this.currentPoint.clone(),new n(e,t),new n(r,i)),this.curves.push(e),this.currentPoint.set(r,i)},bezierCurveTo:function(e,t,r,i,a,o){e=new tr(this.currentPoint.clone(),new n(e,t),new n(r,i),new n(a,o)),this.curves.push(e),this.currentPoint.set(a,o)},splineThru:function(e){var t=new er(t=[this.currentPoint.clone()].concat(e));this.curves.push(t),this.currentPoint.copy(e[e.length-1])},arc:function(e,t,n,r,i,a){this.absarc(e+this.currentPoint.x,t+this.currentPoint.y,n,r,i,a)},absarc:function(e,t,n,r,i,a){this.absellipse(e,t,n,n,r,i,a)},ellipse:function(e,t,n,r,i,a,o,s){this.absellipse(e+this.currentPoint.x,t+this.currentPoint.y,n,r,i,a,o,s)},absellipse:function(e,t,n,r,i,a,o,s){e=new Kn(e,t,n,r,i,a,o,s),0<this.curves.length&&((t=e.getPoint(0)).equals(this.currentPoint)||this.lineTo(t.x,t.y)),this.curves.push(e),e=e.getPoint(1),this.currentPoint.copy(e)}});rr.prototype=Ri,Ri.constructor=rr,ir.prototype=Object.assign(Object.create(Ri),{constructor:ir,getPointsHoles:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t},extractAllPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},extractPoints:function(e){return this.extractAllPoints(e)}}),ar.prototype={moveTo:function(e,t){this.currentPath=new rr,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t)},lineTo:function(e,t){this.currentPath.lineTo(e,t)},quadraticCurveTo:function(e,t,n,r){this.currentPath.quadraticCurveTo(e,t,n,r)},bezierCurveTo:function(e,t,n,r,i,a){this.currentPath.bezierCurveTo(e,t,n,r,i,a)},splineThru:function(e){this.currentPath.splineThru(e)},toShapes:function(e,t){function n(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n],a=new ir;a.curves=i.curves,t.push(a)}return t}function r(e,t){for(var n=t.length,r=!1,i=n-1,a=0;a<n;i=a++){var o=t[i],s=t[a],l=s.x-o.x,u=s.y-o.y;if(Math.abs(u)>Number.EPSILON){if(0>u&&(o=t[a],l=-l,s=t[i],u=-u),!(e.y<o.y||e.y>s.y))if(e.y===o.y){if(e.x===o.x)return!0}else{if(0===(i=u*(e.x-o.x)-l*(e.y-o.y)))return!0;0>i||(r=!r)}}else if(e.y===o.y&&(s.x<=e.x&&e.x<=o.x||o.x<=e.x&&e.x<=s.x))return!0}return r}var i=Ti.isClockWise,a=this.subPaths;if(0===a.length)return[];if(!0===t)return n(a);var o,s,l,u=[];if(1===a.length)return s=a[0],(l=new ir).curves=s.curves,u.push(l),u;var c=!i(a[0].getPoints());c=e?!c:c;l=[];var h,d=[],p=[],f=0;d[f]=void 0,p[f]=[];for(var m=0,v=a.length;m<v;m++)o=i(h=(s=a[m]).getPoints()),(o=e?!o:o)?(!c&&d[f]&&f++,d[f]={s:new ir,p:h},d[f].s.curves=s.curves,c&&f++,p[f]=[]):p[f].push({h:s,p:h[0]});if(!d[0])return n(a);if(1<d.length){for(m=!1,s=[],i=0,a=d.length;i<a;i++)l[i]=[];for(i=0,a=d.length;i<a;i++)for(o=p[i],c=0;c<o.length;c++){for(f=o[c],h=!0,v=0;v<d.length;v++)r(f.p,d[v].p)&&(i!==v&&s.push({froms:i,tos:v,hole:c}),h?(h=!1,l[v].push(f)):m=!0);h&&l[i].push(f)}0<s.length&&(m||(p=l))}for(m=0,i=d.length;m<i;m++)for(l=d[m].s,u.push(l),a=0,o=(s=p[m]).length;a<o;a++)l.holes.push(s[a].h);return u}},Object.assign(or.prototype,{isFont:!0,generateShapes:function(e,t,n){void 0===t&&(t=100),void 0===n&&(n=4);var r=this.data;e=String(e).split("");var i=t/r.resolution,a=(r.boundingBox.yMax-r.boundingBox.yMin+r.underlineThickness)*i,o=0,s=0;t=[];for(var l=0;l<e.length;l++){var u=e[l];if("\n"===u)o=0,s-=a;else{var c;c=i;var h=o,d=s;if(u=r.glyphs[u]||r.glyphs["?"]){var p,f,m,v,g,y,x,b,_=new ar,w=[];if(u.o)for(var E=u._cachedOutline||(u._cachedOutline=u.o.split(" ")),T=0,M=E.length;T<M;)switch(E[T++]){case"m":p=E[T++]*c+h,f=E[T++]*c+d,_.moveTo(p,f);break;case"l":p=E[T++]*c+h,f=E[T++]*c+d,_.lineTo(p,f);break;case"q":if(p=E[T++]*c+h,f=E[T++]*c+d,g=E[T++]*c+h,y=E[T++]*c+d,_.quadraticCurveTo(g,y,p,f),v=w[w.length-1]){m=v.x,v=v.y;for(var S=1;S<=n;S++){var A=S/n;Yn(A,m,g,p),Yn(A,v,y,f)}}break;case"b":if(p=E[T++]*c+h,f=E[T++]*c+d,g=E[T++]*c+h,y=E[T++]*c+d,x=E[T++]*c+h,b=E[T++]*c+d,_.bezierCurveTo(g,y,x,b,p,f),v=w[w.length-1])for(m=v.x,v=v.y,S=1;S<=n;S++)$n(A=S/n,m,g,x,p),$n(A,v,y,b,f)}c={offsetX:u.ha*c,path:_}}else c=void 0;o+=c.offsetX,t.push(c.path)}}for(n=[],r=0,e=t.length;r<e;r++)Array.prototype.push.apply(n,t[r].toShapes());return n}}),Object.assign(sr.prototype,{load:function(e,t,n,r){var i=this;new pn(this.manager).load(e,(function(e){var n;try{n=JSON.parse(e)}catch(t){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(e.substring(65,e.length-2))}e=i.parse(n),t&&t(e)}),n,r)},parse:function(e){return new or(e)}});var Ii,Di,Oi,Ni={getContext:function(){return void 0===Ii&&(Ii=new(window.AudioContext||window.webkitAudioContext)),Ii},setContext:function(e){Ii=e}};Object.assign(lr.prototype,{load:function(e,t,n,r){var i=new pn(this.manager);i.setResponseType("arraybuffer"),i.load(e,(function(e){Ni.getContext().decodeAudioData(e,(function(e){t(e)}))}),n,r)}}),ur.prototype=Object.assign(Object.create(xn.prototype),{constructor:ur,isRectAreaLight:!0,copy:function(e){return xn.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this}}),Object.assign(cr.prototype,{update:function(){var e,t,n,r,i,a,o,s=new u,l=new u;return function(u){if(e!==this||t!==u.focus||n!==u.fov||r!==u.aspect*this.aspect||i!==u.near||a!==u.far||o!==u.zoom){e=this,t=u.focus,n=u.fov,r=u.aspect*this.aspect,i=u.near,a=u.far,o=u.zoom;var c,h=u.projectionMatrix.clone(),d=this.eyeSep/2,p=d*i/t,f=i*Math.tan(li.DEG2RAD*n*.5)/o;l.elements[12]=-d,s.elements[12]=d,d=-f*r+p,c=f*r+p,h.elements[0]=2*i/(c-d),h.elements[8]=(c+d)/(c-d),this.cameraL.projectionMatrix.copy(h),d=-f*r-p,c=f*r-p,h.elements[0]=2*i/(c-d),h.elements[8]=(c+d)/(c-d),this.cameraR.projectionMatrix.copy(h)}this.cameraL.matrixWorld.copy(u.matrixWorld).multiply(l),this.cameraR.matrixWorld.copy(u.matrixWorld).multiply(s)}}()}),hr.prototype=Object.create(re.prototype),hr.prototype.constructor=hr,dr.prototype=Object.assign(Object.create(re.prototype),{constructor:dr,getInput:function(){return this.gain},removeFilter:function(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)},getFilter:function(){return this.filter},setFilter:function(e){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination)},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){this.gain.gain.value=e},updateMatrixWorld:function(){var e=new l,t=new s,n=new l,r=new l;return function(i){re.prototype.updateMatrixWorld.call(this,i),i=this.context.listener;var a=this.up;this.matrixWorld.decompose(e,t,n),r.set(0,0,-1).applyQuaternion(t),i.positionX?(i.positionX.setValueAtTime(e.x,this.context.currentTime),i.positionY.setValueAtTime(e.y,this.context.currentTime),i.positionZ.setValueAtTime(e.z,this.context.currentTime),i.forwardX.setValueAtTime(r.x,this.context.currentTime),i.forwardY.setValueAtTime(r.y,this.context.currentTime),i.forwardZ.setValueAtTime(r.z,this.context.currentTime),i.upX.setValueAtTime(a.x,this.context.currentTime),i.upY.setValueAtTime(a.y,this.context.currentTime),i.upZ.setValueAtTime(a.z,this.context.currentTime)):(i.setPosition(e.x,e.y,e.z),i.setOrientation(r.x,r.y,r.z,a.x,a.y,a.z))}}()}),pr.prototype=Object.assign(Object.create(re.prototype),{constructor:pr,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0===this.isPlaying)console.warn("THREE.Audio: Audio is already playing.");else{if(!1!==this.hasPlaybackControl){var e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.onended=this.onEnded.bind(this),e.playbackRate.setValueAtTime(this.playbackRate,this.startTime),e.start(0,this.startTime),this.isPlaying=!0,this.source=e,this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}},pause:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.startTime=this.context.currentTime,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.startTime=0,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(0<this.filters.length){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(0<this.filters.length){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),!0===this.isPlaying?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.context.currentTime),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.value=e,this}}),fr.prototype=Object.assign(Object.create(pr.prototype),{constructor:fr,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){this.panner.refDistance=e},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){this.panner.rolloffFactor=e},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){this.panner.distanceModel=e},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){this.panner.maxDistance=e},updateMatrixWorld:function(){var e=new l;return function(t){re.prototype.updateMatrixWorld.call(this,t),e.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(e.x,e.y,e.z)}}()}),Object.assign(mr.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}),vr.prototype={constructor:vr,accumulate:function(e,t){var n=this.buffer,r=this.valueSize,i=e*r+r,a=this.cumulativeWeight;if(0===a){for(a=0;a!==r;++a)n[i+a]=n[a];a=t}else a+=t,this._mixBufferRegion(n,i,0,t/a,r);this.cumulativeWeight=a},apply:function(e){var t=this.valueSize,n=this.buffer;e=e*t+t;var r=this.cumulativeWeight,i=this.binding;this.cumulativeWeight=0,1>r&&this._mixBufferRegion(n,e,3*t,1-r,t);r=t;for(var a=t+t;r!==a;++r)if(n[r]!==n[r+t]){i.setValue(n,e);break}},saveOriginalState:function(){var e=this.buffer,t=this.valueSize,n=3*t;this.binding.getValue(e,n);for(var r=t;r!==n;++r)e[r]=e[n+r%t];this.cumulativeWeight=0},restoreOriginalState:function(){this.binding.setValue(this.buffer,3*this.valueSize)},_select:function(e,t,n,r,i){if(.5<=r)for(r=0;r!==i;++r)e[t+r]=e[n+r]},_slerp:function(e,t,n,r,i){s.slerpFlat(e,t,e,t,e,n,r)},_lerp:function(e,t,n,r,i){for(var a=1-r,o=0;o!==i;++o){var s=t+o;e[s]=e[s]*a+e[n+o]*r}}},gr.prototype={constructor:gr,getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,n=t.objectName,r=t.propertyName,i=t.propertyIndex;if(e||(this.node=e=gr.findNode(this.rootNode,t.nodeName)||this.rootNode),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(n){var a=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("  can not bind to material as node does not have a material",this);if(!e.material.materials)return void console.error("  can not bind to material.materials as node.material does not have a materials array",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("  can not bind to bones as node does not have a skeleton",this);for(e=e.skeleton.bones,n=0;n<e.length;n++)if(e[n].name===a){a=n;break}break;default:if(void 0===e[n])return void console.error("  can not bind to objectName of node, undefined",this);e=e[n]}if(void 0!==a){if(void 0===e[a])return void console.error("  trying to bind to objectIndex of objectName, but is undefined:",this,e);e=e[a]}}if(void 0===(a=e[r]))console.error("  trying to update property for track: "+t.nodeName+"."+r+" but it wasn't found.",e);else{if(t=this.Versioning.None,void 0!==e.needsUpdate?(t=this.Versioning.NeedsUpdate,this.targetObject=e):void 0!==e.matrixWorldNeedsUpdate&&(t=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=e),n=this.BindingType.Direct,void 0!==i){if("morphTargetInfluences"===r){if(!e.geometry)return void console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry",this);if(!e.geometry.morphTargets)return void console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry.morphTargets",this);for(n=0;n<this.node.geometry.morphTargets.length;n++)if(e.geometry.morphTargets[n].name===i){i=n;break}}n=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=i}else void 0!==a.fromArray&&void 0!==a.toArray?(n=this.BindingType.HasFromToArray,this.resolvedProperty=a):void 0!==a.length?(n=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=r;this.getValue=this.GetterByBindingType[n],this.setValue=this.SetterByBindingTypeAndVersioning[n][t]}}else console.error("  trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}},Object.assign(gr.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},_getValue_unbound:gr.prototype.getValue,_setValue_unbound:gr.prototype.setValue,BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)e[t++]=n[r]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.node[this.propertyName]=e[t]},function(e,t){this.node[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.node[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++]},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]]}),gr.Composite=function(e,t,n){n=n||gr.parseTrackName(t),this._targetGroup=e,this._bindings=e.subscribe_(t,n)},gr.Composite.prototype={constructor:gr.Composite,getValue:function(e,t){this.bind();var n=this._bindings[this._targetGroup.nCachedObjects_];void 0!==n&&n.getValue(e,t)},setValue:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}},gr.create=function(e,t,n){return e&&e.isAnimationObjectGroup?new gr.Composite(e,t,n):new gr(e,t,n)},gr.parseTrackName=function(e){var t=/^((?:[\w-]+[\/:])*)([\w-]+)?(?:\.([\w-]+)(?:\[(.+)\])?)?\.([\w-]+)(?:\[(.+)\])?$/.exec(e);if(!t)throw Error("cannot parse trackName at all: "+e);if(null===(t={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]}).propertyName||0===t.propertyName.length)throw Error("can not parse propertyName from trackName: "+e);return t},gr.findNode=function(e,t){if(!t||""===t||"root"===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=function(e){for(var n=0;n<e.bones.length;n++){var r=e.bones[n];if(r.name===t)return r}return null}(e.skeleton);if(n)return n}if(e.children){var r=function(e){for(var n=0;n<e.length;n++){var i=e[n];if(i.name===t||i.uuid===t||(i=r(i.children)))return i}return null};if(n=r(e.children))return n}return null},yr.prototype={constructor:yr,isAnimationObjectGroup:!0,add:function(e){for(var t=this._objects,n=t.length,r=this.nCachedObjects_,i=this._indicesByUUID,a=this._paths,o=this._parsedPaths,s=this._bindings,l=s.length,u=0,c=arguments.length;u!==c;++u){var h=arguments[u],d=i[p=h.uuid];if(void 0===d){d=n++,i[p]=d,t.push(h);for(var p=0,f=l;p!==f;++p)s[p].push(new gr(h,a[p],o[p]))}else if(d<r){var m=--r;for(i[(f=t[m]).uuid]=d,t[d]=f,i[p]=m,t[m]=h,p=0,f=l;p!==f;++p){var v=s[p],g=v[d];v[d]=v[m],void 0===g&&(g=new gr(h,a[p],o[p])),v[m]=g}}else void 0!==t[d]&&console.error("Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes...")}this.nCachedObjects_=r},remove:function(e){for(var t=this._objects,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._bindings,a=i.length,o=0,s=arguments.length;o!==s;++o){var l=arguments[o],u=l.uuid,c=r[u];if(void 0!==c&&c>=n){var h=n++;for(r[(d=t[h]).uuid]=c,t[c]=d,r[u]=h,t[h]=l,l=0,u=a;l!==u;++l){var d,p=(d=i[l])[c];d[c]=d[h],d[h]=p}}}this.nCachedObjects_=n},uncache:function(e){for(var t=this._objects,n=t.length,r=this.nCachedObjects_,i=this._indicesByUUID,a=this._bindings,o=a.length,s=0,l=arguments.length;s!==l;++s){var u=i[c=arguments[s].uuid];if(void 0!==u)if(delete i[c],u<r){var c,h=t[c=--r],d=--n,p=t[d];for(i[h.uuid]=u,t[u]=h,i[p.uuid]=c,t[c]=p,t.pop(),h=0,p=o;h!==p;++h){var f=a[h],m=f[d];f[u]=f[c],f[c]=m,f.pop()}}else for(i[(p=t[d=--n]).uuid]=u,t[u]=p,t.pop(),h=0,p=o;h!==p;++h)(f=a[h])[u]=f[d],f.pop()}this.nCachedObjects_=r},subscribe_:function(e,t){var n=this._bindingsIndicesByPath,r=n[e],i=this._bindings;if(void 0!==r)return i[r];var a=this._paths,o=this._parsedPaths,s=this._objects,l=this.nCachedObjects_,u=Array(s.length);r=i.length;for(n[e]=r,a.push(e),o.push(t),i.push(u),n=l,r=s.length;n!==r;++n)u[n]=new gr(s[n],e,t);return u},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var r=this._paths,i=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o];t[e[o]]=n,a[n]=s,a.pop(),i[n]=i[o],i.pop(),r[n]=r[o],r.pop()}}},xr.prototype={constructor:xr,play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){n=this._clip.duration;var r=e._clip.duration,i=n/r;e.warp(1,r/n,t),this.warp(i,1,t)}return this},crossFadeTo:function(e,t,n){return e.crossFadeFrom(this,t,n)},stopFading:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,n){var r=this._mixer,i=r.time,a=this._timeScaleInterpolant,o=this.timeScale;return null===a&&(this._timeScaleInterpolant=a=r._lendControlInterpolant()),r=a.parameterPositions,a=a.sampleValues,r[0]=i,r[1]=i+n,a[0]=e/o,a[1]=t/o,this},stopWarping:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,n,r){if(null!==(i=this._startTime)){if(0>(t=(e-i)*n)||0===n)return;this._startTime=null,t*=n}if(t*=this._updateTimeScale(e),n=this._updateTime(t),0<(e=this._updateWeight(e))){t=this._interpolants;for(var i=this._propertyBindings,a=0,o=t.length;a!==o;++a)t[a].evaluate(n),i[a].accumulate(r,e)}},_updateWeight:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(e)[0];t=t*r;e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t},_updateTimeScale:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n){t=t*n.evaluate(e)[0];e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t},_updateTime:function(e){var t=this.time+e;if(0===e)return t;var n=this._clip.duration,r=this.loop,i=this._loopCount;if(2200===r)e:{if(-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1)),t>=n)t=n;else{if(!(0>t))break e;t=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:0>e?-1:1})}else{if(r=2202===r,-1===i&&(0<=e?(i=0,this._setEndings(!0,0===this.repetitions,r)):this._setEndings(0===this.repetitions,!0,r)),t>=n||0>t){var a=Math.floor(t/n),o=(t=t-n*a,i=i+Math.abs(a),this.repetitions-i);0>o?(this.clampWhenFinished?this.paused=!0:this.enabled=!1,t=0<e?n:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:0<e?1:-1})):(0===o?(e=0>e,this._setEndings(e,!e,r)):this._setEndings(!1,!1,r),this._loopCount=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a}))}if(r&&1==(1&i))return this.time=t,n-t}return this.time=t},_setEndings:function(e,t,n){var r=this._interpolantSettings;n?(r.endingStart=2401,r.endingEnd=2401):(r.endingStart=e?this.zeroSlopeAtStart?2401:2400:2402,r.endingEnd=t?this.zeroSlopeAtEnd?2401:2400:2402)},_scheduleFading:function(e,t,n){var r=this._mixer,i=r.time,a=this._weightInterpolant;return null===a&&(this._weightInterpolant=a=r._lendControlInterpolant()),r=a.parameterPositions,a=a.sampleValues,r[0]=i,a[0]=t,r[1]=i+e,a[1]=n,this}},br.prototype={constructor:br,clipAction:function(e,t){var n=(i=t||this._root).uuid,r="string"==typeof e?Gn.findByName(i,e):e,i=null!==r?r.uuid:e,a=this._actionsByClip[i],o=null;if(void 0!==a){if(void 0!==(o=a.actionByRoot[n]))return o;o=a.knownActions[0],null===r&&(r=o._clip)}return null===r?null:(r=new xr(this,r,t),this._bindAction(r,o),this._addInactiveAction(r,i,n),r)},existingAction:function(e,t){var n=(r=t||this._root).uuid,r="string"==typeof e?Gn.findByName(r,e):e;return void 0!==(r=this._actionsByClip[r?r.uuid:e])&&r.actionByRoot[n]||null},stopAllAction:function(){for(var e=this._actions,t=this._nActiveActions,n=this._bindings,r=this._nActiveBindings,i=this._nActiveBindings=this._nActiveActions=0;i!==t;++i)e[i].reset();for(i=0;i!==r;++i)n[i].useCount=0;return this},update:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),a=this._accuIndex^=1,o=0;o!==n;++o){var s=t[o];s.enabled&&s._update(r,e,i,a)}for(e=this._bindings,t=this._nActiveBindings,o=0;o!==t;++o)e[o].apply(a);return this},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions;e=e.uuid;var n=this._actionsByClip;if(void 0!==(r=n[e])){for(var r,i=0,a=(r=r.knownActions).length;i!==a;++i){var o=r[i];this._deactivateAction(o);var s=o._cacheIndex,l=t[t.length-1];o._cacheIndex=null,o._byClipCacheIndex=null,l._cacheIndex=s,t[s]=l,t.pop(),this._removeInactiveBindingsForAction(o)}delete n[e]}},uncacheRoot:function(e){e=e.uuid;var t,n=this._actionsByClip;for(t in n){var r=n[t].actionByRoot[e];void 0!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}if(void 0!==(t=this._bindingsByRootAndName[e]))for(var i in t)(e=t[i]).restoreOriginalState(),this._removeInactiveBinding(e)},uncacheAction:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}},Object.assign(br.prototype,{_bindAction:function(e,t){var n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,a=e._propertyBindings,o=e._interpolants,s=n.uuid,l=this._bindingsByRootAndName,u=l[s];for(void 0===u&&(u={},l[s]=u),l=0;l!==i;++l){var c=r[l],h=c.name,d=u[h];if(void 0===d){if(void 0!==(d=a[l])){null===d._cacheIndex&&(++d.referenceCount,this._addInactiveBinding(d,s,h));continue}++(d=new vr(gr.create(n,h,t&&t._propertyBindings[l].binding.parsedPath),c.ValueTypeName,c.getValueSize())).referenceCount,this._addInactiveBinding(d,s,h)}a[l]=d,o[l].resultBuffer=d.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}for(n=0,r=(t=e._propertyBindings).length;n!==r;++n){var i=t[n];0==i.useCount++&&(this._lendBinding(i),i.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0==--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){return null!==(e=e._cacheIndex)&&e<this._nActiveActions},_addInactiveAction:function(e,t,n){var r=this._actions,i=this._actionsByClip,a=i[t];void 0===a?(a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=a):(t=a.knownActions,e._byClipCacheIndex=t.length,t.push(e)),e._cacheIndex=r.length,r.push(e),a.actionByRoot[n]=e},_removeInactiveAction:function(e){var t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;n=e._clip.uuid;var i=(r=this._actionsByClip)[n],a=i.knownActions,o=a[a.length-1],s=e._byClipCacheIndex;o._byClipCacheIndex=s,a[s]=o,a.pop(),e._byClipCacheIndex=null,delete i.actionByRoot[(t._localRoot||this._root).uuid],0===a.length&&delete r[n],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var t=0,n=(e=e._propertyBindings).length;t!==n;++t){var r=e[t];0==--r.referenceCount&&this._removeInactiveBinding(r)}},_lendAction:function(e){var t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackAction:function(e){var t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_addInactiveBinding:function(e,t,n){var r=this._bindingsByRootAndName,i=r[t],a=this._bindings;void 0===i&&(i={},r[t]=i),i[n]=e,e._cacheIndex=a.length,a.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,n=(r=e.binding).rootNode.uuid,r=r.path,i=this._bindingsByRootAndName,a=i[n],o=t[t.length-1];e=e._cacheIndex,o._cacheIndex=e,t[e]=o,t.pop(),delete a[r];e:{for(var s in a)break e;delete i[n]}},_lendBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&((n=new Pn(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t,e[t]=n),n},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i},_controlInterpolantsResultBuffer:new Float32Array(1)}),Object.assign(br.prototype,t.prototype),_r.prototype.clone=function(){return new _r(void 0===this.value.clone?this.value:this.value.clone())},wr.prototype=Object.create(_e.prototype),wr.prototype.constructor=wr,wr.prototype.isInstancedBufferGeometry=!0,wr.prototype.addGroup=function(e,t,n){this.groups.push({start:e,count:t,materialIndex:n})},wr.prototype.copy=function(e){null!==(n=e.index)&&this.setIndex(n.clone());var t,n=e.attributes;for(t in n)this.addAttribute(t,n[t].clone());for(t=0,n=(e=e.groups).length;t<n;t++){var r=e[t];this.addGroup(r.start,r.count,r.materialIndex)}return this},Er.prototype={constructor:Er,isInterleavedBufferAttribute:!0,get count(){return this.data.count},get array(){return this.data.array},setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}},Tr.prototype={constructor:Tr,isInterleavedBuffer:!0,set needsUpdate(e){!0===e&&this.version++},setArray:function(e){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==e?e.length/this.stride:0,this.array=e},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.dynamic=e.dynamic,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(e){return this.onUploadCallback=e,this}},Mr.prototype=Object.create(Tr.prototype),Mr.prototype.constructor=Mr,Mr.prototype.isInstancedInterleavedBuffer=!0,Mr.prototype.copy=function(e){return Tr.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},Sr.prototype=Object.create(le.prototype),Sr.prototype.constructor=Sr,Sr.prototype.isInstancedBufferAttribute=!0,Sr.prototype.copy=function(e){return le.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},Ar.prototype={constructor:Ar,linePrecision:1,set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize()):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t){var n=[];return Lr(e,this,n,t),n.sort(Cr),n},intersectObjects:function(e,t){var n=[];if(!1===Array.isArray(e))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),n;for(var r=0,i=e.length;r<i;r++)Lr(e[r],this,n,t);return n.sort(Cr),n}},Pr.prototype={constructor:Pr,start:function(){this.oldTime=this.startTime=(performance||Date).now(),this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running&&this.start(),this.running){var t=(performance||Date).now();e=(t-this.oldTime)/1e3;this.oldTime=t,this.elapsedTime+=e}return e}},Rr.prototype={constructor:Rr,set:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(e){return this.radius=e.length(),0===this.radius?this.phi=this.theta=0:(this.theta=Math.atan2(e.x,e.z),this.phi=Math.acos(li.clamp(e.y/this.radius,-1,1))),this}},Ir.prototype={constructor:Ir,set:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.radius=Math.sqrt(e.x*e.x+e.z*e.z),this.theta=Math.atan2(e.x,e.z),this.y=e.y,this}},Dr.prototype=Object.create(we.prototype),Dr.prototype.constructor=Dr,Dr.prototype.createAnimation=function(e,t,n,r){t={start:t,end:n,length:n-t+1,fps:r,duration:(n-t)/r,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1},this.animationsMap[e]=t,this.animationsList.push(t)},Dr.prototype.autoCreateAnimations=function(e){for(var t,n=/([a-z]+)_?(\d+)/i,r={},i=this.geometry,a=0,o=i.morphTargets.length;a<o;a++){var s=i.morphTargets[a].name.match(n);if(s&&1<s.length){var l=s[1];r[l]||(r[l]={start:1/0,end:-1/0}),a<(s=r[l]).start&&(s.start=a),a>s.end&&(s.end=a),t||(t=l)}}for(l in r)s=r[l],this.createAnimation(l,s.start,s.end,e);this.firstAnimation=t},Dr.prototype.setAnimationDirectionForward=function(e){(e=this.animationsMap[e])&&(e.direction=1,e.directionBackwards=!1)},Dr.prototype.setAnimationDirectionBackward=function(e){(e=this.animationsMap[e])&&(e.direction=-1,e.directionBackwards=!0)},Dr.prototype.setAnimationFPS=function(e,t){var n=this.animationsMap[e];n&&(n.fps=t,n.duration=(n.end-n.start)/n.fps)},Dr.prototype.setAnimationDuration=function(e,t){var n=this.animationsMap[e];n&&(n.duration=t,n.fps=(n.end-n.start)/n.duration)},Dr.prototype.setAnimationWeight=function(e,t){var n=this.animationsMap[e];n&&(n.weight=t)},Dr.prototype.setAnimationTime=function(e,t){var n=this.animationsMap[e];n&&(n.time=t)},Dr.prototype.getAnimationTime=function(e){var t=0;return(e=this.animationsMap[e])&&(t=e.time),t},Dr.prototype.getAnimationDuration=function(e){var t=-1;return(e=this.animationsMap[e])&&(t=e.duration),t},Dr.prototype.playAnimation=function(e){var t=this.animationsMap[e];t?(t.time=0,t.active=!0):console.warn("THREE.MorphBlendMesh: animation["+e+"] undefined in .playAnimation()")},Dr.prototype.stopAnimation=function(e){(e=this.animationsMap[e])&&(e.active=!1)},Dr.prototype.update=function(e){for(var t=0,n=this.animationsList.length;t<n;t++){var r=this.animationsList[t];if(r.active){var i=r.duration/r.length;r.time+=r.direction*e,r.mirroredLoop?(r.time>r.duration||0>r.time)&&(r.direction*=-1,r.time>r.duration&&(r.time=r.duration,r.directionBackwards=!0),0>r.time&&(r.time=0,r.directionBackwards=!1)):(r.time%=r.duration,0>r.time&&(r.time+=r.duration));var a=r.start+li.clamp(Math.floor(r.time/i),0,r.length-1),o=r.weight;a!==r.currentFrame&&(this.morphTargetInfluences[r.lastFrame]=0,this.morphTargetInfluences[r.currentFrame]=1*o,this.morphTargetInfluences[a]=0,r.lastFrame=r.currentFrame,r.currentFrame=a),i=r.time%i/i,r.directionBackwards&&(i=1-i),r.currentFrame!==r.lastFrame?(this.morphTargetInfluences[r.currentFrame]=i*o,this.morphTargetInfluences[r.lastFrame]=(1-i)*o):this.morphTargetInfluences[r.currentFrame]=o}}},Or.prototype=Object.create(re.prototype),Or.prototype.constructor=Or,Or.prototype.isImmediateRenderObject=!0,Nr.prototype=Object.create(ht.prototype),Nr.prototype.constructor=Nr,Nr.prototype.update=function(){var e=new l,t=new l,n=new Z;return function(){var r=["a","b","c"];this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);var i=this.object.matrixWorld,a=this.geometry.attributes.position,o=this.object.geometry;if(o&&o.isGeometry)for(var s=o.vertices,l=o.faces,u=o=0,c=l.length;u<c;u++)for(var h=l[u],d=0,p=h.vertexNormals.length;d<p;d++){var f=h.vertexNormals[d];e.copy(s[h[r[d]]]).applyMatrix4(i),t.copy(f).applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),a.setXYZ(o,e.x,e.y,e.z),o+=1,a.setXYZ(o,t.x,t.y,t.z),o+=1}else if(o&&o.isBufferGeometry)for(r=o.attributes.position,s=o.attributes.normal,d=o=0,p=r.count;d<p;d++)e.set(r.getX(d),r.getY(d),r.getZ(d)).applyMatrix4(i),t.set(s.getX(d),s.getY(d),s.getZ(d)),t.applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),a.setXYZ(o,e.x,e.y,e.z),o+=1,a.setXYZ(o,t.x,t.y,t.z),o+=1;return a.needsUpdate=!0,this}}(),zr.prototype=Object.create(re.prototype),zr.prototype.constructor=zr,zr.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},zr.prototype.update=function(){var e=new l,t=new l;return function(){var n=this.light.distance?this.light.distance:1e3,r=n*Math.tan(this.light.angle);this.cone.scale.set(r,r,n),e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(t.sub(e)),this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)}}(),Ur.prototype=Object.create(ht.prototype),Ur.prototype.constructor=Ur,Ur.prototype.getBoneList=function(e){var t=[];e&&e.isBone&&t.push(e);for(var n=0;n<e.children.length;n++)t.push.apply(t,this.getBoneList(e.children[n]));return t},Ur.prototype.update=function(){var e=new l,t=new u,n=new u;return function(){var r=this.geometry,i=r.getAttribute("position");n.getInverse(this.root.matrixWorld);for(var a=0,o=0;a<this.bones.length;a++){var s=this.bones[a];s.parent&&s.parent.isBone&&(t.multiplyMatrices(n,s.matrixWorld),e.setFromMatrixPosition(t),i.setXYZ(o,e.x,e.y,e.z),t.multiplyMatrices(n,s.parent.matrixWorld),e.setFromMatrixPosition(t),i.setXYZ(o+1,e.x,e.y,e.z),o+=2)}r.getAttribute("position").needsUpdate=!0}}(),Br.prototype=Object.create(we.prototype),Br.prototype.constructor=Br,Br.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},Br.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)},kr.prototype=Object.create(re.prototype),kr.prototype.constructor=kr,kr.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose(),this.children[1].geometry.dispose(),this.children[1].material.dispose()},kr.prototype.update=function(){var e=new l,t=new l;return function(){var n=this.children[0],r=this.children[1];if(this.light.target){e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld);var i=t.clone().sub(e);n.lookAt(i),r.lookAt(i)}n.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),r.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);r=.5*this.light.width,i=.5*this.light.height;var a=(n=n.geometry.getAttribute("position")).array;a[0]=r,a[1]=-i,a[2]=0,a[3]=r,a[4]=i,a[5]=0,a[6]=-r,a[7]=i,a[8]=0,a[9]=-r,a[10]=i,a[11]=0,a[12]=-r,a[13]=-i,a[14]=0,a[15]=r,a[16]=-i,a[17]=0,n.needsUpdate=!0}}(),Fr.prototype=Object.create(re.prototype),Fr.prototype.constructor=Fr,Fr.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},Fr.prototype.update=function(){var e=new l,t=new F,n=new F;return function(){var r=this.children[0],i=r.geometry.getAttribute("color");t.copy(this.light.color).multiplyScalar(this.light.intensity),n.copy(this.light.groundColor).multiplyScalar(this.light.intensity);for(var a=0,o=i.count;a<o;a++){var s=a<o/2?t:n;i.setXYZ(a,s.r,s.g,s.b)}r.lookAt(e.setFromMatrixPosition(this.light.matrixWorld).negate()),i.needsUpdate=!0}}(),Gr.prototype=Object.create(ht.prototype),Gr.prototype.constructor=Gr,Hr.prototype=Object.create(ht.prototype),Hr.prototype.constructor=Hr,jr.prototype=Object.create(ht.prototype),jr.prototype.constructor=jr,jr.prototype.update=function(){var e=new l,t=new l,n=new Z;return function(){this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);for(var r,i=this.object.matrixWorld,a=this.geometry.attributes.position,o=(r=this.object.geometry).vertices,s=0,l=0,u=(r=r.faces).length;l<u;l++){var c=r[l],h=c.normal;e.copy(o[c.a]).add(o[c.b]).add(o[c.c]).divideScalar(3).applyMatrix4(i),t.copy(h).applyMatrix3(n).normalize().multiplyScalar(this.size).add(e),a.setXYZ(s,e.x,e.y,e.z),s+=1,a.setXYZ(s,t.x,t.y,t.z),s+=1}return a.needsUpdate=!0,this}}(),Vr.prototype=Object.create(re.prototype),Vr.prototype.constructor=Vr,Vr.prototype.dispose=function(){var e=this.children[0],t=this.children[1];e.geometry.dispose(),e.material.dispose(),t.geometry.dispose(),t.material.dispose()},Vr.prototype.update=function(){var e=new l,t=new l,n=new l;return function(){e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),n.subVectors(t,e);var r=this.children[0],i=this.children[1];r.lookAt(n),r.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),i.lookAt(n),i.scale.z=n.length()}}(),Wr.prototype=Object.create(ht.prototype),Wr.prototype.constructor=Wr,Wr.prototype.update=function(){function e(e,a,o,s){if(r.set(a,o,s).unproject(i),void 0!==(e=n[e]))for(a=t.getAttribute("position"),o=0,s=e.length;o<s;o++)a.setXYZ(e[o],r.x,r.y,r.z)}var t,n,r=new l,i=new Ae;return function(){t=this.geometry,n=this.pointMap,i.projectionMatrix.copy(this.camera.projectionMatrix),e("c",0,0,-1),e("t",0,0,1),e("n1",-1,-1,-1),e("n2",1,-1,-1),e("n3",-1,1,-1),e("n4",1,1,-1),e("f1",-1,-1,1),e("f2",1,-1,1),e("f3",-1,1,1),e("f4",1,1,1),e("u1",.7,1.1,-1),e("u2",-.7,1.1,-1),e("u3",0,2,-1),e("cf1",-1,0,1),e("cf2",1,0,1),e("cf3",0,-1,1),e("cf4",0,1,1),e("cn1",-1,0,-1),e("cn2",1,0,-1),e("cn3",0,-1,-1),e("cn4",0,1,-1),t.getAttribute("position").needsUpdate=!0}}(),Xr.prototype=Object.create(ht.prototype),Xr.prototype.constructor=Xr,Xr.prototype.update=function(){var e=new Y;return function(t){if(t&&t.isBox3?e.copy(t):e.setFromObject(t),!e.isEmpty()){t=e.min;var n=e.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=t.x,i[4]=n.y,i[5]=n.z,i[6]=t.x,i[7]=t.y,i[8]=n.z,i[9]=n.x,i[10]=t.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=t.z,i[15]=t.x,i[16]=n.y,i[17]=t.z,i[18]=t.x,i[19]=t.y,i[20]=t.z,i[21]=n.x,i[22]=t.y,i[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),qr.prototype=Object.create(re.prototype),qr.prototype.constructor=qr,qr.prototype.setDirection=function(){var e,t=new l;return function(n){.99999<n.y?this.quaternion.set(0,0,0,1):-.99999>n.y?this.quaternion.set(1,0,0,0):(t.set(n.z,0,-n.x).normalize(),e=Math.acos(n.y),this.quaternion.setFromAxisAngle(t,e))}}(),qr.prototype.setLength=function(e,t,n){void 0===t&&(t=.2*e),void 0===n&&(n=.2*t),this.line.scale.set(1,Math.max(0,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()},qr.prototype.setColor=function(e){this.line.material.color.copy(e),this.cone.material.color.copy(e)},Yr.prototype=Object.create(ht.prototype),Yr.prototype.constructor=Yr;var zi=new l,Ui=new $r,Bi=new $r,ki=new $r;Zr.prototype=Object.create(Zn.prototype),Zr.prototype.constructor=Zr,Zr.prototype.getPoint=function(e){var t,n,r,i=this.points;if(2>(s=i.length)&&console.log("duh, you need at least 2 points"),e*=s-(this.closed?0:1),e-=a=Math.floor(e),this.closed?a+=0<a?0:(Math.floor(Math.abs(a)/i.length)+1)*i.length:0===e&&a===s-1&&(a=s-2,e=1),this.closed||0<a?t=i[(a-1)%s]:(zi.subVectors(i[0],i[1]).add(i[0]),t=zi),n=i[a%s],r=i[(a+1)%s],this.closed||a+2<s?i=i[(a+2)%s]:(zi.subVectors(i[s-1],i[s-2]).add(i[s-1]),i=zi),void 0===this.type||"centripetal"===this.type||"chordal"===this.type){var a,o="chordal"===this.type?.5:.25,s=Math.pow(t.distanceToSquared(n),o);1e-4>(a=Math.pow(n.distanceToSquared(r),o))&&(a=1),1e-4>s&&(s=a),1e-4>(o=Math.pow(r.distanceToSquared(i),o))&&(o=a),Ui.initNonuniformCatmullRom(t.x,n.x,r.x,i.x,s,a,o),Bi.initNonuniformCatmullRom(t.y,n.y,r.y,i.y,s,a,o),ki.initNonuniformCatmullRom(t.z,n.z,r.z,i.z,s,a,o)}else"catmullrom"===this.type&&(s=void 0!==this.tension?this.tension:.5,Ui.initCatmullRom(t.x,n.x,r.x,i.x,s),Bi.initCatmullRom(t.y,n.y,r.y,i.y,s),ki.initCatmullRom(t.z,n.z,r.z,i.z,s));return new l(Ui.calc(e),Bi.calc(e),ki.calc(e))},Jr.prototype=Object.create(Zn.prototype),Jr.prototype.constructor=Jr,Jr.prototype.getPoint=function(e){var t=this.v0,n=this.v1,r=this.v2,i=this.v3;return new l($n(e,t.x,n.x,r.x,i.x),$n(e,t.y,n.y,r.y,i.y),$n(e,t.z,n.z,r.z,i.z))},Qr.prototype=Object.create(Zn.prototype),Qr.prototype.constructor=Qr,Qr.prototype.getPoint=function(e){var t=this.v0,n=this.v1,r=this.v2;return new l(Yn(e,t.x,n.x,r.x),Yn(e,t.y,n.y,r.y),Yn(e,t.z,n.z,r.z))},Kr.prototype=Object.create(Zn.prototype),Kr.prototype.constructor=Kr,Kr.prototype.getPoint=function(e){if(1===e)return this.v2.clone();var t=new l;return t.subVectors(this.v2,this.v1),t.multiplyScalar(e),t.add(this.v1),t},ei.prototype=Object.create(Kn.prototype),ei.prototype.constructor=ei,Zn.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(Zn.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},ti.prototype=Object.create(Zr.prototype),ni.prototype=Object.create(Zr.prototype),ri.prototype=Object.create(Zr.prototype),Object.assign(ri.prototype,{initFromArray:function(e){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(e){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(e){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),Gr.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},Object.assign(H.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(Y.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}}),ie.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},li.random16=function(){return console.warn("THREE.Math.random16() has been deprecated. Use Math.random() instead."),Math.random()},Object.assign(Z.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(e){return console.warn("THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(e)},applyToBuffer:function(e,t,n){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(e,t,n){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(u.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){var e;return function(){return void 0===e&&(e=new l),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),e.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(e){return console.warn("THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(e)},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(e,t,n){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(e)},applyToVector3Array:function(e,t,n){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,n,r,i,a){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,r,n,i,a)}}),J.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},s.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},Object.assign(ee.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}),Object.assign(ir.prototype,{extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Bt(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Xt(this,e)}}),Object.assign(n.prototype,{fromAttribute:function(e,t,n){return console.error("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)}}),Object.assign(l.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,n){return console.error("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)}}),Object.assign(i.prototype,{fromAttribute:function(e,t,n){return console.error("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)}}),be.prototype.computeTangents=function(){console.warn("THREE.Geometry: .computeTangents() has been removed.")},Object.assign(re.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)}}),Object.defineProperties(re.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(at.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Ce.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(xn.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(le.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}}}),Object.assign(_e.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addDrawCall:function(e,t,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(_e.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(_r.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(W.prototype,{wrapAround:{get:function(){console.warn("THREE."+this.type+": .wrapAround has been removed.")},set:function(){console.warn("THREE."+this.type+": .wrapAround has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE."+this.type+": .wrapRGB has been removed."),new F}}}),Object.defineProperties(sn.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(X.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Object.assign(Qe.prototype,{supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")}}),Object.defineProperties(Qe.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace."),this.shadowMap.cullFace=e}}}),Object.defineProperties(K.prototype,{cullFace:{get:function(){return this.renderReverseSided?2:1},set:function(e){e=1!==e,console.warn("WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to "+e+"."),this.renderReverseSided=e}}}),Object.defineProperties(a.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),pr.prototype.load=function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this;return(new lr).load(e,(function(e){t.setBuffer(e)})),this},mr.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},e.WebGLRenderTargetCube=o,e.WebGLRenderTarget=a,e.WebGLRenderer=Qe,e.ShaderLib=xi,e.UniformsLib=yi,e.UniformsUtils=mi,e.ShaderChunk=vi,e.FogExp2=Ke,e.Fog=et,e.Scene=tt,e.LensFlare=nt,e.Sprite=it,e.LOD=at,e.SkinnedMesh=lt,e.Skeleton=ot,e.Bone=st,e.Mesh=we,e.LineSegments=ht,e.Line=ct,e.Points=pt,e.Group=ft,e.VideoTexture=mt,e.DataTexture=G,e.CompressedTexture=vt,e.CubeTexture=c,e.CanvasTexture=gt,e.DepthTexture=yt,e.Texture=r,e.CompressedTextureLoader=fn,e.DataTextureLoader=mn,e.CubeTextureLoader=gn,e.TextureLoader=yn,e.ObjectLoader=Xn,e.MaterialLoader=Hn,e.BufferGeometryLoader=jn,e.DefaultLoadingManager=Ci,e.LoadingManager=dn,e.JSONLoader=Wn,e.ImageLoader=vn,e.FontLoader=sr,e.FileLoader=pn,e.Loader=Vn,e.Cache=Ai,e.AudioLoader=lr,e.SpotLightShadow=wn,e.SpotLight=En,e.PointLight=Tn,e.RectAreaLight=ur,e.HemisphereLight=bn,e.DirectionalLightShadow=Mn,e.DirectionalLight=Sn,e.AmbientLight=An,e.LightShadow=_n,e.Light=xn,e.StereoCamera=cr,e.PerspectiveCamera=Ce,e.OrthographicCamera=Le,e.CubeCamera=hr,e.Camera=Ae,e.AudioListener=dr,e.PositionalAudio=fr,e.AudioContext=Ni,e.AudioAnalyser=mr,e.Audio=pr,e.VectorKeyframeTrack=Dn,e.StringKeyframeTrack=Un,e.QuaternionKeyframeTrack=Nn,e.NumberKeyframeTrack=zn,e.ColorKeyframeTrack=kn,e.BooleanKeyframeTrack=Bn,e.PropertyMixer=vr,e.PropertyBinding=gr,e.KeyframeTrack=Fn,e.AnimationUtils=Pi,e.AnimationObjectGroup=yr,e.AnimationMixer=br,e.AnimationClip=Gn,e.Uniform=_r,e.InstancedBufferGeometry=wr,e.BufferGeometry=_e,e.GeometryIdCount=function(){return wi++},e.Geometry=be,e.InterleavedBufferAttribute=Er,e.InstancedInterleavedBuffer=Mr,e.InterleavedBuffer=Tr,e.InstancedBufferAttribute=Sr,e.Face3=oe,e.Object3D=re,e.Raycaster=Ar,e.Layers=ne,e.EventDispatcher=t,e.Clock=Pr,e.QuaternionLinearInterpolant=On,e.LinearInterpolant=Pn,e.DiscreteInterpolant=Rn,e.CubicInterpolant=Ln,e.Interpolant=Cn,e.Triangle=ae,e.Math=li,e.Spherical=Rr,e.Cylindrical=Ir,e.Plane=J,e.Frustum=Q,e.Sphere=$,e.Ray=ee,e.Matrix4=u,e.Matrix3=Z,e.Box3=Y,e.Box2=H,e.Line3=ie,e.Euler=te,e.Vector4=i,e.Vector3=l,e.Vector2=n,e.Quaternion=s,e.Color=F,e.MorphBlendMesh=Dr,e.ImmediateRenderObject=Or,e.VertexNormalsHelper=Nr,e.SpotLightHelper=zr,e.SkeletonHelper=Ur,e.PointLightHelper=Br,e.RectAreaLightHelper=kr,e.HemisphereLightHelper=Fr,e.GridHelper=Gr,e.PolarGridHelper=Hr,e.FaceNormalsHelper=jr,e.DirectionalLightHelper=Vr,e.CameraHelper=Wr,e.BoxHelper=Xr,e.ArrowHelper=qr,e.AxisHelper=Yr,e.CatmullRomCurve3=Zr,e.CubicBezierCurve3=Jr,e.QuadraticBezierCurve3=Qr,e.LineCurve3=Kr,e.ArcCurve=ei,e.EllipseCurve=Kn,e.SplineCurve=er,e.CubicBezierCurve=tr,e.QuadraticBezierCurve=nr,e.LineCurve=Jn,e.Shape=ir,e.Path=rr,e.ShapePath=ar,e.Font=or,e.CurvePath=Qn,e.Curve=Zn,e.ShapeUtils=Ti,e.SceneUtils={createMultiMaterialObject:function(e,t){for(var n=new ft,r=0,i=t.length;r<i;r++)n.add(new we(e,t[r]));return n},detach:function(e,t,n){e.applyMatrix(t.matrixWorld),t.remove(e),n.add(e)},attach:function(e,t,n){var r=new u;r.getInverse(n.matrixWorld),e.applyMatrix(r),t.remove(e),n.add(e)}},e.WireframeGeometry=xt,e.ParametricGeometry=bt,e.ParametricBufferGeometry=_t,e.TetrahedronGeometry=Tt,e.TetrahedronBufferGeometry=Mt,e.OctahedronGeometry=St,e.OctahedronBufferGeometry=At,e.IcosahedronGeometry=Ct,e.IcosahedronBufferGeometry=Lt,e.DodecahedronGeometry=Pt,e.DodecahedronBufferGeometry=Rt,e.PolyhedronGeometry=wt,e.PolyhedronBufferGeometry=Et,e.TubeGeometry=It,e.TubeBufferGeometry=Dt,e.TorusKnotGeometry=Ot,e.TorusKnotBufferGeometry=Nt,e.TorusGeometry=zt,e.TorusBufferGeometry=Ut,e.TextGeometry=kt,e.SphereGeometry=Ft,e.SphereBufferGeometry=Gt,e.RingGeometry=Ht,e.RingBufferGeometry=jt,e.PlaneGeometry=Me,e.PlaneBufferGeometry=Se,e.LatheGeometry=Vt,e.LatheBufferGeometry=Wt,e.ShapeGeometry=Xt,e.ShapeBufferGeometry=qt,e.ExtrudeGeometry=Bt,e.EdgesGeometry=Yt,e.ConeGeometry=Jt,e.ConeBufferGeometry=Qt,e.CylinderGeometry=$t,e.CylinderBufferGeometry=Zt,e.CircleGeometry=Kt,e.CircleBufferGeometry=en,e.BoxGeometry=Ee,e.BoxBufferGeometry=Te,e.ShadowMaterial=tn,e.SpriteMaterial=rt,e.RawShaderMaterial=nn,e.ShaderMaterial=X,e.PointsMaterial=dt,e.MultiMaterial=rn,e.MeshPhysicalMaterial=on,e.MeshStandardMaterial=an,e.MeshPhongMaterial=sn,e.MeshToonMaterial=ln,e.MeshNormalMaterial=un,e.MeshLambertMaterial=cn,e.MeshDepthMaterial=q,e.MeshBasicMaterial=se,e.LineDashedMaterial=hn,e.LineBasicMaterial=ut,e.Material=W,e.Float64BufferAttribute=ge,e.Float32BufferAttribute=ve,e.Uint32BufferAttribute=me,e.Int32BufferAttribute=fe,e.Uint16BufferAttribute=pe,e.Int16BufferAttribute=de,e.Uint8ClampedBufferAttribute=he,e.Uint8BufferAttribute=ce,e.Int8BufferAttribute=ue,e.BufferAttribute=le,e.REVISION="84",e.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2},e.CullFaceNone=0,e.CullFaceBack=1,e.CullFaceFront=2,e.CullFaceFrontBack=3,e.FrontFaceDirectionCW=0,e.FrontFaceDirectionCCW=1,e.BasicShadowMap=0,e.PCFShadowMap=1,e.PCFSoftShadowMap=2,e.FrontSide=0,e.BackSide=1,e.DoubleSide=2,e.FlatShading=1,e.SmoothShading=2,e.NoColors=0,e.FaceColors=1,e.VertexColors=2,e.NoBlending=0,e.NormalBlending=1,e.AdditiveBlending=2,e.SubtractiveBlending=3,e.MultiplyBlending=4,e.CustomBlending=5,e.AddEquation=100,e.SubtractEquation=101,e.ReverseSubtractEquation=102,e.MinEquation=103,e.MaxEquation=104,e.ZeroFactor=200,e.OneFactor=201,e.SrcColorFactor=202,e.OneMinusSrcColorFactor=203,e.SrcAlphaFactor=204,e.OneMinusSrcAlphaFactor=205,e.DstAlphaFactor=206,e.OneMinusDstAlphaFactor=207,e.DstColorFactor=208,e.OneMinusDstColorFactor=209,e.SrcAlphaSaturateFactor=210,e.NeverDepth=0,e.AlwaysDepth=1,e.LessDepth=2,e.LessEqualDepth=3,e.EqualDepth=4,e.GreaterEqualDepth=5,e.GreaterDepth=6,e.NotEqualDepth=7,e.MultiplyOperation=0,e.MixOperation=1,e.AddOperation=2,e.NoToneMapping=0,e.LinearToneMapping=1,e.ReinhardToneMapping=2,e.Uncharted2ToneMapping=3,e.CineonToneMapping=4,e.UVMapping=300,e.CubeReflectionMapping=301,e.CubeRefractionMapping=302,e.EquirectangularReflectionMapping=303,e.EquirectangularRefractionMapping=304,e.SphericalReflectionMapping=305,e.CubeUVReflectionMapping=306,e.CubeUVRefractionMapping=307,e.RepeatWrapping=1e3,e.ClampToEdgeWrapping=1001,e.MirroredRepeatWrapping=1002,e.NearestFilter=1003,e.NearestMipMapNearestFilter=1004,e.NearestMipMapLinearFilter=1005,e.LinearFilter=1006,e.LinearMipMapNearestFilter=1007,e.LinearMipMapLinearFilter=1008,e.UnsignedByteType=1009,e.ByteType=1010,e.ShortType=1011,e.UnsignedShortType=1012,e.IntType=1013,e.UnsignedIntType=1014,e.FloatType=1015,e.HalfFloatType=1016,e.UnsignedShort4444Type=1017,e.UnsignedShort5551Type=1018,e.UnsignedShort565Type=1019,e.UnsignedInt248Type=1020,e.AlphaFormat=1021,e.RGBFormat=1022,e.RGBAFormat=1023,e.LuminanceFormat=1024,e.LuminanceAlphaFormat=1025,e.RGBEFormat=1023,e.DepthFormat=1026,e.DepthStencilFormat=1027,e.RGB_S3TC_DXT1_Format=2001,e.RGBA_S3TC_DXT1_Format=2002,e.RGBA_S3TC_DXT3_Format=2003,e.RGBA_S3TC_DXT5_Format=2004,e.RGB_PVRTC_4BPPV1_Format=2100,e.RGB_PVRTC_2BPPV1_Format=2101,e.RGBA_PVRTC_4BPPV1_Format=2102,e.RGBA_PVRTC_2BPPV1_Format=2103,e.RGB_ETC1_Format=2151,e.LoopOnce=2200,e.LoopRepeat=2201,e.LoopPingPong=2202,e.InterpolateDiscrete=2300,e.InterpolateLinear=2301,e.InterpolateSmooth=2302,e.ZeroCurvatureEnding=2400,e.ZeroSlopeEnding=2401,e.WrapAroundEnding=2402,e.TrianglesDrawMode=0,e.TriangleStripDrawMode=1,e.TriangleFanDrawMode=2,e.LinearEncoding=3e3,e.sRGBEncoding=3001,e.GammaEncoding=3007,e.RGBEEncoding=3002,e.LogLuvEncoding=3003,e.RGBM7Encoding=3004,e.RGBM16Encoding=3005,e.RGBDEncoding=3006,e.BasicDepthPacking=3200,e.RGBADepthPacking=3201,e.CubeGeometry=Ee,e.Face4=function(e,t,n,r,i,a,o){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new oe(e,t,n,i,a,o)},e.LineStrip=0,e.LinePieces=1,e.MeshFaceMaterial=function(e){return console.warn("THREE.MeshFaceMaterial has been renamed to THREE.MultiMaterial."),new rn(e)},e.PointCloud=function(e,t){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new pt(e,t)},e.Particle=function(e){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new it(e)},e.ParticleSystem=function(e,t){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new pt(e,t)},e.PointCloudMaterial=function(e){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new dt(e)},e.ParticleBasicMaterial=function(e){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new dt(e)},e.ParticleSystemMaterial=function(e){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new dt(e)},e.Vertex=function(e,t,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new l(e,t,n)},e.DynamicBufferAttribute=function(e,t){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."),new le(e,t).setDynamic(!0)},e.Int8Attribute=function(e,t){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new ue(e,t)},e.Uint8Attribute=function(e,t){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new ce(e,t)},e.Uint8ClampedAttribute=function(e,t){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new he(e,t)},e.Int16Attribute=function(e,t){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new de(e,t)},e.Uint16Attribute=function(e,t){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new pe(e,t)},e.Int32Attribute=function(e,t){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new fe(e,t)},e.Uint32Attribute=function(e,t){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new me(e,t)},e.Float32Attribute=function(e,t){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new ve(e,t)},e.Float64Attribute=function(e,t){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new ge(e,t)},e.ClosedSplineCurve3=ti,e.SplineCurve3=ni,e.Spline=ri,e.BoundingBoxHelper=function(e,t){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new Xr(e,t)},e.EdgesHelper=function(e,t){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new ht(new Yt(e.geometry),new ut({color:void 0!==t?t:16777215}))},e.WireframeHelper=function(e,t){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new ht(new xt(e.geometry),new ut({color:void 0!==t?t:16777215}))},e.XHRLoader=function(e){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new pn(e)},e.BinaryTextureLoader=function(e){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new mn(e)},e.GeometryUtils={merge:function(e,t,n){var r;console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),t.isMesh&&(t.matrixAutoUpdate&&t.updateMatrix(),r=t.matrix,t=t.geometry),e.merge(t,r,n)},center:function(e){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),e.center()}},e.ImageUtils={crossOrigin:void 0,loadTexture:function(e,t,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new yn;return i.setCrossOrigin(this.crossOrigin),e=i.load(e,n,void 0,r),t&&(e.mapping=t),e},loadTextureCube:function(e,t,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new gn;return i.setCrossOrigin(this.crossOrigin),e=i.load(e,n,void 0,r),t&&(e.mapping=t),e},loadCompressedTexture:function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")}},e.Projector=function(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(e,t){console.warn("THREE.Projector: .projectVector() is now vector.project()."),e.project(t)},this.unprojectVector=function(e,t){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),e.unproject(t)},this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}},e.CanvasRenderer=function(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js"),this.domElement=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}},Object.defineProperty(e,"__esModule",{value:!0})})),function(){var e="Expected a function",t="__lodash_placeholder__",n=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],r="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",s="[object Error]",l="[object Function]",u="[object GeneratorFunction]",c="[object Map]",h="[object Number]",d="[object Object]",p="[object RegExp]",f="[object Set]",m="[object String]",v="[object Symbol]",g="[object WeakMap]",y="[object ArrayBuffer]",x="[object DataView]",b="[object Float32Array]",_="[object Float64Array]",w="[object Int8Array]",E="[object Int16Array]",T="[object Int32Array]",M="[object Uint8Array]",S="[object Uint16Array]",A="[object Uint32Array]",C=/\b__p \+= '';/g,L=/\b(__p \+=) '' \+/g,P=/(__e\(.*?\)|\b__t\)) \+\n'';/g,R=/&(?:amp|lt|gt|quot|#39);/g,I=/[&<>"']/g,D=RegExp(R.source),O=RegExp(I.source),N=/<%-([\s\S]+?)%>/g,z=/<%([\s\S]+?)%>/g,U=/<%=([\s\S]+?)%>/g,B=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,k=/^\w*$/,F=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,G=/[\\^$.*+?()[\]{}|]/g,H=RegExp(G.source),j=/^\s+|\s+$/g,V=/^\s+/,W=/\s+$/,X=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,q=/\{\n\/\* \[wrapped with (.+)\] \*/,Y=/,? & /,$=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Z=/\\(\\)?/g,J=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Q=/\w*$/,K=/^[-+]0x[0-9a-f]+$/i,ee=/^0b[01]+$/i,te=/^\[object .+?Constructor\]$/,ne=/^0o[0-7]+$/i,re=/^(?:0|[1-9]\d*)$/,ie=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ae=/($^)/,oe=/['\n\r\u2028\u2029\\]/g,se="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",le="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ue="[\\ud800-\\udfff]",ce="["+le+"]",he="["+se+"]",de="\\d+",pe="[\\u2700-\\u27bf]",fe="[a-z\\xdf-\\xf6\\xf8-\\xff]",me="[^\\ud800-\\udfff"+le+de+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",ve="\\ud83c[\\udffb-\\udfff]",ge="[^\\ud800-\\udfff]",ye="(?:\\ud83c[\\udde6-\\uddff]){2}",xe="[\\ud800-\\udbff][\\udc00-\\udfff]",be="[A-Z\\xc0-\\xd6\\xd8-\\xde]",_e="(?:"+fe+"|"+me+")",we="(?:"+be+"|"+me+")",Ee="(?:"+he+"|"+ve+")"+"?",Te="[\\ufe0e\\ufe0f]?"+Ee+("(?:\\u200d(?:"+[ge,ye,xe].join("|")+")[\\ufe0e\\ufe0f]?"+Ee+")*"),Me="(?:"+[pe,ye,xe].join("|")+")"+Te,Se="(?:"+[ge+he+"?",he,ye,xe,ue].join("|")+")",Ae=RegExp("['â]","g"),Ce=RegExp(he,"g"),Le=RegExp(ve+"(?="+ve+")|"+Se+Te,"g"),Pe=RegExp([be+"?"+fe+"+(?:['â](?:d|ll|m|re|s|t|ve))?(?="+[ce,be,"$"].join("|")+")",we+"+(?:['â](?:D|LL|M|RE|S|T|VE))?(?="+[ce,be+_e,"$"].join("|")+")",be+"?"+_e+"+(?:['â](?:d|ll|m|re|s|t|ve))?",be+"+(?:['â](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",de,Me].join("|"),"g"),Re=RegExp("[\\u200d\\ud800-\\udfff"+se+"\\ufe0e\\ufe0f]"),Ie=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,De=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Oe=-1,Ne={};Ne[b]=Ne[_]=Ne[w]=Ne[E]=Ne[T]=Ne[M]=Ne["[object Uint8ClampedArray]"]=Ne[S]=Ne[A]=!0,Ne[r]=Ne[i]=Ne[y]=Ne[a]=Ne[x]=Ne[o]=Ne[s]=Ne[l]=Ne[c]=Ne[h]=Ne[d]=Ne[p]=Ne[f]=Ne[m]=Ne[g]=!1;var ze={};ze[r]=ze[i]=ze[y]=ze[x]=ze[a]=ze[o]=ze[b]=ze[_]=ze[w]=ze[E]=ze[T]=ze[c]=ze[h]=ze[d]=ze[p]=ze[f]=ze[m]=ze[v]=ze[M]=ze["[object Uint8ClampedArray]"]=ze[S]=ze[A]=!0,ze[s]=ze[l]=ze[g]=!1;var Ue={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Be=parseFloat,ke=parseInt,Fe="object"==typeof global&&global&&global.Object===Object&&global,Ge="object"==typeof self&&self&&self.Object===Object&&self,He=Fe||Ge||Function("return this")(),je="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ve=je&&"object"==typeof module&&module&&!module.nodeType&&module,We=Ve&&Ve.exports===je,Xe=We&&Fe.process,qe=function(){try{var e=Ve&&Ve.require&&Ve.require("util").types;return e||Xe&&Xe.binding&&Xe.binding("util")}catch(e){}}(),Ye=qe&&qe.isArrayBuffer,$e=qe&&qe.isDate,Ze=qe&&qe.isMap,Je=qe&&qe.isRegExp,Qe=qe&&qe.isSet,Ke=qe&&qe.isTypedArray;function et(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function tt(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}function nt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function rt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function it(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function at(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}function ot(e,t){return!!(null==e?0:e.length)&&vt(e,t,0)>-1}function st(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function lt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function ut(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function ct(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function ht(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function dt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var pt=bt("length");function ft(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function mt(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function vt(e,t,n){return t==t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):mt(e,yt,n)}function gt(e,t,n,r){for(var i=n-1,a=e.length;++i<a;)if(r(e[i],t))return i;return-1}function yt(e){return e!=e}function xt(e,t){var n=null==e?0:e.length;return n?Et(e,t)/n:NaN}function bt(e){return function(t){return null==t?void 0:t[e]}}function _t(e){return function(t){return null==e?void 0:e[t]}}function wt(e,t,n,r,i){return i(e,(function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)})),n}function Et(e,t){for(var n,r=-1,i=e.length;++r<i;){var a=t(e[r]);void 0!==a&&(n=void 0===n?a:n+a)}return n}function Tt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Mt(e){return function(t){return e(t)}}function St(e,t){return lt(t,(function(t){return e[t]}))}function At(e,t){return e.has(t)}function Ct(e,t){for(var n=-1,r=e.length;++n<r&&vt(t,e[n],0)>-1;);return n}function Lt(e,t){for(var n=e.length;n--&&vt(t,e[n],0)>-1;);return n}function Pt(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var Rt=_t({"Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã":"A","Ã ":"a","Ã¡":"a","Ã¢":"a","Ã£":"a","Ã¤":"a","Ã¥":"a","Ã":"C","Ã§":"c","Ã":"D","Ã°":"d","Ã":"E","Ã":"E","Ã":"E","Ã":"E","Ã¨":"e","Ã©":"e","Ãª":"e","Ã«":"e","Ã":"I","Ã":"I","Ã":"I","Ã":"I","Ã¬":"i","Ã­":"i","Ã®":"i","Ã¯":"i","Ã":"N","Ã±":"n","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã":"O","Ã²":"o","Ã³":"o","Ã´":"o","Ãµ":"o","Ã¶":"o","Ã¸":"o","Ã":"U","Ã":"U","Ã":"U","Ã":"U","Ã¹":"u","Ãº":"u","Ã»":"u","Ã¼":"u","Ã":"Y","Ã½":"y","Ã¿":"y","Ã":"Ae","Ã¦":"ae","Ã":"Th","Ã¾":"th","Ã":"ss","Ä":"A","Ä":"A","Ä":"A","Ä":"a","Ä":"a","Ä":"a","Ä":"C","Ä":"C","Ä":"C","Ä":"C","Ä":"c","Ä":"c","Ä":"c","Ä":"c","Ä":"D","Ä":"D","Ä":"d","Ä":"d","Ä":"E","Ä":"E","Ä":"E","Ä":"E","Ä":"E","Ä":"e","Ä":"e","Ä":"e","Ä":"e","Ä":"e","Ä":"G","Ä":"G","Ä ":"G","Ä¢":"G","Ä":"g","Ä":"g","Ä¡":"g","Ä£":"g","Ä¤":"H","Ä¦":"H","Ä¥":"h","Ä§":"h","Ä¨":"I","Äª":"I","Ä¬":"I","Ä®":"I","Ä°":"I","Ä©":"i","Ä«":"i","Ä­":"i","Ä¯":"i","Ä±":"i","Ä´":"J","Äµ":"j","Ä¶":"K","Ä·":"k","Ä¸":"k","Ä¹":"L","Ä»":"L","Ä½":"L","Ä¿":"L","Å":"L","Äº":"l","Ä¼":"l","Ä¾":"l","Å":"l","Å":"l","Å":"N","Å":"N","Å":"N","Å":"N","Å":"n","Å":"n","Å":"n","Å":"n","Å":"O","Å":"O","Å":"O","Å":"o","Å":"o","Å":"o","Å":"R","Å":"R","Å":"R","Å":"r","Å":"r","Å":"r","Å":"S","Å":"S","Å":"S","Å ":"S","Å":"s","Å":"s","Å":"s","Å¡":"s","Å¢":"T","Å¤":"T","Å¦":"T","Å£":"t","Å¥":"t","Å§":"t","Å¨":"U","Åª":"U","Å¬":"U","Å®":"U","Å°":"U","Å²":"U","Å©":"u","Å«":"u","Å­":"u","Å¯":"u","Å±":"u","Å³":"u","Å´":"W","Åµ":"w","Å¶":"Y","Å·":"y","Å¸":"Y","Å¹":"Z","Å»":"Z","Å½":"Z","Åº":"z","Å¼":"z","Å¾":"z","Ä²":"IJ","Ä³":"ij","Å":"Oe","Å":"oe","Å":"'n","Å¿":"s"}),It=_t({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Dt(e){return"\\"+Ue[e]}function Ot(e){return Re.test(e)}function Nt(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function zt(e,t){return function(n){return e(t(n))}}function Ut(e,n){for(var r=-1,i=e.length,a=0,o=[];++r<i;){var s=e[r];s!==n&&s!==t||(e[r]=t,o[a++]=r)}return o}function Bt(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function kt(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function Ft(e){return Ot(e)?function(e){var t=Le.lastIndex=0;for(;Le.test(e);)++t;return t}(e):pt(e)}function Gt(e){return Ot(e)?function(e){return e.match(Le)||[]}(e):function(e){return e.split("")}(e)}var Ht=_t({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var jt=function se(le){var ue,ce=(le=null==le?He:jt.defaults(He.Object(),le,jt.pick(He,De))).Array,he=le.Date,de=le.Error,pe=le.Function,fe=le.Math,me=le.Object,ve=le.RegExp,ge=le.String,ye=le.TypeError,xe=ce.prototype,be=pe.prototype,_e=me.prototype,we=le["__core-js_shared__"],Ee=be.toString,Te=_e.hasOwnProperty,Me=0,Se=(ue=/[^.]+$/.exec(we&&we.keys&&we.keys.IE_PROTO||""))?"Symbol(src)_1."+ue:"",Le=_e.toString,Re=Ee.call(me),Ue=He._,Fe=ve("^"+Ee.call(Te).replace(G,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ge=We?le.Buffer:void 0,je=le.Symbol,Ve=le.Uint8Array,Xe=Ge?Ge.allocUnsafe:void 0,qe=zt(me.getPrototypeOf,me),pt=me.create,_t=_e.propertyIsEnumerable,Vt=xe.splice,Wt=je?je.isConcatSpreadable:void 0,Xt=je?je.iterator:void 0,qt=je?je.toStringTag:void 0,Yt=function(){try{var e=Ki(me,"defineProperty");return e({},"",{}),e}catch(e){}}(),$t=le.clearTimeout!==He.clearTimeout&&le.clearTimeout,Zt=he&&he.now!==He.Date.now&&he.now,Jt=le.setTimeout!==He.setTimeout&&le.setTimeout,Qt=fe.ceil,Kt=fe.floor,en=me.getOwnPropertySymbols,tn=Ge?Ge.isBuffer:void 0,nn=le.isFinite,rn=xe.join,an=zt(me.keys,me),on=fe.max,sn=fe.min,ln=he.now,un=le.parseInt,cn=fe.random,hn=xe.reverse,dn=Ki(le,"DataView"),pn=Ki(le,"Map"),fn=Ki(le,"Promise"),mn=Ki(le,"Set"),vn=Ki(le,"WeakMap"),gn=Ki(me,"create"),yn=vn&&new vn,xn={},bn=Sa(dn),_n=Sa(pn),wn=Sa(fn),En=Sa(mn),Tn=Sa(vn),Mn=je?je.prototype:void 0,Sn=Mn?Mn.valueOf:void 0,An=Mn?Mn.toString:void 0;function Cn(e){if(Vo(e)&&!Do(e)&&!(e instanceof In)){if(e instanceof Rn)return e;if(Te.call(e,"__wrapped__"))return Aa(e)}return new Rn(e)}var Ln=function(){function e(){}return function(t){if(!jo(t))return{};if(pt)return pt(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function Pn(){}function Rn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function In(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Dn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function On(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Nn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function zn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Nn;++t<n;)this.add(e[t])}function Un(e){var t=this.__data__=new On(e);this.size=t.size}function Bn(e,t){var n=Do(e),r=!n&&Io(e),i=!n&&!r&&Uo(e),a=!n&&!r&&!i&&Qo(e),o=n||r||i||a,s=o?Tt(e.length,ge):[],l=s.length;for(var u in e)!t&&!Te.call(e,u)||o&&("length"==u||i&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||oa(u,l))||s.push(u);return s}function kn(e){var t=e.length;return t?e[zr(0,t-1)]:void 0}function Fn(e,t){return Ea(gi(e),$n(t,0,e.length))}function Gn(e){return Ea(gi(e))}function Hn(e,t,n){(void 0!==n&&!Lo(e[t],n)||void 0===n&&!(t in e))&&qn(e,t,n)}function jn(e,t,n){var r=e[t];Te.call(e,t)&&Lo(r,n)&&(void 0!==n||t in e)||qn(e,t,n)}function Vn(e,t){for(var n=e.length;n--;)if(Lo(e[n][0],t))return n;return-1}function Wn(e,t,n,r){return er(e,(function(e,i,a){t(r,e,n(e),a)})),r}function Xn(e,t){return e&&yi(t,bs(t),e)}function qn(e,t,n){"__proto__"==t&&Yt?Yt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Yn(e,t){for(var n=-1,r=t.length,i=ce(r),a=null==e;++n<r;)i[n]=a?void 0:ms(e,t[n]);return i}function $n(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}function Zn(e,t,n,i,s,g){var C,L=1&t,P=2&t,R=4&t;if(n&&(C=s?n(e,i,s,g):n(e)),void 0!==C)return C;if(!jo(e))return e;var I=Do(e);if(I){if(C=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Te.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!L)return gi(e,C)}else{var D=na(e),O=D==l||D==u;if(Uo(e))return hi(e,L);if(D==d||D==r||O&&!s){if(C=P||O?{}:ia(e),!L)return P?function(e,t){return yi(e,ta(e),t)}(e,function(e,t){return e&&yi(t,_s(t),e)}(C,e)):function(e,t){return yi(e,ea(e),t)}(e,Xn(C,e))}else{if(!ze[D])return s?e:{};C=function(e,t,n){var r=e.constructor;switch(t){case y:return di(e);case a:case o:return new r(+e);case x:return function(e,t){var n=t?di(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case b:case _:case w:case E:case T:case M:case"[object Uint8ClampedArray]":case S:case A:return pi(e,n);case c:return new r;case h:case m:return new r(e);case p:return function(e){var t=new e.constructor(e.source,Q.exec(e));return t.lastIndex=e.lastIndex,t}(e);case f:return new r;case v:return i=e,Sn?me(Sn.call(i)):{}}var i}(e,D,L)}}g||(g=new Un);var N=g.get(e);if(N)return N;g.set(e,C),$o(e)?e.forEach((function(r){C.add(Zn(r,t,n,r,e,g))})):Wo(e)&&e.forEach((function(r,i){C.set(i,Zn(r,t,n,i,e,g))}));var z=I?void 0:(R?P?Xi:Wi:P?_s:bs)(e);return nt(z||e,(function(r,i){z&&(r=e[i=r]),jn(C,i,Zn(r,t,n,i,e,g))})),C}function Jn(e,t,n){var r=n.length;if(null==e)return!r;for(e=me(e);r--;){var i=n[r],a=t[i],o=e[i];if(void 0===o&&!(i in e)||!a(o))return!1}return!0}function Qn(t,n,r){if("function"!=typeof t)throw new ye(e);return xa((function(){t.apply(void 0,r)}),n)}function Kn(e,t,n,r){var i=-1,a=ot,o=!0,s=e.length,l=[],u=t.length;if(!s)return l;n&&(t=lt(t,Mt(n))),r?(a=st,o=!1):t.length>=200&&(a=At,o=!1,t=new zn(t));e:for(;++i<s;){var c=e[i],h=null==n?c:n(c);if(c=r||0!==c?c:0,o&&h==h){for(var d=u;d--;)if(t[d]===h)continue e;l.push(c)}else a(t,h,r)||l.push(c)}return l}Cn.templateSettings={escape:N,evaluate:z,interpolate:U,variable:"",imports:{_:Cn}},Cn.prototype=Pn.prototype,Cn.prototype.constructor=Cn,Rn.prototype=Ln(Pn.prototype),Rn.prototype.constructor=Rn,In.prototype=Ln(Pn.prototype),In.prototype.constructor=In,Dn.prototype.clear=function(){this.__data__=gn?gn(null):{},this.size=0},Dn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Dn.prototype.get=function(e){var t=this.__data__;if(gn){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Te.call(t,e)?t[e]:void 0},Dn.prototype.has=function(e){var t=this.__data__;return gn?void 0!==t[e]:Te.call(t,e)},Dn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=gn&&void 0===t?"__lodash_hash_undefined__":t,this},On.prototype.clear=function(){this.__data__=[],this.size=0},On.prototype.delete=function(e){var t=this.__data__,n=Vn(t,e);return!(n<0)&&(n==t.length-1?t.pop():Vt.call(t,n,1),--this.size,!0)},On.prototype.get=function(e){var t=this.__data__,n=Vn(t,e);return n<0?void 0:t[n][1]},On.prototype.has=function(e){return Vn(this.__data__,e)>-1},On.prototype.set=function(e,t){var n=this.__data__,r=Vn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Nn.prototype.clear=function(){this.size=0,this.__data__={hash:new Dn,map:new(pn||On),string:new Dn}},Nn.prototype.delete=function(e){var t=Ji(this,e).delete(e);return this.size-=t?1:0,t},Nn.prototype.get=function(e){return Ji(this,e).get(e)},Nn.prototype.has=function(e){return Ji(this,e).has(e)},Nn.prototype.set=function(e,t){var n=Ji(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},zn.prototype.add=zn.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},zn.prototype.has=function(e){return this.__data__.has(e)},Un.prototype.clear=function(){this.__data__=new On,this.size=0},Un.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Un.prototype.get=function(e){return this.__data__.get(e)},Un.prototype.has=function(e){return this.__data__.has(e)},Un.prototype.set=function(e,t){var n=this.__data__;if(n instanceof On){var r=n.__data__;if(!pn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Nn(r)}return n.set(e,t),this.size=n.size,this};var er=_i(lr),tr=_i(ur,!0);function nr(e,t){var n=!0;return er(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function rr(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],o=t(a);if(null!=o&&(void 0===s?o==o&&!Jo(o):n(o,s)))var s=o,l=a}return l}function ir(e,t){var n=[];return er(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function ar(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=aa),i||(i=[]);++a<o;){var s=e[a];t>0&&n(s)?t>1?ar(s,t-1,n,r,i):ut(i,s):r||(i[i.length]=s)}return i}var or=wi(),sr=wi(!0);function lr(e,t){return e&&or(e,t,bs)}function ur(e,t){return e&&sr(e,t,bs)}function cr(e,t){return at(t,(function(t){return Fo(e[t])}))}function hr(e,t){for(var n=0,r=(t=si(t,e)).length;null!=e&&n<r;)e=e[Ma(t[n++])];return n&&n==r?e:void 0}function dr(e,t,n){var r=t(e);return Do(e)?r:ut(r,n(e))}function pr(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":qt&&qt in me(e)?function(e){var t=Te.call(e,qt),n=e[qt];try{e[qt]=void 0;var r=!0}catch(e){}var i=Le.call(e);r&&(t?e[qt]=n:delete e[qt]);return i}(e):function(e){return Le.call(e)}(e)}function fr(e,t){return e>t}function mr(e,t){return null!=e&&Te.call(e,t)}function vr(e,t){return null!=e&&t in me(e)}function gr(e,t,n){for(var r=n?st:ot,i=e[0].length,a=e.length,o=a,s=ce(a),l=1/0,u=[];o--;){var c=e[o];o&&t&&(c=lt(c,Mt(t))),l=sn(c.length,l),s[o]=!n&&(t||i>=120&&c.length>=120)?new zn(o&&c):void 0}c=e[0];var h=-1,d=s[0];e:for(;++h<i&&u.length<l;){var p=c[h],f=t?t(p):p;if(p=n||0!==p?p:0,!(d?At(d,f):r(u,f,n))){for(o=a;--o;){var m=s[o];if(!(m?At(m,f):r(e[o],f,n)))continue e}d&&d.push(f),u.push(p)}}return u}function yr(e,t,n){var r=null==(e=ma(e,t=si(t,e)))?e:e[Ma(Ba(t))];return null==r?void 0:et(r,e,n)}function xr(e){return Vo(e)&&pr(e)==r}function br(e,t,n,l,u){return e===t||(null==e||null==t||!Vo(e)&&!Vo(t)?e!=e&&t!=t:function(e,t,n,l,u,g){var b=Do(e),_=Do(t),w=b?i:na(e),E=_?i:na(t),T=(w=w==r?d:w)==d,M=(E=E==r?d:E)==d,S=w==E;if(S&&Uo(e)){if(!Uo(t))return!1;b=!0,T=!1}if(S&&!T)return g||(g=new Un),b||Qo(e)?ji(e,t,n,l,u,g):function(e,t,n,r,i,l,u){switch(n){case x:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case y:return!(e.byteLength!=t.byteLength||!l(new Ve(e),new Ve(t)));case a:case o:case h:return Lo(+e,+t);case s:return e.name==t.name&&e.message==t.message;case p:case m:return e==t+"";case c:var d=Nt;case f:var g=1&r;if(d||(d=Bt),e.size!=t.size&&!g)return!1;var b=u.get(e);if(b)return b==t;r|=2,u.set(e,t);var _=ji(d(e),d(t),r,i,l,u);return u.delete(e),_;case v:if(Sn)return Sn.call(e)==Sn.call(t)}return!1}(e,t,w,n,l,u,g);if(!(1&n)){var A=T&&Te.call(e,"__wrapped__"),C=M&&Te.call(t,"__wrapped__");if(A||C){var L=A?e.value():e,P=C?t.value():t;return g||(g=new Un),u(L,P,n,l,g)}}if(!S)return!1;return g||(g=new Un),function(e,t,n,r,i,a){var o=1&n,s=Wi(e),l=s.length,u=Wi(t).length;if(l!=u&&!o)return!1;var c=l;for(;c--;){var h=s[c];if(!(o?h in t:Te.call(t,h)))return!1}var d=a.get(e);if(d&&a.get(t))return d==t;var p=!0;a.set(e,t),a.set(t,e);var f=o;for(;++c<l;){h=s[c];var m=e[h],v=t[h];if(r)var g=o?r(v,m,h,t,e,a):r(m,v,h,e,t,a);if(!(void 0===g?m===v||i(m,v,n,r,a):g)){p=!1;break}f||(f="constructor"==h)}if(p&&!f){var y=e.constructor,x=t.constructor;y==x||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof x&&x instanceof x||(p=!1)}return a.delete(e),a.delete(t),p}(e,t,n,l,u,g)}(e,t,n,l,br,u))}function _r(e,t,n,r){var i=n.length,a=i,o=!r;if(null==e)return!a;for(e=me(e);i--;){var s=n[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){var l=(s=n[i])[0],u=e[l],c=s[1];if(o&&s[2]){if(void 0===u&&!(l in e))return!1}else{var h=new Un;if(r)var d=r(u,c,l,e,t,h);if(!(void 0===d?br(c,u,3,r,h):d))return!1}}return!0}function wr(e){return!(!jo(e)||(t=e,Se&&Se in t))&&(Fo(e)?Fe:te).test(Sa(e));var t}function Er(e){return"function"==typeof e?e:null==e?Xs:"object"==typeof e?Do(e)?Lr(e[0],e[1]):Cr(e):tl(e)}function Tr(e){if(!ha(e))return an(e);var t=[];for(var n in me(e))Te.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Mr(e){if(!jo(e))return function(e){var t=[];if(null!=e)for(var n in me(e))t.push(n);return t}(e);var t=ha(e),n=[];for(var r in e)("constructor"!=r||!t&&Te.call(e,r))&&n.push(r);return n}function Sr(e,t){return e<t}function Ar(e,t){var n=-1,r=No(e)?ce(e.length):[];return er(e,(function(e,i,a){r[++n]=t(e,i,a)})),r}function Cr(e){var t=Qi(e);return 1==t.length&&t[0][2]?pa(t[0][0],t[0][1]):function(n){return n===e||_r(n,e,t)}}function Lr(e,t){return la(e)&&da(t)?pa(Ma(e),t):function(n){var r=ms(n,e);return void 0===r&&r===t?vs(n,e):br(t,r,3)}}function Pr(e,t,n,r,i){e!==t&&or(t,(function(a,o){if(i||(i=new Un),jo(a))!function(e,t,n,r,i,a,o){var s=ga(e,n),l=ga(t,n),u=o.get(l);if(u)return void Hn(e,n,u);var c=a?a(s,l,n+"",e,t,o):void 0,h=void 0===c;if(h){var d=Do(l),p=!d&&Uo(l),f=!d&&!p&&Qo(l);c=l,d||p||f?Do(s)?c=s:zo(s)?c=gi(s):p?(h=!1,c=hi(l,!0)):f?(h=!1,c=pi(l,!0)):c=[]:qo(l)||Io(l)?(c=s,Io(s)?c=os(s):jo(s)&&!Fo(s)||(c=ia(l))):h=!1}h&&(o.set(l,c),i(c,l,r,a,o),o.delete(l));Hn(e,n,c)}(e,t,o,n,Pr,r,i);else{var s=r?r(ga(e,o),a,o+"",e,t,i):void 0;void 0===s&&(s=a),Hn(e,o,s)}}),_s)}function Rr(e,t){var n=e.length;if(n)return oa(t+=t<0?n:0,n)?e[t]:void 0}function Ir(e,t,n){var r=-1;return t=lt(t.length?t:[Xs],Mt(Zi())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Ar(e,(function(e,n,i){return{criteria:lt(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,a=t.criteria,o=i.length,s=n.length;for(;++r<o;){var l=fi(i[r],a[r]);if(l){if(r>=s)return l;var u=n[r];return l*("desc"==u?-1:1)}}return e.index-t.index}(e,t,n)}))}function Dr(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],s=hr(e,o);n(s,o)&&Gr(a,si(o,e),s)}return a}function Or(e,t,n,r){var i=r?gt:vt,a=-1,o=t.length,s=e;for(e===t&&(t=gi(t)),n&&(s=lt(e,Mt(n)));++a<o;)for(var l=0,u=t[a],c=n?n(u):u;(l=i(s,c,l,r))>-1;)s!==e&&Vt.call(s,l,1),Vt.call(e,l,1);return e}function Nr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==a){var a=i;oa(i)?Vt.call(e,i,1):Kr(e,i)}}return e}function zr(e,t){return e+Kt(cn()*(t-e+1))}function Ur(e,t){var n="";if(!e||t<1||t>9007199254740991)return n;do{t%2&&(n+=e),(t=Kt(t/2))&&(e+=e)}while(t);return n}function Br(e,t){return ba(fa(e,t,Xs),e+"")}function kr(e){return kn(Ls(e))}function Fr(e,t){var n=Ls(e);return Ea(n,$n(t,0,n.length))}function Gr(e,t,n,r){if(!jo(e))return e;for(var i=-1,a=(t=si(t,e)).length,o=a-1,s=e;null!=s&&++i<a;){var l=Ma(t[i]),u=n;if(i!=o){var c=s[l];void 0===(u=r?r(c,l,s):void 0)&&(u=jo(c)?c:oa(t[i+1])?[]:{})}jn(s,l,u),s=s[l]}return e}var Hr=yn?function(e,t){return yn.set(e,t),e}:Xs,jr=Yt?function(e,t){return Yt(e,"toString",{configurable:!0,enumerable:!1,value:js(t),writable:!0})}:Xs;function Vr(e){return Ea(Ls(e))}function Wr(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=ce(i);++r<i;)a[r]=e[r+t];return a}function Xr(e,t){var n;return er(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function qr(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var a=r+i>>>1,o=e[a];null!==o&&!Jo(o)&&(n?o<=t:o<t)?r=a+1:i=a}return i}return Yr(e,t,Xs,n)}function Yr(e,t,n,r){t=n(t);for(var i=0,a=null==e?0:e.length,o=t!=t,s=null===t,l=Jo(t),u=void 0===t;i<a;){var c=Kt((i+a)/2),h=n(e[c]),d=void 0!==h,p=null===h,f=h==h,m=Jo(h);if(o)var v=r||f;else v=u?f&&(r||d):s?f&&d&&(r||!p):l?f&&d&&!p&&(r||!m):!p&&!m&&(r?h<=t:h<t);v?i=c+1:a=c}return sn(a,4294967294)}function $r(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n],s=t?t(o):o;if(!n||!Lo(s,l)){var l=s;a[i++]=0===o?0:o}}return a}function Zr(e){return"number"==typeof e?e:Jo(e)?NaN:+e}function Jr(e){if("string"==typeof e)return e;if(Do(e))return lt(e,Jr)+"";if(Jo(e))return An?An.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Qr(e,t,n){var r=-1,i=ot,a=e.length,o=!0,s=[],l=s;if(n)o=!1,i=st;else if(a>=200){var u=t?null:Ui(e);if(u)return Bt(u);o=!1,i=At,l=new zn}else l=t?[]:s;e:for(;++r<a;){var c=e[r],h=t?t(c):c;if(c=n||0!==c?c:0,o&&h==h){for(var d=l.length;d--;)if(l[d]===h)continue e;t&&l.push(h),s.push(c)}else i(l,h,n)||(l!==s&&l.push(h),s.push(c))}return s}function Kr(e,t){return null==(e=ma(e,t=si(t,e)))||delete e[Ma(Ba(t))]}function ei(e,t,n,r){return Gr(e,t,n(hr(e,t)),r)}function ti(e,t,n,r){for(var i=e.length,a=r?i:-1;(r?a--:++a<i)&&t(e[a],a,e););return n?Wr(e,r?0:a,r?a+1:i):Wr(e,r?a+1:0,r?i:a)}function ni(e,t){var n=e;return n instanceof In&&(n=n.value()),ct(t,(function(e,t){return t.func.apply(t.thisArg,ut([e],t.args))}),n)}function ri(e,t,n){var r=e.length;if(r<2)return r?Qr(e[0]):[];for(var i=-1,a=ce(r);++i<r;)for(var o=e[i],s=-1;++s<r;)s!=i&&(a[i]=Kn(a[i]||o,e[s],t,n));return Qr(ar(a,1),t,n)}function ii(e,t,n){for(var r=-1,i=e.length,a=t.length,o={};++r<i;){var s=r<a?t[r]:void 0;n(o,e[r],s)}return o}function ai(e){return zo(e)?e:[]}function oi(e){return"function"==typeof e?e:Xs}function si(e,t){return Do(e)?e:la(e,t)?[e]:Ta(ss(e))}var li=Br;function ui(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:Wr(e,t,n)}var ci=$t||function(e){return He.clearTimeout(e)};function hi(e,t){if(t)return e.slice();var n=e.length,r=Xe?Xe(n):new e.constructor(n);return e.copy(r),r}function di(e){var t=new e.constructor(e.byteLength);return new Ve(t).set(new Ve(e)),t}function pi(e,t){var n=t?di(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function fi(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,a=Jo(e),o=void 0!==t,s=null===t,l=t==t,u=Jo(t);if(!s&&!u&&!a&&e>t||a&&o&&l&&!s&&!u||r&&o&&l||!n&&l||!i)return 1;if(!r&&!a&&!u&&e<t||u&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!l)return-1}return 0}function mi(e,t,n,r){for(var i=-1,a=e.length,o=n.length,s=-1,l=t.length,u=on(a-o,0),c=ce(l+u),h=!r;++s<l;)c[s]=t[s];for(;++i<o;)(h||i<a)&&(c[n[i]]=e[i]);for(;u--;)c[s++]=e[i++];return c}function vi(e,t,n,r){for(var i=-1,a=e.length,o=-1,s=n.length,l=-1,u=t.length,c=on(a-s,0),h=ce(c+u),d=!r;++i<c;)h[i]=e[i];for(var p=i;++l<u;)h[p+l]=t[l];for(;++o<s;)(d||i<a)&&(h[p+n[o]]=e[i++]);return h}function gi(e,t){var n=-1,r=e.length;for(t||(t=ce(r));++n<r;)t[n]=e[n];return t}function yi(e,t,n,r){var i=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var s=t[a],l=r?r(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),i?qn(n,s,l):jn(n,s,l)}return n}function xi(e,t){return function(n,r){var i=Do(n)?tt:Wn,a=t?t():{};return i(n,e,Zi(r,2),a)}}function bi(e){return Br((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,o&&sa(n[0],n[1],o)&&(a=i<3?void 0:a,i=1),t=me(t);++r<i;){var s=n[r];s&&e(t,s,r,a)}return t}))}function _i(e,t){return function(n,r){if(null==n)return n;if(!No(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=me(n);(t?a--:++a<i)&&!1!==r(o[a],a,o););return n}}function wi(e){return function(t,n,r){for(var i=-1,a=me(t),o=r(t),s=o.length;s--;){var l=o[e?s:++i];if(!1===n(a[l],l,a))break}return t}}function Ei(e){return function(t){var n=Ot(t=ss(t))?Gt(t):void 0,r=n?n[0]:t.charAt(0),i=n?ui(n,1).join(""):t.slice(1);return r[e]()+i}}function Ti(e){return function(t){return ct(Fs(Is(t).replace(Ae,"")),e,"")}}function Mi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Ln(e.prototype),r=e.apply(n,t);return jo(r)?r:n}}function Si(e){return function(t,n,r){var i=me(t);if(!No(t)){var a=Zi(n,3);t=bs(t),n=function(e){return a(i[e],e,i)}}var o=e(t,n,r);return o>-1?i[a?t[o]:o]:void 0}}function Ai(t){return Vi((function(n){var r=n.length,i=r,a=Rn.prototype.thru;for(t&&n.reverse();i--;){var o=n[i];if("function"!=typeof o)throw new ye(e);if(a&&!s&&"wrapper"==Yi(o))var s=new Rn([],!0)}for(i=s?i:r;++i<r;){var l=Yi(o=n[i]),u="wrapper"==l?qi(o):void 0;s=u&&ua(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?s[Yi(u[0])].apply(s,u[3]):1==o.length&&ua(o)?s[l]():s.thru(o)}return function(){var e=arguments,t=e[0];if(s&&1==e.length&&Do(t))return s.plant(t).value();for(var i=0,a=r?n[i].apply(this,e):t;++i<r;)a=n[i].call(this,a);return a}}))}function Ci(e,t,n,r,i,a,o,s,l,u){var c=128&t,h=1&t,d=2&t,p=24&t,f=512&t,m=d?void 0:Mi(e);return function v(){for(var g=arguments.length,y=ce(g),x=g;x--;)y[x]=arguments[x];if(p)var b=$i(v),_=Pt(y,b);if(r&&(y=mi(y,r,i,p)),a&&(y=vi(y,a,o,p)),g-=_,p&&g<u){var w=Ut(y,b);return Ni(e,t,Ci,v.placeholder,n,y,w,s,l,u-g)}var E=h?n:this,T=d?E[e]:e;return g=y.length,s?y=va(y,s):f&&g>1&&y.reverse(),c&&l<g&&(y.length=l),this&&this!==He&&this instanceof v&&(T=m||Mi(T)),T.apply(E,y)}}function Li(e,t){return function(n,r){return function(e,t,n,r){return lr(e,(function(e,i,a){t(r,n(e),i,a)})),r}(n,e,t(r),{})}}function Pi(e,t){return function(n,r){var i;if(void 0===n&&void 0===r)return t;if(void 0!==n&&(i=n),void 0!==r){if(void 0===i)return r;"string"==typeof n||"string"==typeof r?(n=Jr(n),r=Jr(r)):(n=Zr(n),r=Zr(r)),i=e(n,r)}return i}}function Ri(e){return Vi((function(t){return t=lt(t,Mt(Zi())),Br((function(n){var r=this;return e(t,(function(e){return et(e,r,n)}))}))}))}function Ii(e,t){var n=(t=void 0===t?" ":Jr(t)).length;if(n<2)return n?Ur(t,e):t;var r=Ur(t,Qt(e/Ft(t)));return Ot(t)?ui(Gt(r),0,e).join(""):r.slice(0,e)}function Di(e){return function(t,n,r){return r&&"number"!=typeof r&&sa(t,n,r)&&(n=r=void 0),t=ns(t),void 0===n?(n=t,t=0):n=ns(n),function(e,t,n,r){for(var i=-1,a=on(Qt((t-e)/(n||1)),0),o=ce(a);a--;)o[r?a:++i]=e,e+=n;return o}(t,n,r=void 0===r?t<n?1:-1:ns(r),e)}}function Oi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=as(t),n=as(n)),e(t,n)}}function Ni(e,t,n,r,i,a,o,s,l,u){var c=8&t;t|=c?32:64,4&(t&=~(c?64:32))||(t&=-4);var h=[e,t,i,c?a:void 0,c?o:void 0,c?void 0:a,c?void 0:o,s,l,u],d=n.apply(void 0,h);return ua(e)&&ya(d,h),d.placeholder=r,_a(d,e,t)}function zi(e){var t=fe[e];return function(e,n){if(e=as(e),(n=null==n?0:sn(rs(n),292))&&nn(e)){var r=(ss(e)+"e").split("e");return+((r=(ss(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Ui=mn&&1/Bt(new mn([,-0]))[1]==1/0?function(e){return new mn(e)}:Js;function Bi(e){return function(t){var n=na(t);return n==c?Nt(t):n==f?kt(t):function(e,t){return lt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function ki(n,r,i,a,o,s,l,u){var c=2&r;if(!c&&"function"!=typeof n)throw new ye(e);var h=a?a.length:0;if(h||(r&=-97,a=o=void 0),l=void 0===l?l:on(rs(l),0),u=void 0===u?u:rs(u),h-=o?o.length:0,64&r){var d=a,p=o;a=o=void 0}var f=c?void 0:qi(n),m=[n,r,i,a,o,d,p,s,l,u];if(f&&function(e,n){var r=e[1],i=n[1],a=r|i,o=a<131,s=128==i&&8==r||128==i&&256==r&&e[7].length<=n[8]||384==i&&n[7].length<=n[8]&&8==r;if(!o&&!s)return e;1&i&&(e[2]=n[2],a|=1&r?0:4);var l=n[3];if(l){var u=e[3];e[3]=u?mi(u,l,n[4]):l,e[4]=u?Ut(e[3],t):n[4]}(l=n[5])&&(u=e[5],e[5]=u?vi(u,l,n[6]):l,e[6]=u?Ut(e[5],t):n[6]);(l=n[7])&&(e[7]=l);128&i&&(e[8]=null==e[8]?n[8]:sn(e[8],n[8]));null==e[9]&&(e[9]=n[9]);e[0]=n[0],e[1]=a}(m,f),n=m[0],r=m[1],i=m[2],a=m[3],o=m[4],!(u=m[9]=void 0===m[9]?c?0:n.length:on(m[9]-h,0))&&24&r&&(r&=-25),r&&1!=r)v=8==r||16==r?function(e,t,n){var r=Mi(e);return function i(){for(var a=arguments.length,o=ce(a),s=a,l=$i(i);s--;)o[s]=arguments[s];var u=a<3&&o[0]!==l&&o[a-1]!==l?[]:Ut(o,l);if((a-=u.length)<n)return Ni(e,t,Ci,i.placeholder,void 0,o,u,void 0,void 0,n-a);var c=this&&this!==He&&this instanceof i?r:e;return et(c,this,o)}}(n,r,u):32!=r&&33!=r||o.length?Ci.apply(void 0,m):function(e,t,n,r){var i=1&t,a=Mi(e);return function t(){for(var o=-1,s=arguments.length,l=-1,u=r.length,c=ce(u+s),h=this&&this!==He&&this instanceof t?a:e;++l<u;)c[l]=r[l];for(;s--;)c[l++]=arguments[++o];return et(h,i?n:this,c)}}(n,r,i,a);else var v=function(e,t,n){var r=1&t,i=Mi(e);return function t(){var a=this&&this!==He&&this instanceof t?i:e;return a.apply(r?n:this,arguments)}}(n,r,i);return _a((f?Hr:ya)(v,m),n,r)}function Fi(e,t,n,r){return void 0===e||Lo(e,_e[n])&&!Te.call(r,n)?t:e}function Gi(e,t,n,r,i,a){return jo(e)&&jo(t)&&(a.set(t,e),Pr(e,t,void 0,Gi,a),a.delete(t)),e}function Hi(e){return qo(e)?void 0:e}function ji(e,t,n,r,i,a){var o=1&n,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(e);if(u&&a.get(t))return u==t;var c=-1,h=!0,d=2&n?new zn:void 0;for(a.set(e,t),a.set(t,e);++c<s;){var p=e[c],f=t[c];if(r)var m=o?r(f,p,c,t,e,a):r(p,f,c,e,t,a);if(void 0!==m){if(m)continue;h=!1;break}if(d){if(!dt(t,(function(e,t){if(!At(d,t)&&(p===e||i(p,e,n,r,a)))return d.push(t)}))){h=!1;break}}else if(p!==f&&!i(p,f,n,r,a)){h=!1;break}}return a.delete(e),a.delete(t),h}function Vi(e){return ba(fa(e,void 0,Da),e+"")}function Wi(e){return dr(e,bs,ea)}function Xi(e){return dr(e,_s,ta)}var qi=yn?function(e){return yn.get(e)}:Js;function Yi(e){for(var t=e.name+"",n=xn[t],r=Te.call(xn,t)?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==e)return i.name}return t}function $i(e){return(Te.call(Cn,"placeholder")?Cn:e).placeholder}function Zi(){var e=Cn.iteratee||qs;return e=e===qs?Er:e,arguments.length?e(arguments[0],arguments[1]):e}function Ji(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Qi(e){for(var t=bs(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,da(i)]}return t}function Ki(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return wr(n)?n:void 0}var ea=en?function(e){return null==e?[]:(e=me(e),at(en(e),(function(t){return _t.call(e,t)})))}:il,ta=en?function(e){for(var t=[];e;)ut(t,ea(e)),e=qe(e);return t}:il,na=pr;function ra(e,t,n){for(var r=-1,i=(t=si(t,e)).length,a=!1;++r<i;){var o=Ma(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&Ho(i)&&oa(o,i)&&(Do(e)||Io(e))}function ia(e){return"function"!=typeof e.constructor||ha(e)?{}:Ln(qe(e))}function aa(e){return Do(e)||Io(e)||!!(Wt&&e&&e[Wt])}function oa(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&re.test(e))&&e>-1&&e%1==0&&e<t}function sa(e,t,n){if(!jo(n))return!1;var r=typeof t;return!!("number"==r?No(n)&&oa(t,n.length):"string"==r&&t in n)&&Lo(n[t],e)}function la(e,t){if(Do(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Jo(e))||(k.test(e)||!B.test(e)||null!=t&&e in me(t))}function ua(e){var t=Yi(e),n=Cn[t];if("function"!=typeof n||!(t in In.prototype))return!1;if(e===n)return!0;var r=qi(n);return!!r&&e===r[0]}(dn&&na(new dn(new ArrayBuffer(1)))!=x||pn&&na(new pn)!=c||fn&&"[object Promise]"!=na(fn.resolve())||mn&&na(new mn)!=f||vn&&na(new vn)!=g)&&(na=function(e){var t=pr(e),n=t==d?e.constructor:void 0,r=n?Sa(n):"";if(r)switch(r){case bn:return x;case _n:return c;case wn:return"[object Promise]";case En:return f;case Tn:return g}return t});var ca=we?Fo:al;function ha(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||_e)}function da(e){return e==e&&!jo(e)}function pa(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in me(n)))}}function fa(e,t,n){return t=on(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=on(r.length-t,0),o=ce(a);++i<a;)o[i]=r[t+i];i=-1;for(var s=ce(t+1);++i<t;)s[i]=r[i];return s[t]=n(o),et(e,this,s)}}function ma(e,t){return t.length<2?e:hr(e,Wr(t,0,-1))}function va(e,t){for(var n=e.length,r=sn(t.length,n),i=gi(e);r--;){var a=t[r];e[r]=oa(a,n)?i[a]:void 0}return e}function ga(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var ya=wa(Hr),xa=Jt||function(e,t){return He.setTimeout(e,t)},ba=wa(jr);function _a(e,t,r){var i=t+"";return ba(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(X,"{\n/* [wrapped with "+t+"] */\n")}(i,function(e,t){return nt(n,(function(n){var r="_."+n[0];t&n[1]&&!ot(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(q);return t?t[1].split(Y):[]}(i),r)))}function wa(e){var t=0,n=0;return function(){var r=ln(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function Ea(e,t){var n=-1,r=e.length,i=r-1;for(t=void 0===t?r:t;++n<t;){var a=zr(n,i),o=e[a];e[a]=e[n],e[n]=o}return e.length=t,e}var Ta=function(e){var t=Eo(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(F,(function(e,n,r,i){t.push(r?i.replace(Z,"$1"):n||e)})),t}));function Ma(e){if("string"==typeof e||Jo(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Sa(e){if(null!=e){try{return Ee.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Aa(e){if(e instanceof In)return e.clone();var t=new Rn(e.__wrapped__,e.__chain__);return t.__actions__=gi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Ca=Br((function(e,t){return zo(e)?Kn(e,ar(t,1,zo,!0)):[]})),La=Br((function(e,t){var n=Ba(t);return zo(n)&&(n=void 0),zo(e)?Kn(e,ar(t,1,zo,!0),Zi(n,2)):[]})),Pa=Br((function(e,t){var n=Ba(t);return zo(n)&&(n=void 0),zo(e)?Kn(e,ar(t,1,zo,!0),void 0,n):[]}));function Ra(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:rs(n);return i<0&&(i=on(r+i,0)),mt(e,Zi(t,3),i)}function Ia(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=rs(n),i=n<0?on(r+i,0):sn(i,r-1)),mt(e,Zi(t,3),i,!0)}function Da(e){return(null==e?0:e.length)?ar(e,1):[]}function Oa(e){return e&&e.length?e[0]:void 0}var Na=Br((function(e){var t=lt(e,ai);return t.length&&t[0]===e[0]?gr(t):[]})),za=Br((function(e){var t=Ba(e),n=lt(e,ai);return t===Ba(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?gr(n,Zi(t,2)):[]})),Ua=Br((function(e){var t=Ba(e),n=lt(e,ai);return(t="function"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?gr(n,void 0,t):[]}));function Ba(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var ka=Br(Fa);function Fa(e,t){return e&&e.length&&t&&t.length?Or(e,t):e}var Ga=Vi((function(e,t){var n=null==e?0:e.length,r=Yn(e,t);return Nr(e,lt(t,(function(e){return oa(e,n)?+e:e})).sort(fi)),r}));function Ha(e){return null==e?e:hn.call(e)}var ja=Br((function(e){return Qr(ar(e,1,zo,!0))})),Va=Br((function(e){var t=Ba(e);return zo(t)&&(t=void 0),Qr(ar(e,1,zo,!0),Zi(t,2))})),Wa=Br((function(e){var t=Ba(e);return t="function"==typeof t?t:void 0,Qr(ar(e,1,zo,!0),void 0,t)}));function Xa(e){if(!e||!e.length)return[];var t=0;return e=at(e,(function(e){if(zo(e))return t=on(e.length,t),!0})),Tt(t,(function(t){return lt(e,bt(t))}))}function qa(e,t){if(!e||!e.length)return[];var n=Xa(e);return null==t?n:lt(n,(function(e){return et(t,void 0,e)}))}var Ya=Br((function(e,t){return zo(e)?Kn(e,t):[]})),$a=Br((function(e){return ri(at(e,zo))})),Za=Br((function(e){var t=Ba(e);return zo(t)&&(t=void 0),ri(at(e,zo),Zi(t,2))})),Ja=Br((function(e){var t=Ba(e);return t="function"==typeof t?t:void 0,ri(at(e,zo),void 0,t)})),Qa=Br(Xa);var Ka=Br((function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n="function"==typeof n?(e.pop(),n):void 0,qa(e,n)}));function eo(e){var t=Cn(e);return t.__chain__=!0,t}function to(e,t){return t(e)}var no=Vi((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return Yn(t,e)};return!(t>1||this.__actions__.length)&&r instanceof In&&oa(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:to,args:[i],thisArg:void 0}),new Rn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(void 0),e}))):this.thru(i)}));var ro=xi((function(e,t,n){Te.call(e,n)?++e[n]:qn(e,n,1)}));var io=Si(Ra),ao=Si(Ia);function oo(e,t){return(Do(e)?nt:er)(e,Zi(t,3))}function so(e,t){return(Do(e)?rt:tr)(e,Zi(t,3))}var lo=xi((function(e,t,n){Te.call(e,n)?e[n].push(t):qn(e,n,[t])}));var uo=Br((function(e,t,n){var r=-1,i="function"==typeof t,a=No(e)?ce(e.length):[];return er(e,(function(e){a[++r]=i?et(t,e,n):yr(e,t,n)})),a})),co=xi((function(e,t,n){qn(e,n,t)}));function ho(e,t){return(Do(e)?lt:Ar)(e,Zi(t,3))}var po=xi((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var fo=Br((function(e,t){if(null==e)return[];var n=t.length;return n>1&&sa(e,t[0],t[1])?t=[]:n>2&&sa(t[0],t[1],t[2])&&(t=[t[0]]),Ir(e,ar(t,1),[])})),mo=Zt||function(){return He.Date.now()};function vo(e,t,n){return t=n?void 0:t,ki(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:t)}function go(t,n){var r;if("function"!=typeof n)throw new ye(e);return t=rs(t),function(){return--t>0&&(r=n.apply(this,arguments)),t<=1&&(n=void 0),r}}var yo=Br((function(e,t,n){var r=1;if(n.length){var i=Ut(n,$i(yo));r|=32}return ki(e,r,t,n,i)})),xo=Br((function(e,t,n){var r=3;if(n.length){var i=Ut(n,$i(xo));r|=32}return ki(t,r,e,n,i)}));function bo(t,n,r){var i,a,o,s,l,u,c=0,h=!1,d=!1,p=!0;if("function"!=typeof t)throw new ye(e);function f(e){var n=i,r=a;return i=a=void 0,c=e,s=t.apply(r,n)}function m(e){return c=e,l=xa(g,n),h?f(e):s}function v(e){var t=e-u;return void 0===u||t>=n||t<0||d&&e-c>=o}function g(){var e=mo();if(v(e))return y(e);l=xa(g,function(e){var t=n-(e-u);return d?sn(t,o-(e-c)):t}(e))}function y(e){return l=void 0,p&&i?f(e):(i=a=void 0,s)}function x(){var e=mo(),t=v(e);if(i=arguments,a=this,u=e,t){if(void 0===l)return m(u);if(d)return ci(l),l=xa(g,n),f(u)}return void 0===l&&(l=xa(g,n)),s}return n=as(n)||0,jo(r)&&(h=!!r.leading,o=(d="maxWait"in r)?on(as(r.maxWait)||0,n):o,p="trailing"in r?!!r.trailing:p),x.cancel=function(){void 0!==l&&ci(l),c=0,i=u=a=l=void 0},x.flush=function(){return void 0===l?s:y(mo())},x}var _o=Br((function(e,t){return Qn(e,1,t)})),wo=Br((function(e,t,n){return Qn(e,as(t)||0,n)}));function Eo(t,n){if("function"!=typeof t||null!=n&&"function"!=typeof n)throw new ye(e);var r=function(){var e=arguments,i=n?n.apply(this,e):e[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,e);return r.cache=a.set(i,o)||a,o};return r.cache=new(Eo.Cache||Nn),r}function To(t){if("function"!=typeof t)throw new ye(e);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Eo.Cache=Nn;var Mo=li((function(e,t){var n=(t=1==t.length&&Do(t[0])?lt(t[0],Mt(Zi())):lt(ar(t,1),Mt(Zi()))).length;return Br((function(r){for(var i=-1,a=sn(r.length,n);++i<a;)r[i]=t[i].call(this,r[i]);return et(e,this,r)}))})),So=Br((function(e,t){return ki(e,32,void 0,t,Ut(t,$i(So)))})),Ao=Br((function(e,t){return ki(e,64,void 0,t,Ut(t,$i(Ao)))})),Co=Vi((function(e,t){return ki(e,256,void 0,void 0,void 0,t)}));function Lo(e,t){return e===t||e!=e&&t!=t}var Po=Oi(fr),Ro=Oi((function(e,t){return e>=t})),Io=xr(function(){return arguments}())?xr:function(e){return Vo(e)&&Te.call(e,"callee")&&!_t.call(e,"callee")},Do=ce.isArray,Oo=Ye?Mt(Ye):function(e){return Vo(e)&&pr(e)==y};function No(e){return null!=e&&Ho(e.length)&&!Fo(e)}function zo(e){return Vo(e)&&No(e)}var Uo=tn||al,Bo=$e?Mt($e):function(e){return Vo(e)&&pr(e)==o};function ko(e){if(!Vo(e))return!1;var t=pr(e);return t==s||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!qo(e)}function Fo(e){if(!jo(e))return!1;var t=pr(e);return t==l||t==u||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Go(e){return"number"==typeof e&&e==rs(e)}function Ho(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function jo(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Vo(e){return null!=e&&"object"==typeof e}var Wo=Ze?Mt(Ze):function(e){return Vo(e)&&na(e)==c};function Xo(e){return"number"==typeof e||Vo(e)&&pr(e)==h}function qo(e){if(!Vo(e)||pr(e)!=d)return!1;var t=qe(e);if(null===t)return!0;var n=Te.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ee.call(n)==Re}var Yo=Je?Mt(Je):function(e){return Vo(e)&&pr(e)==p};var $o=Qe?Mt(Qe):function(e){return Vo(e)&&na(e)==f};function Zo(e){return"string"==typeof e||!Do(e)&&Vo(e)&&pr(e)==m}function Jo(e){return"symbol"==typeof e||Vo(e)&&pr(e)==v}var Qo=Ke?Mt(Ke):function(e){return Vo(e)&&Ho(e.length)&&!!Ne[pr(e)]};var Ko=Oi(Sr),es=Oi((function(e,t){return e<=t}));function ts(e){if(!e)return[];if(No(e))return Zo(e)?Gt(e):gi(e);if(Xt&&e[Xt])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Xt]());var t=na(e);return(t==c?Nt:t==f?Bt:Ls)(e)}function ns(e){return e?(e=as(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function rs(e){var t=ns(e),n=t%1;return t==t?n?t-n:t:0}function is(e){return e?$n(rs(e),0,4294967295):0}function as(e){if("number"==typeof e)return e;if(Jo(e))return NaN;if(jo(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=jo(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(j,"");var n=ee.test(e);return n||ne.test(e)?ke(e.slice(2),n?2:8):K.test(e)?NaN:+e}function os(e){return yi(e,_s(e))}function ss(e){return null==e?"":Jr(e)}var ls=bi((function(e,t){if(ha(t)||No(t))yi(t,bs(t),e);else for(var n in t)Te.call(t,n)&&jn(e,n,t[n])})),us=bi((function(e,t){yi(t,_s(t),e)})),cs=bi((function(e,t,n,r){yi(t,_s(t),e,r)})),hs=bi((function(e,t,n,r){yi(t,bs(t),e,r)})),ds=Vi(Yn);var ps=Br((function(e,t){e=me(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&sa(t[0],t[1],i)&&(r=1);++n<r;)for(var a=t[n],o=_s(a),s=-1,l=o.length;++s<l;){var u=o[s],c=e[u];(void 0===c||Lo(c,_e[u])&&!Te.call(e,u))&&(e[u]=a[u])}return e})),fs=Br((function(e){return e.push(void 0,Gi),et(Es,void 0,e)}));function ms(e,t,n){var r=null==e?void 0:hr(e,t);return void 0===r?n:r}function vs(e,t){return null!=e&&ra(e,t,vr)}var gs=Li((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Le.call(t)),e[t]=n}),js(Xs)),ys=Li((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Le.call(t)),Te.call(e,t)?e[t].push(n):e[t]=[n]}),Zi),xs=Br(yr);function bs(e){return No(e)?Bn(e):Tr(e)}function _s(e){return No(e)?Bn(e,!0):Mr(e)}var ws=bi((function(e,t,n){Pr(e,t,n)})),Es=bi((function(e,t,n,r){Pr(e,t,n,r)})),Ts=Vi((function(e,t){var n={};if(null==e)return n;var r=!1;t=lt(t,(function(t){return t=si(t,e),r||(r=t.length>1),t})),yi(e,Xi(e),n),r&&(n=Zn(n,7,Hi));for(var i=t.length;i--;)Kr(n,t[i]);return n}));var Ms=Vi((function(e,t){return null==e?{}:function(e,t){return Dr(e,t,(function(t,n){return vs(e,n)}))}(e,t)}));function Ss(e,t){if(null==e)return{};var n=lt(Xi(e),(function(e){return[e]}));return t=Zi(t),Dr(e,n,(function(e,n){return t(e,n[0])}))}var As=Bi(bs),Cs=Bi(_s);function Ls(e){return null==e?[]:St(e,bs(e))}var Ps=Ti((function(e,t,n){return t=t.toLowerCase(),e+(n?Rs(t):t)}));function Rs(e){return ks(ss(e).toLowerCase())}function Is(e){return(e=ss(e))&&e.replace(ie,Rt).replace(Ce,"")}var Ds=Ti((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Os=Ti((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ns=Ei("toLowerCase");var zs=Ti((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Us=Ti((function(e,t,n){return e+(n?" ":"")+ks(t)}));var Bs=Ti((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),ks=Ei("toUpperCase");function Fs(e,t,n){return e=ss(e),void 0===(t=n?void 0:t)?function(e){return Ie.test(e)}(e)?function(e){return e.match(Pe)||[]}(e):function(e){return e.match($)||[]}(e):e.match(t)||[]}var Gs=Br((function(e,t){try{return et(e,void 0,t)}catch(e){return ko(e)?e:new de(e)}})),Hs=Vi((function(e,t){return nt(t,(function(t){t=Ma(t),qn(e,t,yo(e[t],e))})),e}));function js(e){return function(){return e}}var Vs=Ai(),Ws=Ai(!0);function Xs(e){return e}function qs(e){return Er("function"==typeof e?e:Zn(e,1))}var Ys=Br((function(e,t){return function(n){return yr(n,e,t)}})),$s=Br((function(e,t){return function(n){return yr(e,n,t)}}));function Zs(e,t,n){var r=bs(t),i=cr(t,r);null!=n||jo(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=cr(t,bs(t)));var a=!(jo(n)&&"chain"in n&&!n.chain),o=Fo(e);return nt(i,(function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__),i=n.__actions__=gi(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,ut([this.value()],arguments))})})),e}function Js(){}var Qs=Ri(lt),Ks=Ri(it),el=Ri(dt);function tl(e){return la(e)?bt(Ma(e)):function(e){return function(t){return hr(t,e)}}(e)}var nl=Di(),rl=Di(!0);function il(){return[]}function al(){return!1}var ol=Pi((function(e,t){return e+t}),0),sl=zi("ceil"),ll=Pi((function(e,t){return e/t}),1),ul=zi("floor");var cl,hl=Pi((function(e,t){return e*t}),1),dl=zi("round"),pl=Pi((function(e,t){return e-t}),0);return Cn.after=function(t,n){if("function"!=typeof n)throw new ye(e);return t=rs(t),function(){if(--t<1)return n.apply(this,arguments)}},Cn.ary=vo,Cn.assign=ls,Cn.assignIn=us,Cn.assignInWith=cs,Cn.assignWith=hs,Cn.at=ds,Cn.before=go,Cn.bind=yo,Cn.bindAll=Hs,Cn.bindKey=xo,Cn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Do(e)?e:[e]},Cn.chain=eo,Cn.chunk=function(e,t,n){t=(n?sa(e,t,n):void 0===t)?1:on(rs(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var i=0,a=0,o=ce(Qt(r/t));i<r;)o[a++]=Wr(e,i,i+=t);return o},Cn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i},Cn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=ce(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return ut(Do(n)?gi(n):[n],ar(t,1))},Cn.cond=function(t){var n=null==t?0:t.length,r=Zi();return t=n?lt(t,(function(t){if("function"!=typeof t[1])throw new ye(e);return[r(t[0]),t[1]]})):[],Br((function(e){for(var r=-1;++r<n;){var i=t[r];if(et(i[0],this,e))return et(i[1],this,e)}}))},Cn.conforms=function(e){return function(e){var t=bs(e);return function(n){return Jn(n,e,t)}}(Zn(e,1))},Cn.constant=js,Cn.countBy=ro,Cn.create=function(e,t){var n=Ln(e);return null==t?n:Xn(n,t)},Cn.curry=function e(t,n,r){var i=ki(t,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=e.placeholder,i},Cn.curryRight=function e(t,n,r){var i=ki(t,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=e.placeholder,i},Cn.debounce=bo,Cn.defaults=ps,Cn.defaultsDeep=fs,Cn.defer=_o,Cn.delay=wo,Cn.difference=Ca,Cn.differenceBy=La,Cn.differenceWith=Pa,Cn.drop=function(e,t,n){var r=null==e?0:e.length;return r?Wr(e,(t=n||void 0===t?1:rs(t))<0?0:t,r):[]},Cn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?Wr(e,0,(t=r-(t=n||void 0===t?1:rs(t)))<0?0:t):[]},Cn.dropRightWhile=function(e,t){return e&&e.length?ti(e,Zi(t,3),!0,!0):[]},Cn.dropWhile=function(e,t){return e&&e.length?ti(e,Zi(t,3),!0):[]},Cn.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&sa(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=rs(n))<0&&(n=-n>i?0:i+n),(r=void 0===r||r>i?i:rs(r))<0&&(r+=i),r=n>r?0:is(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Cn.filter=function(e,t){return(Do(e)?at:ir)(e,Zi(t,3))},Cn.flatMap=function(e,t){return ar(ho(e,t),1)},Cn.flatMapDeep=function(e,t){return ar(ho(e,t),1/0)},Cn.flatMapDepth=function(e,t,n){return n=void 0===n?1:rs(n),ar(ho(e,t),n)},Cn.flatten=Da,Cn.flattenDeep=function(e){return(null==e?0:e.length)?ar(e,1/0):[]},Cn.flattenDepth=function(e,t){return(null==e?0:e.length)?ar(e,t=void 0===t?1:rs(t)):[]},Cn.flip=function(e){return ki(e,512)},Cn.flow=Vs,Cn.flowRight=Ws,Cn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Cn.functions=function(e){return null==e?[]:cr(e,bs(e))},Cn.functionsIn=function(e){return null==e?[]:cr(e,_s(e))},Cn.groupBy=lo,Cn.initial=function(e){return(null==e?0:e.length)?Wr(e,0,-1):[]},Cn.intersection=Na,Cn.intersectionBy=za,Cn.intersectionWith=Ua,Cn.invert=gs,Cn.invertBy=ys,Cn.invokeMap=uo,Cn.iteratee=qs,Cn.keyBy=co,Cn.keys=bs,Cn.keysIn=_s,Cn.map=ho,Cn.mapKeys=function(e,t){var n={};return t=Zi(t,3),lr(e,(function(e,r,i){qn(n,t(e,r,i),e)})),n},Cn.mapValues=function(e,t){var n={};return t=Zi(t,3),lr(e,(function(e,r,i){qn(n,r,t(e,r,i))})),n},Cn.matches=function(e){return Cr(Zn(e,1))},Cn.matchesProperty=function(e,t){return Lr(e,Zn(t,1))},Cn.memoize=Eo,Cn.merge=ws,Cn.mergeWith=Es,Cn.method=Ys,Cn.methodOf=$s,Cn.mixin=Zs,Cn.negate=To,Cn.nthArg=function(e){return e=rs(e),Br((function(t){return Rr(t,e)}))},Cn.omit=Ts,Cn.omitBy=function(e,t){return Ss(e,To(Zi(t)))},Cn.once=function(e){return go(2,e)},Cn.orderBy=function(e,t,n,r){return null==e?[]:(Do(t)||(t=null==t?[]:[t]),Do(n=r?void 0:n)||(n=null==n?[]:[n]),Ir(e,t,n))},Cn.over=Qs,Cn.overArgs=Mo,Cn.overEvery=Ks,Cn.overSome=el,Cn.partial=So,Cn.partialRight=Ao,Cn.partition=po,Cn.pick=Ms,Cn.pickBy=Ss,Cn.property=tl,Cn.propertyOf=function(e){return function(t){return null==e?void 0:hr(e,t)}},Cn.pull=ka,Cn.pullAll=Fa,Cn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Or(e,t,Zi(n,2)):e},Cn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Or(e,t,void 0,n):e},Cn.pullAt=Ga,Cn.range=nl,Cn.rangeRight=rl,Cn.rearg=Co,Cn.reject=function(e,t){return(Do(e)?at:ir)(e,To(Zi(t,3)))},Cn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],a=e.length;for(t=Zi(t,3);++r<a;){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return Nr(e,i),n},Cn.rest=function(t,n){if("function"!=typeof t)throw new ye(e);return Br(t,n=void 0===n?n:rs(n))},Cn.reverse=Ha,Cn.sampleSize=function(e,t,n){return t=(n?sa(e,t,n):void 0===t)?1:rs(t),(Do(e)?Fn:Fr)(e,t)},Cn.set=function(e,t,n){return null==e?e:Gr(e,t,n)},Cn.setWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:Gr(e,t,n,r)},Cn.shuffle=function(e){return(Do(e)?Gn:Vr)(e)},Cn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&sa(e,t,n)?(t=0,n=r):(t=null==t?0:rs(t),n=void 0===n?r:rs(n)),Wr(e,t,n)):[]},Cn.sortBy=fo,Cn.sortedUniq=function(e){return e&&e.length?$r(e):[]},Cn.sortedUniqBy=function(e,t){return e&&e.length?$r(e,Zi(t,2)):[]},Cn.split=function(e,t,n){return n&&"number"!=typeof n&&sa(e,t,n)&&(t=n=void 0),(n=void 0===n?4294967295:n>>>0)?(e=ss(e))&&("string"==typeof t||null!=t&&!Yo(t))&&!(t=Jr(t))&&Ot(e)?ui(Gt(e),0,n):e.split(t,n):[]},Cn.spread=function(t,n){if("function"!=typeof t)throw new ye(e);return n=null==n?0:on(rs(n),0),Br((function(e){var r=e[n],i=ui(e,0,n);return r&&ut(i,r),et(t,this,i)}))},Cn.tail=function(e){var t=null==e?0:e.length;return t?Wr(e,1,t):[]},Cn.take=function(e,t,n){return e&&e.length?Wr(e,0,(t=n||void 0===t?1:rs(t))<0?0:t):[]},Cn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?Wr(e,(t=r-(t=n||void 0===t?1:rs(t)))<0?0:t,r):[]},Cn.takeRightWhile=function(e,t){return e&&e.length?ti(e,Zi(t,3),!1,!0):[]},Cn.takeWhile=function(e,t){return e&&e.length?ti(e,Zi(t,3)):[]},Cn.tap=function(e,t){return t(e),e},Cn.throttle=function(t,n,r){var i=!0,a=!0;if("function"!=typeof t)throw new ye(e);return jo(r)&&(i="leading"in r?!!r.leading:i,a="trailing"in r?!!r.trailing:a),bo(t,n,{leading:i,maxWait:n,trailing:a})},Cn.thru=to,Cn.toArray=ts,Cn.toPairs=As,Cn.toPairsIn=Cs,Cn.toPath=function(e){return Do(e)?lt(e,Ma):Jo(e)?[e]:gi(Ta(ss(e)))},Cn.toPlainObject=os,Cn.transform=function(e,t,n){var r=Do(e),i=r||Uo(e)||Qo(e);if(t=Zi(t,4),null==n){var a=e&&e.constructor;n=i?r?new a:[]:jo(e)&&Fo(a)?Ln(qe(e)):{}}return(i?nt:lr)(e,(function(e,r,i){return t(n,e,r,i)})),n},Cn.unary=function(e){return vo(e,1)},Cn.union=ja,Cn.unionBy=Va,Cn.unionWith=Wa,Cn.uniq=function(e){return e&&e.length?Qr(e):[]},Cn.uniqBy=function(e,t){return e&&e.length?Qr(e,Zi(t,2)):[]},Cn.uniqWith=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?Qr(e,void 0,t):[]},Cn.unset=function(e,t){return null==e||Kr(e,t)},Cn.unzip=Xa,Cn.unzipWith=qa,Cn.update=function(e,t,n){return null==e?e:ei(e,t,oi(n))},Cn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:ei(e,t,oi(n),r)},Cn.values=Ls,Cn.valuesIn=function(e){return null==e?[]:St(e,_s(e))},Cn.without=Ya,Cn.words=Fs,Cn.wrap=function(e,t){return So(oi(t),e)},Cn.xor=$a,Cn.xorBy=Za,Cn.xorWith=Ja,Cn.zip=Qa,Cn.zipObject=function(e,t){return ii(e||[],t||[],jn)},Cn.zipObjectDeep=function(e,t){return ii(e||[],t||[],Gr)},Cn.zipWith=Ka,Cn.entries=As,Cn.entriesIn=Cs,Cn.extend=us,Cn.extendWith=cs,Zs(Cn,Cn),Cn.add=ol,Cn.attempt=Gs,Cn.camelCase=Ps,Cn.capitalize=Rs,Cn.ceil=sl,Cn.clamp=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=as(n))==n?n:0),void 0!==t&&(t=(t=as(t))==t?t:0),$n(as(e),t,n)},Cn.clone=function(e){return Zn(e,4)},Cn.cloneDeep=function(e){return Zn(e,5)},Cn.cloneDeepWith=function(e,t){return Zn(e,5,t="function"==typeof t?t:void 0)},Cn.cloneWith=function(e,t){return Zn(e,4,t="function"==typeof t?t:void 0)},Cn.conformsTo=function(e,t){return null==t||Jn(e,t,bs(t))},Cn.deburr=Is,Cn.defaultTo=function(e,t){return null==e||e!=e?t:e},Cn.divide=ll,Cn.endsWith=function(e,t,n){e=ss(e),t=Jr(t);var r=e.length,i=n=void 0===n?r:$n(rs(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},Cn.eq=Lo,Cn.escape=function(e){return(e=ss(e))&&O.test(e)?e.replace(I,It):e},Cn.escapeRegExp=function(e){return(e=ss(e))&&H.test(e)?e.replace(G,"\\$&"):e},Cn.every=function(e,t,n){var r=Do(e)?it:nr;return n&&sa(e,t,n)&&(t=void 0),r(e,Zi(t,3))},Cn.find=io,Cn.findIndex=Ra,Cn.findKey=function(e,t){return ft(e,Zi(t,3),lr)},Cn.findLast=ao,Cn.findLastIndex=Ia,Cn.findLastKey=function(e,t){return ft(e,Zi(t,3),ur)},Cn.floor=ul,Cn.forEach=oo,Cn.forEachRight=so,Cn.forIn=function(e,t){return null==e?e:or(e,Zi(t,3),_s)},Cn.forInRight=function(e,t){return null==e?e:sr(e,Zi(t,3),_s)},Cn.forOwn=function(e,t){return e&&lr(e,Zi(t,3))},Cn.forOwnRight=function(e,t){return e&&ur(e,Zi(t,3))},Cn.get=ms,Cn.gt=Po,Cn.gte=Ro,Cn.has=function(e,t){return null!=e&&ra(e,t,mr)},Cn.hasIn=vs,Cn.head=Oa,Cn.identity=Xs,Cn.includes=function(e,t,n,r){e=No(e)?e:Ls(e),n=n&&!r?rs(n):0;var i=e.length;return n<0&&(n=on(i+n,0)),Zo(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&vt(e,t,n)>-1},Cn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:rs(n);return i<0&&(i=on(r+i,0)),vt(e,t,i)},Cn.inRange=function(e,t,n){return t=ns(t),void 0===n?(n=t,t=0):n=ns(n),function(e,t,n){return e>=sn(t,n)&&e<on(t,n)}(e=as(e),t,n)},Cn.invoke=xs,Cn.isArguments=Io,Cn.isArray=Do,Cn.isArrayBuffer=Oo,Cn.isArrayLike=No,Cn.isArrayLikeObject=zo,Cn.isBoolean=function(e){return!0===e||!1===e||Vo(e)&&pr(e)==a},Cn.isBuffer=Uo,Cn.isDate=Bo,Cn.isElement=function(e){return Vo(e)&&1===e.nodeType&&!qo(e)},Cn.isEmpty=function(e){if(null==e)return!0;if(No(e)&&(Do(e)||"string"==typeof e||"function"==typeof e.splice||Uo(e)||Qo(e)||Io(e)))return!e.length;var t=na(e);if(t==c||t==f)return!e.size;if(ha(e))return!Tr(e).length;for(var n in e)if(Te.call(e,n))return!1;return!0},Cn.isEqual=function(e,t){return br(e,t)},Cn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===r?br(e,t,void 0,n):!!r},Cn.isError=ko,Cn.isFinite=function(e){return"number"==typeof e&&nn(e)},Cn.isFunction=Fo,Cn.isInteger=Go,Cn.isLength=Ho,Cn.isMap=Wo,Cn.isMatch=function(e,t){return e===t||_r(e,t,Qi(t))},Cn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:void 0,_r(e,t,Qi(t),n)},Cn.isNaN=function(e){return Xo(e)&&e!=+e},Cn.isNative=function(e){if(ca(e))throw new de("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return wr(e)},Cn.isNil=function(e){return null==e},Cn.isNull=function(e){return null===e},Cn.isNumber=Xo,Cn.isObject=jo,Cn.isObjectLike=Vo,Cn.isPlainObject=qo,Cn.isRegExp=Yo,Cn.isSafeInteger=function(e){return Go(e)&&e>=-9007199254740991&&e<=9007199254740991},Cn.isSet=$o,Cn.isString=Zo,Cn.isSymbol=Jo,Cn.isTypedArray=Qo,Cn.isUndefined=function(e){return void 0===e},Cn.isWeakMap=function(e){return Vo(e)&&na(e)==g},Cn.isWeakSet=function(e){return Vo(e)&&"[object WeakSet]"==pr(e)},Cn.join=function(e,t){return null==e?"":rn.call(e,t)},Cn.kebabCase=Ds,Cn.last=Ba,Cn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return void 0!==n&&(i=(i=rs(n))<0?on(r+i,0):sn(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):mt(e,yt,i,!0)},Cn.lowerCase=Os,Cn.lowerFirst=Ns,Cn.lt=Ko,Cn.lte=es,Cn.max=function(e){return e&&e.length?rr(e,Xs,fr):void 0},Cn.maxBy=function(e,t){return e&&e.length?rr(e,Zi(t,2),fr):void 0},Cn.mean=function(e){return xt(e,Xs)},Cn.meanBy=function(e,t){return xt(e,Zi(t,2))},Cn.min=function(e){return e&&e.length?rr(e,Xs,Sr):void 0},Cn.minBy=function(e,t){return e&&e.length?rr(e,Zi(t,2),Sr):void 0},Cn.stubArray=il,Cn.stubFalse=al,Cn.stubObject=function(){return{}},Cn.stubString=function(){return""},Cn.stubTrue=function(){return!0},Cn.multiply=hl,Cn.nth=function(e,t){return e&&e.length?Rr(e,rs(t)):void 0},Cn.noConflict=function(){return He._===this&&(He._=Ue),this},Cn.noop=Js,Cn.now=mo,Cn.pad=function(e,t,n){e=ss(e);var r=(t=rs(t))?Ft(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Ii(Kt(i),n)+e+Ii(Qt(i),n)},Cn.padEnd=function(e,t,n){e=ss(e);var r=(t=rs(t))?Ft(e):0;return t&&r<t?e+Ii(t-r,n):e},Cn.padStart=function(e,t,n){e=ss(e);var r=(t=rs(t))?Ft(e):0;return t&&r<t?Ii(t-r,n)+e:e},Cn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),un(ss(e).replace(V,""),t||0)},Cn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&sa(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=ns(e),void 0===t?(t=e,e=0):t=ns(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=cn();return sn(e+i*(t-e+Be("1e-"+((i+"").length-1))),t)}return zr(e,t)},Cn.reduce=function(e,t,n){var r=Do(e)?ct:wt,i=arguments.length<3;return r(e,Zi(t,4),n,i,er)},Cn.reduceRight=function(e,t,n){var r=Do(e)?ht:wt,i=arguments.length<3;return r(e,Zi(t,4),n,i,tr)},Cn.repeat=function(e,t,n){return t=(n?sa(e,t,n):void 0===t)?1:rs(t),Ur(ss(e),t)},Cn.replace=function(){var e=arguments,t=ss(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Cn.result=function(e,t,n){var r=-1,i=(t=si(t,e)).length;for(i||(i=1,e=void 0);++r<i;){var a=null==e?void 0:e[Ma(t[r])];void 0===a&&(r=i,a=n),e=Fo(a)?a.call(e):a}return e},Cn.round=dl,Cn.runInContext=se,Cn.sample=function(e){return(Do(e)?kn:kr)(e)},Cn.size=function(e){if(null==e)return 0;if(No(e))return Zo(e)?Ft(e):e.length;var t=na(e);return t==c||t==f?e.size:Tr(e).length},Cn.snakeCase=zs,Cn.some=function(e,t,n){var r=Do(e)?dt:Xr;return n&&sa(e,t,n)&&(t=void 0),r(e,Zi(t,3))},Cn.sortedIndex=function(e,t){return qr(e,t)},Cn.sortedIndexBy=function(e,t,n){return Yr(e,t,Zi(n,2))},Cn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=qr(e,t);if(r<n&&Lo(e[r],t))return r}return-1},Cn.sortedLastIndex=function(e,t){return qr(e,t,!0)},Cn.sortedLastIndexBy=function(e,t,n){return Yr(e,t,Zi(n,2),!0)},Cn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=qr(e,t,!0)-1;if(Lo(e[n],t))return n}return-1},Cn.startCase=Us,Cn.startsWith=function(e,t,n){return e=ss(e),n=null==n?0:$n(rs(n),0,e.length),t=Jr(t),e.slice(n,n+t.length)==t},Cn.subtract=pl,Cn.sum=function(e){return e&&e.length?Et(e,Xs):0},Cn.sumBy=function(e,t){return e&&e.length?Et(e,Zi(t,2)):0},Cn.template=function(e,t,n){var r=Cn.templateSettings;n&&sa(e,t,n)&&(t=void 0),e=ss(e),t=cs({},t,r,Fi);var i,a,o=cs({},t.imports,r.imports,Fi),s=bs(o),l=St(o,s),u=0,c=t.interpolate||ae,h="__p += '",d=ve((t.escape||ae).source+"|"+c.source+"|"+(c===U?J:ae).source+"|"+(t.evaluate||ae).source+"|$","g"),p="//# sourceURL="+(Te.call(t,"sourceURL")?(t.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++Oe+"]")+"\n";e.replace(d,(function(t,n,r,o,s,l){return r||(r=o),h+=e.slice(u,l).replace(oe,Dt),n&&(i=!0,h+="' +\n__e("+n+") +\n'"),s&&(a=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=l+t.length,t})),h+="';\n";var f=Te.call(t,"variable")&&t.variable;f||(h="with (obj) {\n"+h+"\n}\n"),h=(a?h.replace(C,""):h).replace(L,"$1").replace(P,"$1;"),h="function("+(f||"obj")+") {\n"+(f?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var m=Gs((function(){return pe(s,p+"return "+h).apply(void 0,l)}));if(m.source=h,ko(m))throw m;return m},Cn.times=function(e,t){if((e=rs(e))<1||e>9007199254740991)return[];var n=4294967295,r=sn(e,4294967295);e-=4294967295;for(var i=Tt(r,t=Zi(t));++n<e;)t(n);return i},Cn.toFinite=ns,Cn.toInteger=rs,Cn.toLength=is,Cn.toLower=function(e){return ss(e).toLowerCase()},Cn.toNumber=as,Cn.toSafeInteger=function(e){return e?$n(rs(e),-9007199254740991,9007199254740991):0===e?e:0},Cn.toString=ss,Cn.toUpper=function(e){return ss(e).toUpperCase()},Cn.trim=function(e,t,n){if((e=ss(e))&&(n||void 0===t))return e.replace(j,"");if(!e||!(t=Jr(t)))return e;var r=Gt(e),i=Gt(t);return ui(r,Ct(r,i),Lt(r,i)+1).join("")},Cn.trimEnd=function(e,t,n){if((e=ss(e))&&(n||void 0===t))return e.replace(W,"");if(!e||!(t=Jr(t)))return e;var r=Gt(e);return ui(r,0,Lt(r,Gt(t))+1).join("")},Cn.trimStart=function(e,t,n){if((e=ss(e))&&(n||void 0===t))return e.replace(V,"");if(!e||!(t=Jr(t)))return e;var r=Gt(e);return ui(r,Ct(r,Gt(t))).join("")},Cn.truncate=function(e,t){var n=30,r="...";if(jo(t)){var i="separator"in t?t.separator:i;n="length"in t?rs(t.length):n,r="omission"in t?Jr(t.omission):r}var a=(e=ss(e)).length;if(Ot(e)){var o=Gt(e);a=o.length}if(n>=a)return e;var s=n-Ft(r);if(s<1)return r;var l=o?ui(o,0,s).join(""):e.slice(0,s);if(void 0===i)return l+r;if(o&&(s+=l.length-s),Yo(i)){if(e.slice(s).search(i)){var u,c=l;for(i.global||(i=ve(i.source,ss(Q.exec(i))+"g")),i.lastIndex=0;u=i.exec(c);)var h=u.index;l=l.slice(0,void 0===h?s:h)}}else if(e.indexOf(Jr(i),s)!=s){var d=l.lastIndexOf(i);d>-1&&(l=l.slice(0,d))}return l+r},Cn.unescape=function(e){return(e=ss(e))&&D.test(e)?e.replace(R,Ht):e},Cn.uniqueId=function(e){var t=++Me;return ss(e)+t},Cn.upperCase=Bs,Cn.upperFirst=ks,Cn.each=oo,Cn.eachRight=so,Cn.first=Oa,Zs(Cn,(cl={},lr(Cn,(function(e,t){Te.call(Cn.prototype,t)||(cl[t]=e)})),cl),{chain:!1}),Cn.VERSION="4.17.15",nt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Cn[e].placeholder=Cn})),nt(["drop","take"],(function(e,t){In.prototype[e]=function(n){n=void 0===n?1:on(rs(n),0);var r=this.__filtered__&&!t?new In(this):this.clone();return r.__filtered__?r.__takeCount__=sn(n,r.__takeCount__):r.__views__.push({size:sn(n,4294967295),type:e+(r.__dir__<0?"Right":"")}),r},In.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),nt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;In.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Zi(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),nt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");In.prototype[e]=function(){return this[n](1).value()[0]}})),nt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");In.prototype[e]=function(){return this.__filtered__?new In(this):this[n](1)}})),In.prototype.compact=function(){return this.filter(Xs)},In.prototype.find=function(e){return this.filter(e).head()},In.prototype.findLast=function(e){return this.reverse().find(e)},In.prototype.invokeMap=Br((function(e,t){return"function"==typeof e?new In(this):this.map((function(n){return yr(n,e,t)}))})),In.prototype.reject=function(e){return this.filter(To(Zi(e)))},In.prototype.slice=function(e,t){e=rs(e);var n=this;return n.__filtered__&&(e>0||t<0)?new In(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),void 0!==t&&(n=(t=rs(t))<0?n.dropRight(-t):n.take(t-e)),n)},In.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},In.prototype.toArray=function(){return this.take(4294967295)},lr(In.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=Cn[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);i&&(Cn.prototype[t]=function(){var t=this.__wrapped__,o=r?[1]:arguments,s=t instanceof In,l=o[0],u=s||Do(t),c=function(e){var t=i.apply(Cn,ut([e],o));return r&&h?t[0]:t};u&&n&&"function"==typeof l&&1!=l.length&&(s=u=!1);var h=this.__chain__,d=!!this.__actions__.length,p=a&&!h,f=s&&!d;if(!a&&u){t=f?t:new In(this);var m=e.apply(t,o);return m.__actions__.push({func:to,args:[c],thisArg:void 0}),new Rn(m,h)}return p&&f?e.apply(this,o):(m=this.thru(c),p?r?m.value()[0]:m.value():m)})})),nt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=xe[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Cn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Do(i)?i:[],e)}return this[n]((function(n){return t.apply(Do(n)?n:[],e)}))}})),lr(In.prototype,(function(e,t){var n=Cn[t];if(n){var r=n.name+"";Te.call(xn,r)||(xn[r]=[]),xn[r].push({name:t,func:n})}})),xn[Ci(void 0,2).name]=[{name:"wrapper",func:void 0}],In.prototype.clone=function(){var e=new In(this.__wrapped__);return e.__actions__=gi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=gi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=gi(this.__views__),e},In.prototype.reverse=function(){if(this.__filtered__){var e=new In(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},In.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Do(e),r=t<0,i=n?e.length:0,a=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var a=n[r],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=sn(t,e+o);break;case"takeRight":e=on(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=a.start,s=a.end,l=s-o,u=r?s:o-1,c=this.__iteratees__,h=c.length,d=0,p=sn(l,this.__takeCount__);if(!n||!r&&i==l&&p==l)return ni(e,this.__actions__);var f=[];e:for(;l--&&d<p;){for(var m=-1,v=e[u+=t];++m<h;){var g=c[m],y=g.iteratee,x=g.type,b=y(v);if(2==x)v=b;else if(!b){if(1==x)continue e;break e}}f[d++]=v}return f},Cn.prototype.at=no,Cn.prototype.chain=function(){return eo(this)},Cn.prototype.commit=function(){return new Rn(this.value(),this.__chain__)},Cn.prototype.next=function(){void 0===this.__values__&&(this.__values__=ts(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},Cn.prototype.plant=function(e){for(var t,n=this;n instanceof Pn;){var r=Aa(n);r.__index__=0,r.__values__=void 0,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},Cn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof In){var t=e;return this.__actions__.length&&(t=new In(this)),(t=t.reverse()).__actions__.push({func:to,args:[Ha],thisArg:void 0}),new Rn(t,this.__chain__)}return this.thru(Ha)},Cn.prototype.toJSON=Cn.prototype.valueOf=Cn.prototype.value=function(){return ni(this.__wrapped__,this.__actions__)},Cn.prototype.first=Cn.prototype.head,Xt&&(Cn.prototype[Xt]=function(){return this}),Cn}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(He._=jt,define((function(){return jt}))):Ve?((Ve.exports=jt)._=jt,je._=jt):He._=jt}.call(this),function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).BezierEasing=e()}((function(){return function e(t,n,r){function i(o,s){if(!n[o]){if(!t[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(a)return a(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[o]={exports:{}};t[o][0].call(c.exports,(function(e){return i(t[o][1][e]||e)}),c,c.exports,e,t,n,r)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){var r="function"==typeof Float32Array;function i(e,t){return 1-3*t+3*e}function a(e,t){return 3*t-6*e}function o(e){return 3*e}function s(e,t,n){return((i(t,n)*e+a(t,n))*e+o(t))*e}function l(e,t,n){return 3*i(t,n)*e*e+2*a(t,n)*e+o(t)}function u(e){return e}t.exports=function(e,t,n,i){if(!(0<=e&&e<=1&&0<=n&&n<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===t&&n===i)return u;for(var a=r?new Float32Array(11):new Array(11),o=0;o<11;++o)a[o]=s(.1*o,e,n);return function(r){return 0===r?0:1===r?1:s(function(t){for(var r=0,i=1;10!==i&&a[i]<=t;++i)r+=.1;var o=r+(t-a[--i])/(a[i+1]-a[i])*.1,u=l(o,e,n);return.001<=u?function(e,t,n,r){for(var i=0;i<4;++i){var a=l(t,n,r);if(0===a)return t;t-=(s(t,n,r)-e)/a}return t}(t,o,e,n):0===u?o:function(e,t,n,r,i){for(var a,o,l=0;0<(a=s(o=t+(n-t)/2,r,i)-e)?n=o:t=o,Math.abs(a)>1e-7&&++l<10;);return o}(t,r,r+.1,e,n)}(r),t,i)}}},{}]},{},[1])(1)})),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).Swiper=t()}(this,(function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t(){return(t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function n(e){return null!==e&&"object"==typeof e&&"constructor"in e&&e.constructor===Object}function r(e,t){void 0===e&&(e={}),void 0===t&&(t={}),Object.keys(t).forEach((function(i){void 0===e[i]?e[i]=t[i]:n(t[i])&&n(e[i])&&Object.keys(t[i]).length>0&&r(e[i],t[i])}))}var i={body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},createElementNS:function(){return{}},importNode:function(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function a(){var e="undefined"!=typeof document?document:{};return r(e,i),e}var o={document:i,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState:function(){},pushState:function(){},go:function(){},back:function(){}},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){},matchMedia:function(){return{}},requestAnimationFrame:function(e){return"undefined"==typeof setTimeout?(e(),null):setTimeout(e,0)},cancelAnimationFrame:function(e){"undefined"!=typeof setTimeout&&clearTimeout(e)}};function s(){var e="undefined"!=typeof window?window:{};return r(e,o),e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function h(e,t,n){return(h=c()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&u(i,n.prototype),i}).apply(null,arguments)}function d(e){var t="function"==typeof Map?new Map:void 0;return(d=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return h(e,arguments,l(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),u(r,e)})(e)}var p=function(e){var t,n;function r(t){var n,r,i;return r=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n=e.call.apply(e,[this].concat(t))||this),i=r.__proto__,Object.defineProperty(r,"__proto__",{get:function(){return i},set:function(e){i.__proto__=e}}),n}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r}(d(Array));function f(e){void 0===e&&(e=[]);var t=[];return e.forEach((function(e){Array.isArray(e)?t.push.apply(t,f(e)):t.push(e)})),t}function m(e,t){return Array.prototype.filter.call(e,t)}function v(e,t){var n=s(),r=a(),i=[];if(!t&&e instanceof p)return e;if(!e)return new p(i);if("string"==typeof e){var o=e.trim();if(o.indexOf("<")>=0&&o.indexOf(">")>=0){var l="div";0===o.indexOf("<li")&&(l="ul"),0===o.indexOf("<tr")&&(l="tbody"),0!==o.indexOf("<td")&&0!==o.indexOf("<th")||(l="tr"),0===o.indexOf("<tbody")&&(l="table"),0===o.indexOf("<option")&&(l="select");var u=r.createElement(l);u.innerHTML=o;for(var c=0;c<u.childNodes.length;c+=1)i.push(u.childNodes[c])}else i=function(e,t){if("string"!=typeof e)return[e];for(var n=[],r=t.querySelectorAll(e),i=0;i<r.length;i+=1)n.push(r[i]);return n}(e.trim(),t||r)}else if(e.nodeType||e===n||e===r)i.push(e);else if(Array.isArray(e)){if(e instanceof p)return e;i=e}return new p(function(e){for(var t=[],n=0;n<e.length;n+=1)-1===t.indexOf(e[n])&&t.push(e[n]);return t}(i))}v.fn=p.prototype;var g,y,x,b={addClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=f(t.map((function(e){return e.split(" ")})));return this.forEach((function(e){var t;(t=e.classList).add.apply(t,r)})),this},removeClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=f(t.map((function(e){return e.split(" ")})));return this.forEach((function(e){var t;(t=e.classList).remove.apply(t,r)})),this},hasClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=f(t.map((function(e){return e.split(" ")})));return m(this,(function(e){return r.filter((function(t){return e.classList.contains(t)})).length>0})).length>0},toggleClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=f(t.map((function(e){return e.split(" ")})));this.forEach((function(e){r.forEach((function(t){e.classList.toggle(t)}))}))},attr:function(e,t){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(var n=0;n<this.length;n+=1)if(2===arguments.length)this[n].setAttribute(e,t);else for(var r in e)this[n][r]=e[r],this[n].setAttribute(r,e[r]);return this},removeAttr:function(e){for(var t=0;t<this.length;t+=1)this[t].removeAttribute(e);return this},transform:function(e){for(var t=0;t<this.length;t+=1)this[t].style.transform=e;return this},transition:function(e){for(var t=0;t<this.length;t+=1)this[t].style.transitionDuration="string"!=typeof e?e+"ms":e;return this},on:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],a=t[2],o=t[3];function s(e){var t=e.target;if(t){var n=e.target.dom7EventData||[];if(n.indexOf(e)<0&&n.unshift(e),v(t).is(i))a.apply(t,n);else for(var r=v(t).parents(),o=0;o<r.length;o+=1)v(r[o]).is(i)&&a.apply(r[o],n)}}function l(e){var t=e&&e.target&&e.target.dom7EventData||[];t.indexOf(e)<0&&t.unshift(e),a.apply(this,t)}"function"==typeof t[1]&&(r=t[0],a=t[1],o=t[2],i=void 0),o||(o=!1);for(var u,c=r.split(" "),h=0;h<this.length;h+=1){var d=this[h];if(i)for(u=0;u<c.length;u+=1){var p=c[u];d.dom7LiveListeners||(d.dom7LiveListeners={}),d.dom7LiveListeners[p]||(d.dom7LiveListeners[p]=[]),d.dom7LiveListeners[p].push({listener:a,proxyListener:s}),d.addEventListener(p,s,o)}else for(u=0;u<c.length;u+=1){var f=c[u];d.dom7Listeners||(d.dom7Listeners={}),d.dom7Listeners[f]||(d.dom7Listeners[f]=[]),d.dom7Listeners[f].push({listener:a,proxyListener:l}),d.addEventListener(f,l,o)}}return this},off:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],a=t[2],o=t[3];"function"==typeof t[1]&&(r=t[0],a=t[1],o=t[2],i=void 0),o||(o=!1);for(var s=r.split(" "),l=0;l<s.length;l+=1)for(var u=s[l],c=0;c<this.length;c+=1){var h=this[c],d=void 0;if(!i&&h.dom7Listeners?d=h.dom7Listeners[u]:i&&h.dom7LiveListeners&&(d=h.dom7LiveListeners[u]),d&&d.length)for(var p=d.length-1;p>=0;p-=1){var f=d[p];a&&f.listener===a||a&&f.listener&&f.listener.dom7proxy&&f.listener.dom7proxy===a?(h.removeEventListener(u,f.proxyListener,o),d.splice(p,1)):a||(h.removeEventListener(u,f.proxyListener,o),d.splice(p,1))}}return this},trigger:function(){for(var e=s(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=n[0].split(" "),a=n[1],o=0;o<i.length;o+=1)for(var l=i[o],u=0;u<this.length;u+=1){var c=this[u];if(e.CustomEvent){var h=new e.CustomEvent(l,{detail:a,bubbles:!0,cancelable:!0});c.dom7EventData=n.filter((function(e,t){return t>0})),c.dispatchEvent(h),c.dom7EventData=[],delete c.dom7EventData}}return this},transitionEnd:function(e){var t=this;return e&&t.on("transitionend",(function n(r){r.target===this&&(e.call(this,r),t.off("transitionend",n))})),this},outerWidth:function(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetWidth+parseFloat(t.getPropertyValue("margin-right"))+parseFloat(t.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(e){if(this.length>0){if(e){var t=this.styles();return this[0].offsetHeight+parseFloat(t.getPropertyValue("margin-top"))+parseFloat(t.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},styles:function(){var e=s();return this[0]?e.getComputedStyle(this[0],null):{}},offset:function(){if(this.length>0){var e=s(),t=a(),n=this[0],r=n.getBoundingClientRect(),i=t.body,o=n.clientTop||i.clientTop||0,l=n.clientLeft||i.clientLeft||0,u=n===e?e.scrollY:n.scrollTop,c=n===e?e.scrollX:n.scrollLeft;return{top:r.top+u-o,left:r.left+c-l}}return null},css:function(e,t){var n,r=s();if(1===arguments.length){if("string"!=typeof e){for(n=0;n<this.length;n+=1)for(var i in e)this[n].style[i]=e[i];return this}if(this[0])return r.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(n=0;n<this.length;n+=1)this[n].style[e]=t;return this}return this},each:function(e){return e?(this.forEach((function(t,n){e.apply(t,[t,n])})),this):this},html:function(e){if(void 0===e)return this[0]?this[0].innerHTML:null;for(var t=0;t<this.length;t+=1)this[t].innerHTML=e;return this},text:function(e){if(void 0===e)return this[0]?this[0].textContent.trim():null;for(var t=0;t<this.length;t+=1)this[t].textContent=e;return this},is:function(e){var t,n,r=s(),i=a(),o=this[0];if(!o||void 0===e)return!1;if("string"==typeof e){if(o.matches)return o.matches(e);if(o.webkitMatchesSelector)return o.webkitMatchesSelector(e);if(o.msMatchesSelector)return o.msMatchesSelector(e);for(t=v(e),n=0;n<t.length;n+=1)if(t[n]===o)return!0;return!1}if(e===i)return o===i;if(e===r)return o===r;if(e.nodeType||e instanceof p){for(t=e.nodeType?[e]:e,n=0;n<t.length;n+=1)if(t[n]===o)return!0;return!1}return!1},index:function(){var e,t=this[0];if(t){for(e=0;null!==(t=t.previousSibling);)1===t.nodeType&&(e+=1);return e}},eq:function(e){if(void 0===e)return this;var t=this.length;if(e>t-1)return v([]);if(e<0){var n=t+e;return v(n<0?[]:[this[n]])}return v([this[e]])},append:function(){for(var e,t=a(),n=0;n<arguments.length;n+=1){e=n<0||arguments.length<=n?void 0:arguments[n];for(var r=0;r<this.length;r+=1)if("string"==typeof e){var i=t.createElement("div");for(i.innerHTML=e;i.firstChild;)this[r].appendChild(i.firstChild)}else if(e instanceof p)for(var o=0;o<e.length;o+=1)this[r].appendChild(e[o]);else this[r].appendChild(e)}return this},prepend:function(e){var t,n,r=a();for(t=0;t<this.length;t+=1)if("string"==typeof e){var i=r.createElement("div");for(i.innerHTML=e,n=i.childNodes.length-1;n>=0;n-=1)this[t].insertBefore(i.childNodes[n],this[t].childNodes[0])}else if(e instanceof p)for(n=0;n<e.length;n+=1)this[t].insertBefore(e[n],this[t].childNodes[0]);else this[t].insertBefore(e,this[t].childNodes[0]);return this},next:function(e){return this.length>0?e?this[0].nextElementSibling&&v(this[0].nextElementSibling).is(e)?v([this[0].nextElementSibling]):v([]):this[0].nextElementSibling?v([this[0].nextElementSibling]):v([]):v([])},nextAll:function(e){var t=[],n=this[0];if(!n)return v([]);for(;n.nextElementSibling;){var r=n.nextElementSibling;e?v(r).is(e)&&t.push(r):t.push(r),n=r}return v(t)},prev:function(e){if(this.length>0){var t=this[0];return e?t.previousElementSibling&&v(t.previousElementSibling).is(e)?v([t.previousElementSibling]):v([]):t.previousElementSibling?v([t.previousElementSibling]):v([])}return v([])},prevAll:function(e){var t=[],n=this[0];if(!n)return v([]);for(;n.previousElementSibling;){var r=n.previousElementSibling;e?v(r).is(e)&&t.push(r):t.push(r),n=r}return v(t)},parent:function(e){for(var t=[],n=0;n<this.length;n+=1)null!==this[n].parentNode&&(e?v(this[n].parentNode).is(e)&&t.push(this[n].parentNode):t.push(this[n].parentNode));return v(t)},parents:function(e){for(var t=[],n=0;n<this.length;n+=1)for(var r=this[n].parentNode;r;)e?v(r).is(e)&&t.push(r):t.push(r),r=r.parentNode;return v(t)},closest:function(e){var t=this;return void 0===e?v([]):(t.is(e)||(t=t.parents(e).eq(0)),t)},find:function(e){for(var t=[],n=0;n<this.length;n+=1)for(var r=this[n].querySelectorAll(e),i=0;i<r.length;i+=1)t.push(r[i]);return v(t)},children:function(e){for(var t=[],n=0;n<this.length;n+=1)for(var r=this[n].children,i=0;i<r.length;i+=1)e&&!v(r[i]).is(e)||t.push(r[i]);return v(t)},filter:function(e){return v(m(this,e))},remove:function(){for(var e=0;e<this.length;e+=1)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this}};function _(e,t){return void 0===t&&(t=0),setTimeout(e,t)}function w(){return Date.now()}function E(e,t){void 0===t&&(t="x");var n,r,i,a=s(),o=a.getComputedStyle(e,null);return a.WebKitCSSMatrix?((r=o.transform||o.webkitTransform).split(",").length>6&&(r=r.split(", ").map((function(e){return e.replace(",",".")})).join(", ")),i=new a.WebKitCSSMatrix("none"===r?"":r)):n=(i=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===t&&(r=a.WebKitCSSMatrix?i.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===t&&(r=a.WebKitCSSMatrix?i.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),r||0}function T(e){return"object"==typeof e&&null!==e&&e.constructor&&e.constructor===Object}function M(){for(var e=Object(arguments.length<=0?void 0:arguments[0]),t=1;t<arguments.length;t+=1){var n=t<0||arguments.length<=t?void 0:arguments[t];if(null!=n)for(var r=Object.keys(Object(n)),i=0,a=r.length;i<a;i+=1){var o=r[i],s=Object.getOwnPropertyDescriptor(n,o);void 0!==s&&s.enumerable&&(T(e[o])&&T(n[o])?M(e[o],n[o]):!T(e[o])&&T(n[o])?(e[o]={},M(e[o],n[o])):e[o]=n[o])}}return e}function S(e,t){Object.keys(t).forEach((function(n){T(t[n])&&Object.keys(t[n]).forEach((function(r){"function"==typeof t[n][r]&&(t[n][r]=t[n][r].bind(e))})),e[n]=t[n]}))}function A(){return g||(g=function(){var e=s(),t=a();return{touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch),pointerEvents:!!e.PointerEvent&&"maxTouchPoints"in e.navigator&&e.navigator.maxTouchPoints>=0,observer:"MutationObserver"in e||"WebkitMutationObserver"in e,passiveListener:function(){var t=!1;try{var n=Object.defineProperty({},"passive",{get:function(){t=!0}});e.addEventListener("testPassiveListener",null,n)}catch(e){}return t}(),gestures:"ongesturestart"in e}}()),g}function C(e){return void 0===e&&(e={}),y||(y=function(e){var t=(void 0===e?{}:e).userAgent,n=A(),r=s(),i=r.navigator.platform,a=t||r.navigator.userAgent,o={ios:!1,android:!1},l=r.screen.width,u=r.screen.height,c=a.match(/(Android);?[\s\/]+([\d.]+)?/),h=a.match(/(iPad).*OS\s([\d_]+)/),d=a.match(/(iPod)(.*OS\s([\d_]+))?/),p=!h&&a.match(/(iPhone\sOS|iOS)\s([\d_]+)/),f="Win32"===i,m="MacIntel"===i;return!h&&m&&n.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(l+"x"+u)>=0&&((h=a.match(/(Version)\/([\d.]+)/))||(h=[0,1,"13_0_0"]),m=!1),c&&!f&&(o.os="android",o.android=!0),(h||p||d)&&(o.os="ios",o.ios=!0),o}(e)),y}function L(){return x||(x=function(){var e,t=s();return{isEdge:!!t.navigator.userAgent.match(/Edge/g),isSafari:(e=t.navigator.userAgent.toLowerCase(),e.indexOf("safari")>=0&&e.indexOf("chrome")<0&&e.indexOf("android")<0),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)}}()),x}Object.keys(b).forEach((function(e){v.fn[e]=b[e]}));var P={name:"resize",create:function(){var e=this;M(e,{resize:{resizeHandler:function(){e&&!e.destroyed&&e.initialized&&(e.emit("beforeResize"),e.emit("resize"))},orientationChangeHandler:function(){e&&!e.destroyed&&e.initialized&&e.emit("orientationchange")}}})},on:{init:function(e){var t=s();t.addEventListener("resize",e.resize.resizeHandler),t.addEventListener("orientationchange",e.resize.orientationChangeHandler)},destroy:function(e){var t=s();t.removeEventListener("resize",e.resize.resizeHandler),t.removeEventListener("orientationchange",e.resize.orientationChangeHandler)}}},R={attach:function(e,t){void 0===t&&(t={});var n=s(),r=this,i=new(n.MutationObserver||n.WebkitMutationObserver)((function(e){if(1!==e.length){var t=function(){r.emit("observerUpdate",e[0])};n.requestAnimationFrame?n.requestAnimationFrame(t):n.setTimeout(t,0)}else r.emit("observerUpdate",e[0])}));i.observe(e,{attributes:void 0===t.attributes||t.attributes,childList:void 0===t.childList||t.childList,characterData:void 0===t.characterData||t.characterData}),r.observer.observers.push(i)},init:function(){var e=this;if(e.support.observer&&e.params.observer){if(e.params.observeParents)for(var t=e.$el.parents(),n=0;n<t.length;n+=1)e.observer.attach(t[n]);e.observer.attach(e.$el[0],{childList:e.params.observeSlideChildren}),e.observer.attach(e.$wrapperEl[0],{attributes:!1})}},destroy:function(){this.observer.observers.forEach((function(e){e.disconnect()})),this.observer.observers=[]}},I={name:"observer",params:{observer:!1,observeParents:!1,observeSlideChildren:!1},create:function(){S(this,{observer:t({},R,{observers:[]})})},on:{init:function(e){e.observer.init()},destroy:function(e){e.observer.destroy()}}};function D(e){var t=this,n=a(),r=s(),i=t.touchEventsData,o=t.params,l=t.touches;if(!t.animating||!o.preventInteractionOnTransition){var u=e;u.originalEvent&&(u=u.originalEvent);var c=v(u.target);if(("wrapper"!==o.touchEventsTarget||c.closest(t.wrapperEl).length)&&(i.isTouchEvent="touchstart"===u.type,(i.isTouchEvent||!("which"in u)||3!==u.which)&&!(!i.isTouchEvent&&"button"in u&&u.button>0||i.isTouched&&i.isMoved)))if(!!o.noSwipingClass&&""!==o.noSwipingClass&&u.target&&u.target.shadowRoot&&e.path&&e.path[0]&&(c=v(e.path[0])),o.noSwiping&&c.closest(o.noSwipingSelector?o.noSwipingSelector:"."+o.noSwipingClass)[0])t.allowClick=!0;else if(!o.swipeHandler||c.closest(o.swipeHandler)[0]){l.currentX="touchstart"===u.type?u.targetTouches[0].pageX:u.pageX,l.currentY="touchstart"===u.type?u.targetTouches[0].pageY:u.pageY;var h=l.currentX,d=l.currentY,p=o.edgeSwipeDetection||o.iOSEdgeSwipeDetection,f=o.edgeSwipeThreshold||o.iOSEdgeSwipeThreshold;if(p&&(h<=f||h>=r.innerWidth-f)){if("prevent"!==p)return;e.preventDefault()}if(M(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),l.startX=h,l.startY=d,i.touchStartTime=w(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,o.threshold>0&&(i.allowThresholdMove=!1),"touchstart"!==u.type){var m=!0;c.is(i.formElements)&&(m=!1),n.activeElement&&v(n.activeElement).is(i.formElements)&&n.activeElement!==c[0]&&n.activeElement.blur();var g=m&&t.allowTouchMove&&o.touchStartPreventDefault;!o.touchStartForcePreventDefault&&!g||c[0].isContentEditable||u.preventDefault()}t.emit("touchStart",u)}}}function O(e){var t=a(),n=this,r=n.touchEventsData,i=n.params,o=n.touches,s=n.rtlTranslate,l=e;if(l.originalEvent&&(l=l.originalEvent),r.isTouched){if(!r.isTouchEvent||"touchmove"===l.type){var u="touchmove"===l.type&&l.targetTouches&&(l.targetTouches[0]||l.changedTouches[0]),c="touchmove"===l.type?u.pageX:l.pageX,h="touchmove"===l.type?u.pageY:l.pageY;if(l.preventedByNestedSwiper)return o.startX=c,void(o.startY=h);if(!n.allowTouchMove)return n.allowClick=!1,void(r.isTouched&&(M(o,{startX:c,startY:h,currentX:c,currentY:h}),r.touchStartTime=w()));if(r.isTouchEvent&&i.touchReleaseOnEdges&&!i.loop)if(n.isVertical()){if(h<o.startY&&n.translate<=n.maxTranslate()||h>o.startY&&n.translate>=n.minTranslate())return r.isTouched=!1,void(r.isMoved=!1)}else if(c<o.startX&&n.translate<=n.maxTranslate()||c>o.startX&&n.translate>=n.minTranslate())return;if(r.isTouchEvent&&t.activeElement&&l.target===t.activeElement&&v(l.target).is(r.formElements))return r.isMoved=!0,void(n.allowClick=!1);if(r.allowTouchCallbacks&&n.emit("touchMove",l),!(l.targetTouches&&l.targetTouches.length>1)){o.currentX=c,o.currentY=h;var d,p=o.currentX-o.startX,f=o.currentY-o.startY;if(!(n.params.threshold&&Math.sqrt(Math.pow(p,2)+Math.pow(f,2))<n.params.threshold))if(void 0===r.isScrolling&&(n.isHorizontal()&&o.currentY===o.startY||n.isVertical()&&o.currentX===o.startX?r.isScrolling=!1:p*p+f*f>=25&&(d=180*Math.atan2(Math.abs(f),Math.abs(p))/Math.PI,r.isScrolling=n.isHorizontal()?d>i.touchAngle:90-d>i.touchAngle)),r.isScrolling&&n.emit("touchMoveOpposite",l),void 0===r.startMoving&&(o.currentX===o.startX&&o.currentY===o.startY||(r.startMoving=!0)),r.isScrolling)r.isTouched=!1;else if(r.startMoving){n.allowClick=!1,!i.cssMode&&l.cancelable&&l.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&l.stopPropagation(),r.isMoved||(i.loop&&n.loopFix(),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating&&n.$wrapperEl.trigger("webkitTransitionEnd transitionend"),r.allowMomentumBounce=!1,!i.grabCursor||!0!==n.allowSlideNext&&!0!==n.allowSlidePrev||n.setGrabCursor(!0),n.emit("sliderFirstMove",l)),n.emit("sliderMove",l),r.isMoved=!0;var m=n.isHorizontal()?p:f;o.diff=m,m*=i.touchRatio,s&&(m=-m),n.swipeDirection=m>0?"prev":"next",r.currentTranslate=m+r.startTranslate;var g=!0,y=i.resistanceRatio;if(i.touchReleaseOnEdges&&(y=0),m>0&&r.currentTranslate>n.minTranslate()?(g=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+Math.pow(-n.minTranslate()+r.startTranslate+m,y))):m<0&&r.currentTranslate<n.maxTranslate()&&(g=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-Math.pow(n.maxTranslate()-r.startTranslate-m,y))),g&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&"next"===n.swipeDirection&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&"prev"===n.swipeDirection&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),i.threshold>0){if(!(Math.abs(m)>i.threshold||r.allowThresholdMove))return void(r.currentTranslate=r.startTranslate);if(!r.allowThresholdMove)return r.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,r.currentTranslate=r.startTranslate,void(o.diff=n.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY)}i.followFinger&&!i.cssMode&&((i.freeMode||i.watchSlidesProgress||i.watchSlidesVisibility)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&(0===r.velocities.length&&r.velocities.push({position:o[n.isHorizontal()?"startX":"startY"],time:r.touchStartTime}),r.velocities.push({position:o[n.isHorizontal()?"currentX":"currentY"],time:w()})),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}}}}else r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",l)}function N(e){var t=this,n=t.touchEventsData,r=t.params,i=t.touches,a=t.rtlTranslate,o=t.$wrapperEl,s=t.slidesGrid,l=t.snapGrid,u=e;if(u.originalEvent&&(u=u.originalEvent),n.allowTouchCallbacks&&t.emit("touchEnd",u),n.allowTouchCallbacks=!1,!n.isTouched)return n.isMoved&&r.grabCursor&&t.setGrabCursor(!1),n.isMoved=!1,void(n.startMoving=!1);r.grabCursor&&n.isMoved&&n.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);var c,h=w(),d=h-n.touchStartTime;if(t.allowClick&&(t.updateClickedSlide(u),t.emit("tap click",u),d<300&&h-n.lastClickTime<300&&t.emit("doubleTap doubleClick",u)),n.lastClickTime=w(),_((function(){t.destroyed||(t.allowClick=!0)})),!n.isTouched||!n.isMoved||!t.swipeDirection||0===i.diff||n.currentTranslate===n.startTranslate)return n.isTouched=!1,n.isMoved=!1,void(n.startMoving=!1);if(n.isTouched=!1,n.isMoved=!1,n.startMoving=!1,c=r.followFinger?a?t.translate:-t.translate:-n.currentTranslate,!r.cssMode)if(r.freeMode){if(c<-t.minTranslate())return void t.slideTo(t.activeIndex);if(c>-t.maxTranslate())return void(t.slides.length<l.length?t.slideTo(l.length-1):t.slideTo(t.slides.length-1));if(r.freeModeMomentum){if(n.velocities.length>1){var p=n.velocities.pop(),f=n.velocities.pop(),m=p.position-f.position,v=p.time-f.time;t.velocity=m/v,t.velocity/=2,Math.abs(t.velocity)<r.freeModeMinimumVelocity&&(t.velocity=0),(v>150||w()-p.time>300)&&(t.velocity=0)}else t.velocity=0;t.velocity*=r.freeModeMomentumVelocityRatio,n.velocities.length=0;var g=1e3*r.freeModeMomentumRatio,y=t.velocity*g,x=t.translate+y;a&&(x=-x);var b,E,T=!1,M=20*Math.abs(t.velocity)*r.freeModeMomentumBounceRatio;if(x<t.maxTranslate())r.freeModeMomentumBounce?(x+t.maxTranslate()<-M&&(x=t.maxTranslate()-M),b=t.maxTranslate(),T=!0,n.allowMomentumBounce=!0):x=t.maxTranslate(),r.loop&&r.centeredSlides&&(E=!0);else if(x>t.minTranslate())r.freeModeMomentumBounce?(x-t.minTranslate()>M&&(x=t.minTranslate()+M),b=t.minTranslate(),T=!0,n.allowMomentumBounce=!0):x=t.minTranslate(),r.loop&&r.centeredSlides&&(E=!0);else if(r.freeModeSticky){for(var S,A=0;A<l.length;A+=1)if(l[A]>-x){S=A;break}x=-(x=Math.abs(l[S]-x)<Math.abs(l[S-1]-x)||"next"===t.swipeDirection?l[S]:l[S-1])}if(E&&t.once("transitionEnd",(function(){t.loopFix()})),0!==t.velocity){if(g=a?Math.abs((-x-t.translate)/t.velocity):Math.abs((x-t.translate)/t.velocity),r.freeModeSticky){var C=Math.abs((a?-x:x)-t.translate),L=t.slidesSizesGrid[t.activeIndex];g=C<L?r.speed:C<2*L?1.5*r.speed:2.5*r.speed}}else if(r.freeModeSticky)return void t.slideToClosest();r.freeModeMomentumBounce&&T?(t.updateProgress(b),t.setTransition(g),t.setTranslate(x),t.transitionStart(!0,t.swipeDirection),t.animating=!0,o.transitionEnd((function(){t&&!t.destroyed&&n.allowMomentumBounce&&(t.emit("momentumBounce"),t.setTransition(r.speed),setTimeout((function(){t.setTranslate(b),o.transitionEnd((function(){t&&!t.destroyed&&t.transitionEnd()}))}),0))}))):t.velocity?(t.updateProgress(x),t.setTransition(g),t.setTranslate(x),t.transitionStart(!0,t.swipeDirection),t.animating||(t.animating=!0,o.transitionEnd((function(){t&&!t.destroyed&&t.transitionEnd()})))):t.updateProgress(x),t.updateActiveIndex(),t.updateSlidesClasses()}else if(r.freeModeSticky)return void t.slideToClosest();(!r.freeModeMomentum||d>=r.longSwipesMs)&&(t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses())}else{for(var P=0,R=t.slidesSizesGrid[0],I=0;I<s.length;I+=I<r.slidesPerGroupSkip?1:r.slidesPerGroup){var D=I<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;void 0!==s[I+D]?c>=s[I]&&c<s[I+D]&&(P=I,R=s[I+D]-s[I]):c>=s[I]&&(P=I,R=s[s.length-1]-s[s.length-2])}var O=(c-s[P])/R,N=P<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(d>r.longSwipesMs){if(!r.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(O>=r.longSwipesRatio?t.slideTo(P+N):t.slideTo(P)),"prev"===t.swipeDirection&&(O>1-r.longSwipesRatio?t.slideTo(P+N):t.slideTo(P))}else{if(!r.shortSwipes)return void t.slideTo(t.activeIndex);!t.navigation||u.target!==t.navigation.nextEl&&u.target!==t.navigation.prevEl?("next"===t.swipeDirection&&t.slideTo(P+N),"prev"===t.swipeDirection&&t.slideTo(P)):u.target===t.navigation.nextEl?t.slideTo(P+N):t.slideTo(P)}}}function z(){var e=this,t=e.params,n=e.el;if(!n||0!==n.offsetWidth){t.breakpoints&&e.setBreakpoint();var r=e.allowSlideNext,i=e.allowSlidePrev,a=e.snapGrid;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses(),("auto"===t.slidesPerView||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.run(),e.allowSlidePrev=i,e.allowSlideNext=r,e.params.watchOverflow&&a!==e.snapGrid&&e.checkOverflow()}}function U(e){var t=this;t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation()))}function B(){var e=this,t=e.wrapperEl,n=e.rtlTranslate;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=n?t.scrollWidth-t.offsetWidth-t.scrollLeft:-t.scrollLeft:e.translate=-t.scrollTop,-0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();var r=e.maxTranslate()-e.minTranslate();(0===r?0:(e.translate-e.minTranslate())/r)!==e.progress&&e.updateProgress(n?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}var k=!1;function F(){}var G={init:!0,direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,nested:!1,width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,slidesPerGroupSkip:0,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!1,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,containerModifierClass:"swiper-container-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1},H={modular:{useParams:function(e){var t=this;t.modules&&Object.keys(t.modules).forEach((function(n){var r=t.modules[n];r.params&&M(e,r.params)}))},useModules:function(e){void 0===e&&(e={});var t=this;t.modules&&Object.keys(t.modules).forEach((function(n){var r=t.modules[n],i=e[n]||{};r.on&&t.on&&Object.keys(r.on).forEach((function(e){t.on(e,r.on[e])})),r.create&&r.create.bind(t)(i)}))}},eventsEmitter:{on:function(e,t,n){var r=this;if("function"!=typeof t)return r;var i=n?"unshift":"push";return e.split(" ").forEach((function(e){r.eventsListeners[e]||(r.eventsListeners[e]=[]),r.eventsListeners[e][i](t)})),r},once:function(e,t,n){var r=this;if("function"!=typeof t)return r;function i(){r.off(e,i),i.__emitterProxy&&delete i.__emitterProxy;for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];t.apply(r,a)}return i.__emitterProxy=t,r.on(e,i,n)},onAny:function(e,t){var n=this;if("function"!=typeof e)return n;var r=t?"unshift":"push";return n.eventsAnyListeners.indexOf(e)<0&&n.eventsAnyListeners[r](e),n},offAny:function(e){var t=this;if(!t.eventsAnyListeners)return t;var n=t.eventsAnyListeners.indexOf(e);return n>=0&&t.eventsAnyListeners.splice(n,1),t},off:function(e,t){var n=this;return n.eventsListeners?(e.split(" ").forEach((function(e){void 0===t?n.eventsListeners[e]=[]:n.eventsListeners[e]&&n.eventsListeners[e].forEach((function(r,i){(r===t||r.__emitterProxy&&r.__emitterProxy===t)&&n.eventsListeners[e].splice(i,1)}))})),n):n},emit:function(){var e,t,n,r=this;if(!r.eventsListeners)return r;for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];"string"==typeof a[0]||Array.isArray(a[0])?(e=a[0],t=a.slice(1,a.length),n=r):(e=a[0].events,t=a[0].data,n=a[0].context||r),t.unshift(n);var s=Array.isArray(e)?e:e.split(" ");return s.forEach((function(e){r.eventsAnyListeners&&r.eventsAnyListeners.length&&r.eventsAnyListeners.forEach((function(r){r.apply(n,[e].concat(t))})),r.eventsListeners&&r.eventsListeners[e]&&r.eventsListeners[e].forEach((function(e){e.apply(n,t)}))})),r}},update:{updateSize:function(){var e,t,n=this,r=n.$el;e=void 0!==n.params.width&&null!==n.params.width?n.params.width:r[0].clientWidth,t=void 0!==n.params.height&&null!==n.params.height?n.params.height:r[0].clientHeight,0===e&&n.isHorizontal()||0===t&&n.isVertical()||(e=e-parseInt(r.css("padding-left")||0,10)-parseInt(r.css("padding-right")||0,10),t=t-parseInt(r.css("padding-top")||0,10)-parseInt(r.css("padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),M(n,{width:e,height:t,size:n.isHorizontal()?e:t}))},updateSlides:function(){var e=this,t=s(),n=e.params,r=e.$wrapperEl,i=e.size,a=e.rtlTranslate,o=e.wrongRTL,l=e.virtual&&n.virtual.enabled,u=l?e.virtual.slides.length:e.slides.length,c=r.children("."+e.params.slideClass),h=l?e.virtual.slides.length:c.length,d=[],p=[],f=[];function m(e,t){return!n.cssMode||t!==c.length-1}var v=n.slidesOffsetBefore;"function"==typeof v&&(v=n.slidesOffsetBefore.call(e));var g=n.slidesOffsetAfter;"function"==typeof g&&(g=n.slidesOffsetAfter.call(e));var y=e.snapGrid.length,x=e.slidesGrid.length,b=n.spaceBetween,_=-v,w=0,E=0;if(void 0!==i){var T,S;"string"==typeof b&&b.indexOf("%")>=0&&(b=parseFloat(b.replace("%",""))/100*i),e.virtualSize=-b,a?c.css({marginLeft:"",marginTop:""}):c.css({marginRight:"",marginBottom:""}),n.slidesPerColumn>1&&(T=Math.floor(h/n.slidesPerColumn)===h/e.params.slidesPerColumn?h:Math.ceil(h/n.slidesPerColumn)*n.slidesPerColumn,"auto"!==n.slidesPerView&&"row"===n.slidesPerColumnFill&&(T=Math.max(T,n.slidesPerView*n.slidesPerColumn)));for(var A,C=n.slidesPerColumn,L=T/C,P=Math.floor(h/n.slidesPerColumn),R=0;R<h;R+=1){S=0;var I=c.eq(R);if(n.slidesPerColumn>1){var D=void 0,O=void 0,N=void 0;if("row"===n.slidesPerColumnFill&&n.slidesPerGroup>1){var z=Math.floor(R/(n.slidesPerGroup*n.slidesPerColumn)),U=R-n.slidesPerColumn*n.slidesPerGroup*z,B=0===z?n.slidesPerGroup:Math.min(Math.ceil((h-z*C*n.slidesPerGroup)/C),n.slidesPerGroup);D=(O=U-(N=Math.floor(U/B))*B+z*n.slidesPerGroup)+N*T/C,I.css({"-webkit-box-ordinal-group":D,"-moz-box-ordinal-group":D,"-ms-flex-order":D,"-webkit-order":D,order:D})}else"column"===n.slidesPerColumnFill?(N=R-(O=Math.floor(R/C))*C,(O>P||O===P&&N===C-1)&&(N+=1)>=C&&(N=0,O+=1)):O=R-(N=Math.floor(R/L))*L;I.css("margin-"+(e.isHorizontal()?"top":"left"),0!==N&&n.spaceBetween&&n.spaceBetween+"px")}if("none"!==I.css("display")){if("auto"===n.slidesPerView){var k=t.getComputedStyle(I[0],null),F=I[0].style.transform,G=I[0].style.webkitTransform;if(F&&(I[0].style.transform="none"),G&&(I[0].style.webkitTransform="none"),n.roundLengths)S=e.isHorizontal()?I.outerWidth(!0):I.outerHeight(!0);else if(e.isHorizontal()){var H=parseFloat(k.getPropertyValue("width")||0),j=parseFloat(k.getPropertyValue("padding-left")||0),V=parseFloat(k.getPropertyValue("padding-right")||0),W=parseFloat(k.getPropertyValue("margin-left")||0),X=parseFloat(k.getPropertyValue("margin-right")||0),q=k.getPropertyValue("box-sizing");if(q&&"border-box"===q)S=H+W+X;else{var Y=I[0],$=Y.clientWidth;S=H+j+V+W+X+(Y.offsetWidth-$)}}else{var Z=parseFloat(k.getPropertyValue("height")||0),J=parseFloat(k.getPropertyValue("padding-top")||0),Q=parseFloat(k.getPropertyValue("padding-bottom")||0),K=parseFloat(k.getPropertyValue("margin-top")||0),ee=parseFloat(k.getPropertyValue("margin-bottom")||0),te=k.getPropertyValue("box-sizing");if(te&&"border-box"===te)S=Z+K+ee;else{var ne=I[0],re=ne.clientHeight;S=Z+J+Q+K+ee+(ne.offsetHeight-re)}}F&&(I[0].style.transform=F),G&&(I[0].style.webkitTransform=G),n.roundLengths&&(S=Math.floor(S))}else S=(i-(n.slidesPerView-1)*b)/n.slidesPerView,n.roundLengths&&(S=Math.floor(S)),c[R]&&(e.isHorizontal()?c[R].style.width=S+"px":c[R].style.height=S+"px");c[R]&&(c[R].swiperSlideSize=S),f.push(S),n.centeredSlides?(_=_+S/2+w/2+b,0===w&&0!==R&&(_=_-i/2-b),0===R&&(_=_-i/2-b),Math.abs(_)<.001&&(_=0),n.roundLengths&&(_=Math.floor(_)),E%n.slidesPerGroup==0&&d.push(_),p.push(_)):(n.roundLengths&&(_=Math.floor(_)),(E-Math.min(e.params.slidesPerGroupSkip,E))%e.params.slidesPerGroup==0&&d.push(_),p.push(_),_=_+S+b),e.virtualSize+=S+b,w=S,E+=1}}if(e.virtualSize=Math.max(e.virtualSize,i)+g,a&&o&&("slide"===n.effect||"coverflow"===n.effect)&&r.css({width:e.virtualSize+n.spaceBetween+"px"}),n.setWrapperSize&&(e.isHorizontal()?r.css({width:e.virtualSize+n.spaceBetween+"px"}):r.css({height:e.virtualSize+n.spaceBetween+"px"})),n.slidesPerColumn>1&&(e.virtualSize=(S+n.spaceBetween)*T,e.virtualSize=Math.ceil(e.virtualSize/n.slidesPerColumn)-n.spaceBetween,e.isHorizontal()?r.css({width:e.virtualSize+n.spaceBetween+"px"}):r.css({height:e.virtualSize+n.spaceBetween+"px"}),n.centeredSlides)){A=[];for(var ie=0;ie<d.length;ie+=1){var ae=d[ie];n.roundLengths&&(ae=Math.floor(ae)),d[ie]<e.virtualSize+d[0]&&A.push(ae)}d=A}if(!n.centeredSlides){A=[];for(var oe=0;oe<d.length;oe+=1){var se=d[oe];n.roundLengths&&(se=Math.floor(se)),d[oe]<=e.virtualSize-i&&A.push(se)}d=A,!e.params.freeMode&&Math.floor(e.virtualSize-i)-Math.floor(d[d.length-1])>1&&d.push(e.virtualSize-i)}if(0===d.length&&(d=[0]),0!==n.spaceBetween&&(e.isHorizontal()?a?c.filter(m).css({marginLeft:b+"px"}):c.filter(m).css({marginRight:b+"px"}):c.filter(m).css({marginBottom:b+"px"})),n.centeredSlides&&n.centeredSlidesBounds){var le=0;f.forEach((function(e){le+=e+(n.spaceBetween?n.spaceBetween:0)}));var ue=(le-=n.spaceBetween)-i;d=d.map((function(e){return e<0?-v:e>ue?ue+g:e}))}if(n.centerInsufficientSlides){var ce=0;if(f.forEach((function(e){ce+=e+(n.spaceBetween?n.spaceBetween:0)})),(ce-=n.spaceBetween)<i){var he=(i-ce)/2;d.forEach((function(e,t){d[t]=e-he})),p.forEach((function(e,t){p[t]=e+he}))}}M(e,{slides:c,snapGrid:d,slidesGrid:p,slidesSizesGrid:f}),h!==u&&e.emit("slidesLengthChange"),d.length!==y&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),p.length!==x&&e.emit("slidesGridLengthChange"),(n.watchSlidesProgress||n.watchSlidesVisibility)&&e.updateSlidesOffset()}},updateAutoHeight:function(e){var t,n=this,r=[],i=0;if("number"==typeof e?n.setTransition(e):!0===e&&n.setTransition(n.params.speed),"auto"!==n.params.slidesPerView&&n.params.slidesPerView>1)if(n.params.centeredSlides)n.visibleSlides.each((function(e){r.push(e)}));else for(t=0;t<Math.ceil(n.params.slidesPerView);t+=1){var a=n.activeIndex+t;if(a>n.slides.length)break;r.push(n.slides.eq(a)[0])}else r.push(n.slides.eq(n.activeIndex)[0]);for(t=0;t<r.length;t+=1)if(void 0!==r[t]){var o=r[t].offsetHeight;i=o>i?o:i}i&&n.$wrapperEl.css("height",i+"px")},updateSlidesOffset:function(){for(var e=this.slides,t=0;t<e.length;t+=1)e[t].swiperSlideOffset=this.isHorizontal()?e[t].offsetLeft:e[t].offsetTop},updateSlidesProgress:function(e){void 0===e&&(e=this&&this.translate||0);var t=this,n=t.params,r=t.slides,i=t.rtlTranslate;if(0!==r.length){void 0===r[0].swiperSlideOffset&&t.updateSlidesOffset();var a=-e;i&&(a=e),r.removeClass(n.slideVisibleClass),t.visibleSlidesIndexes=[],t.visibleSlides=[];for(var o=0;o<r.length;o+=1){var s=r[o],l=(a+(n.centeredSlides?t.minTranslate():0)-s.swiperSlideOffset)/(s.swiperSlideSize+n.spaceBetween);if(n.watchSlidesVisibility||n.centeredSlides&&n.autoHeight){var u=-(a-s.swiperSlideOffset),c=u+t.slidesSizesGrid[o];(u>=0&&u<t.size-1||c>1&&c<=t.size||u<=0&&c>=t.size)&&(t.visibleSlides.push(s),t.visibleSlidesIndexes.push(o),r.eq(o).addClass(n.slideVisibleClass))}s.progress=i?-l:l}t.visibleSlides=v(t.visibleSlides)}},updateProgress:function(e){var t=this;if(void 0===e){var n=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*n||0}var r=t.params,i=t.maxTranslate()-t.minTranslate(),a=t.progress,o=t.isBeginning,s=t.isEnd,l=o,u=s;0===i?(a=0,o=!0,s=!0):(o=(a=(e-t.minTranslate())/i)<=0,s=a>=1),M(t,{progress:a,isBeginning:o,isEnd:s}),(r.watchSlidesProgress||r.watchSlidesVisibility||r.centeredSlides&&r.autoHeight)&&t.updateSlidesProgress(e),o&&!l&&t.emit("reachBeginning toEdge"),s&&!u&&t.emit("reachEnd toEdge"),(l&&!o||u&&!s)&&t.emit("fromEdge"),t.emit("progress",a)},updateSlidesClasses:function(){var e,t=this,n=t.slides,r=t.params,i=t.$wrapperEl,a=t.activeIndex,o=t.realIndex,s=t.virtual&&r.virtual.enabled;n.removeClass(r.slideActiveClass+" "+r.slideNextClass+" "+r.slidePrevClass+" "+r.slideDuplicateActiveClass+" "+r.slideDuplicateNextClass+" "+r.slideDuplicatePrevClass),(e=s?t.$wrapperEl.find("."+r.slideClass+'[data-swiper-slide-index="'+a+'"]'):n.eq(a)).addClass(r.slideActiveClass),r.loop&&(e.hasClass(r.slideDuplicateClass)?i.children("."+r.slideClass+":not(."+r.slideDuplicateClass+')[data-swiper-slide-index="'+o+'"]').addClass(r.slideDuplicateActiveClass):i.children("."+r.slideClass+"."+r.slideDuplicateClass+'[data-swiper-slide-index="'+o+'"]').addClass(r.slideDuplicateActiveClass));var l=e.nextAll("."+r.slideClass).eq(0).addClass(r.slideNextClass);r.loop&&0===l.length&&(l=n.eq(0)).addClass(r.slideNextClass);var u=e.prevAll("."+r.slideClass).eq(0).addClass(r.slidePrevClass);r.loop&&0===u.length&&(u=n.eq(-1)).addClass(r.slidePrevClass),r.loop&&(l.hasClass(r.slideDuplicateClass)?i.children("."+r.slideClass+":not(."+r.slideDuplicateClass+')[data-swiper-slide-index="'+l.attr("data-swiper-slide-index")+'"]').addClass(r.slideDuplicateNextClass):i.children("."+r.slideClass+"."+r.slideDuplicateClass+'[data-swiper-slide-index="'+l.attr("data-swiper-slide-index")+'"]').addClass(r.slideDuplicateNextClass),u.hasClass(r.slideDuplicateClass)?i.children("."+r.slideClass+":not(."+r.slideDuplicateClass+')[data-swiper-slide-index="'+u.attr("data-swiper-slide-index")+'"]').addClass(r.slideDuplicatePrevClass):i.children("."+r.slideClass+"."+r.slideDuplicateClass+'[data-swiper-slide-index="'+u.attr("data-swiper-slide-index")+'"]').addClass(r.slideDuplicatePrevClass)),t.emitSlidesClasses()},updateActiveIndex:function(e){var t,n=this,r=n.rtlTranslate?n.translate:-n.translate,i=n.slidesGrid,a=n.snapGrid,o=n.params,s=n.activeIndex,l=n.realIndex,u=n.snapIndex,c=e;if(void 0===c){for(var h=0;h<i.length;h+=1)void 0!==i[h+1]?r>=i[h]&&r<i[h+1]-(i[h+1]-i[h])/2?c=h:r>=i[h]&&r<i[h+1]&&(c=h+1):r>=i[h]&&(c=h);o.normalizeSlideIndex&&(c<0||void 0===c)&&(c=0)}if(a.indexOf(r)>=0)t=a.indexOf(r);else{var d=Math.min(o.slidesPerGroupSkip,c);t=d+Math.floor((c-d)/o.slidesPerGroup)}if(t>=a.length&&(t=a.length-1),c!==s){var p=parseInt(n.slides.eq(c).attr("data-swiper-slide-index")||c,10);M(n,{snapIndex:t,realIndex:p,previousIndex:s,activeIndex:c}),n.emit("activeIndexChange"),n.emit("snapIndexChange"),l!==p&&n.emit("realIndexChange"),(n.initialized||n.params.runCallbacksOnInit)&&n.emit("slideChange")}else t!==u&&(n.snapIndex=t,n.emit("snapIndexChange"))},updateClickedSlide:function(e){var t=this,n=t.params,r=v(e.target).closest("."+n.slideClass)[0],i=!1;if(r)for(var a=0;a<t.slides.length;a+=1)t.slides[a]===r&&(i=!0);if(!r||!i)return t.clickedSlide=void 0,void(t.clickedIndex=void 0);t.clickedSlide=r,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(v(r).attr("data-swiper-slide-index"),10):t.clickedIndex=v(r).index(),n.slideToClickedSlide&&void 0!==t.clickedIndex&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}},translate:{getTranslate:function(e){void 0===e&&(e=this.isHorizontal()?"x":"y");var t=this,n=t.params,r=t.rtlTranslate,i=t.translate,a=t.$wrapperEl;if(n.virtualTranslate)return r?-i:i;if(n.cssMode)return i;var o=E(a[0],e);return r&&(o=-o),o||0},setTranslate:function(e,t){var n=this,r=n.rtlTranslate,i=n.params,a=n.$wrapperEl,o=n.wrapperEl,s=n.progress,l=0,u=0;n.isHorizontal()?l=r?-e:e:u=e,i.roundLengths&&(l=Math.floor(l),u=Math.floor(u)),i.cssMode?o[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-u:i.virtualTranslate||a.transform("translate3d("+l+"px, "+u+"px, 0px)"),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:u;var c=n.maxTranslate()-n.minTranslate();(0===c?0:(e-n.minTranslate())/c)!==s&&n.updateProgress(e),n.emit("setTranslate",n.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(e,t,n,r,i){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===n&&(n=!0),void 0===r&&(r=!0);var a=this,o=a.params,s=a.wrapperEl;if(a.animating&&o.preventInteractionOnTransition)return!1;var l,u=a.minTranslate(),c=a.maxTranslate();if(l=r&&e>u?u:r&&e<c?c:e,a.updateProgress(l),o.cssMode){var h,d=a.isHorizontal();return 0===t?s[d?"scrollLeft":"scrollTop"]=-l:s.scrollTo?s.scrollTo(((h={})[d?"left":"top"]=-l,h.behavior="smooth",h)):s[d?"scrollLeft":"scrollTop"]=-l,!0}return 0===t?(a.setTransition(0),a.setTranslate(l),n&&(a.emit("beforeTransitionStart",t,i),a.emit("transitionEnd"))):(a.setTransition(t),a.setTranslate(l),n&&(a.emit("beforeTransitionStart",t,i),a.emit("transitionStart")),a.animating||(a.animating=!0,a.onTranslateToWrapperTransitionEnd||(a.onTranslateToWrapperTransitionEnd=function(e){a&&!a.destroyed&&e.target===this&&(a.$wrapperEl[0].removeEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.$wrapperEl[0].removeEventListener("webkitTransitionEnd",a.onTranslateToWrapperTransitionEnd),a.onTranslateToWrapperTransitionEnd=null,delete a.onTranslateToWrapperTransitionEnd,n&&a.emit("transitionEnd"))}),a.$wrapperEl[0].addEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.$wrapperEl[0].addEventListener("webkitTransitionEnd",a.onTranslateToWrapperTransitionEnd))),!0}},transition:{setTransition:function(e,t){var n=this;n.params.cssMode||n.$wrapperEl.transition(e),n.emit("setTransition",e,t)},transitionStart:function(e,t){void 0===e&&(e=!0);var n=this,r=n.activeIndex,i=n.params,a=n.previousIndex;if(!i.cssMode){i.autoHeight&&n.updateAutoHeight();var o=t;if(o||(o=r>a?"next":r<a?"prev":"reset"),n.emit("transitionStart"),e&&r!==a){if("reset"===o)return void n.emit("slideResetTransitionStart");n.emit("slideChangeTransitionStart"),"next"===o?n.emit("slideNextTransitionStart"):n.emit("slidePrevTransitionStart")}}},transitionEnd:function(e,t){void 0===e&&(e=!0);var n=this,r=n.activeIndex,i=n.previousIndex,a=n.params;if(n.animating=!1,!a.cssMode){n.setTransition(0);var o=t;if(o||(o=r>i?"next":r<i?"prev":"reset"),n.emit("transitionEnd"),e&&r!==i){if("reset"===o)return void n.emit("slideResetTransitionEnd");n.emit("slideChangeTransitionEnd"),"next"===o?n.emit("slideNextTransitionEnd"):n.emit("slidePrevTransitionEnd")}}}},slide:{slideTo:function(e,t,n,r){if(void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===n&&(n=!0),"number"!=typeof e&&"string"!=typeof e)throw new Error("The 'index' argument cannot have type other than 'number' or 'string'. ["+typeof e+"] given.");if("string"==typeof e){var i=parseInt(e,10);if(!isFinite(i))throw new Error("The passed-in 'index' (string) couldn't be converted to 'number'. ["+e+"] given.");e=i}var a=this,o=e;o<0&&(o=0);var s=a.params,l=a.snapGrid,u=a.slidesGrid,c=a.previousIndex,h=a.activeIndex,d=a.rtlTranslate,p=a.wrapperEl;if(a.animating&&s.preventInteractionOnTransition)return!1;var f=Math.min(a.params.slidesPerGroupSkip,o),m=f+Math.floor((o-f)/a.params.slidesPerGroup);m>=l.length&&(m=l.length-1),(h||s.initialSlide||0)===(c||0)&&n&&a.emit("beforeSlideChangeStart");var v,g=-l[m];if(a.updateProgress(g),s.normalizeSlideIndex)for(var y=0;y<u.length;y+=1){var x=-Math.floor(100*g),b=Math.floor(100*u[y]),_=Math.floor(100*u[y+1]);void 0!==u[y+1]?x>=b&&x<_-(_-b)/2?o=y:x>=b&&x<_&&(o=y+1):x>=b&&(o=y)}if(a.initialized&&o!==h){if(!a.allowSlideNext&&g<a.translate&&g<a.minTranslate())return!1;if(!a.allowSlidePrev&&g>a.translate&&g>a.maxTranslate()&&(h||0)!==o)return!1}if(v=o>h?"next":o<h?"prev":"reset",d&&-g===a.translate||!d&&g===a.translate)return a.updateActiveIndex(o),s.autoHeight&&a.updateAutoHeight(),a.updateSlidesClasses(),"slide"!==s.effect&&a.setTranslate(g),"reset"!==v&&(a.transitionStart(n,v),a.transitionEnd(n,v)),!1;if(s.cssMode){var w,E=a.isHorizontal(),T=-g;return d&&(T=p.scrollWidth-p.offsetWidth-T),0===t?p[E?"scrollLeft":"scrollTop"]=T:p.scrollTo?p.scrollTo(((w={})[E?"left":"top"]=T,w.behavior="smooth",w)):p[E?"scrollLeft":"scrollTop"]=T,!0}return 0===t?(a.setTransition(0),a.setTranslate(g),a.updateActiveIndex(o),a.updateSlidesClasses(),a.emit("beforeTransitionStart",t,r),a.transitionStart(n,v),a.transitionEnd(n,v)):(a.setTransition(t),a.setTranslate(g),a.updateActiveIndex(o),a.updateSlidesClasses(),a.emit("beforeTransitionStart",t,r),a.transitionStart(n,v),a.animating||(a.animating=!0,a.onSlideToWrapperTransitionEnd||(a.onSlideToWrapperTransitionEnd=function(e){a&&!a.destroyed&&e.target===this&&(a.$wrapperEl[0].removeEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.$wrapperEl[0].removeEventListener("webkitTransitionEnd",a.onSlideToWrapperTransitionEnd),a.onSlideToWrapperTransitionEnd=null,delete a.onSlideToWrapperTransitionEnd,a.transitionEnd(n,v))}),a.$wrapperEl[0].addEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.$wrapperEl[0].addEventListener("webkitTransitionEnd",a.onSlideToWrapperTransitionEnd))),!0},slideToLoop:function(e,t,n,r){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===n&&(n=!0);var i=this,a=e;return i.params.loop&&(a+=i.loopedSlides),i.slideTo(a,t,n,r)},slideNext:function(e,t,n){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var r=this,i=r.params,a=r.animating,o=r.activeIndex<i.slidesPerGroupSkip?1:i.slidesPerGroup;if(i.loop){if(a&&i.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}return r.slideTo(r.activeIndex+o,e,t,n)},slidePrev:function(e,t,n){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);var r=this,i=r.params,a=r.animating,o=r.snapGrid,s=r.slidesGrid,l=r.rtlTranslate;if(i.loop){if(a&&i.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}function u(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}var c=u(l?r.translate:-r.translate),h=o.map((function(e){return u(e)}));o[h.indexOf(c)];var d,p=o[h.indexOf(c)-1];return void 0===p&&i.cssMode&&o.forEach((function(e){!p&&c>=e&&(p=e)})),void 0!==p&&(d=s.indexOf(p))<0&&(d=r.activeIndex-1),r.slideTo(d,e,t,n)},slideReset:function(e,t,n){return void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),this.slideTo(this.activeIndex,e,t,n)},slideToClosest:function(e,t,n,r){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),void 0===r&&(r=.5);var i=this,a=i.activeIndex,o=Math.min(i.params.slidesPerGroupSkip,a),s=o+Math.floor((a-o)/i.params.slidesPerGroup),l=i.rtlTranslate?i.translate:-i.translate;if(l>=i.snapGrid[s]){var u=i.snapGrid[s];l-u>(i.snapGrid[s+1]-u)*r&&(a+=i.params.slidesPerGroup)}else{var c=i.snapGrid[s-1];l-c<=(i.snapGrid[s]-c)*r&&(a-=i.params.slidesPerGroup)}return a=Math.max(a,0),a=Math.min(a,i.slidesGrid.length-1),i.slideTo(a,e,t,n)},slideToClickedSlide:function(){var e,t=this,n=t.params,r=t.$wrapperEl,i="auto"===n.slidesPerView?t.slidesPerViewDynamic():n.slidesPerView,a=t.clickedIndex;if(n.loop){if(t.animating)return;e=parseInt(v(t.clickedSlide).attr("data-swiper-slide-index"),10),n.centeredSlides?a<t.loopedSlides-i/2||a>t.slides.length-t.loopedSlides+i/2?(t.loopFix(),a=r.children("."+n.slideClass+'[data-swiper-slide-index="'+e+'"]:not(.'+n.slideDuplicateClass+")").eq(0).index(),_((function(){t.slideTo(a)}))):t.slideTo(a):a>t.slides.length-i?(t.loopFix(),a=r.children("."+n.slideClass+'[data-swiper-slide-index="'+e+'"]:not(.'+n.slideDuplicateClass+")").eq(0).index(),_((function(){t.slideTo(a)}))):t.slideTo(a)}else t.slideTo(a)}},loop:{loopCreate:function(){var e=this,t=a(),n=e.params,r=e.$wrapperEl;r.children("."+n.slideClass+"."+n.slideDuplicateClass).remove();var i=r.children("."+n.slideClass);if(n.loopFillGroupWithBlank){var o=n.slidesPerGroup-i.length%n.slidesPerGroup;if(o!==n.slidesPerGroup){for(var s=0;s<o;s+=1){var l=v(t.createElement("div")).addClass(n.slideClass+" "+n.slideBlankClass);r.append(l)}i=r.children("."+n.slideClass)}}"auto"!==n.slidesPerView||n.loopedSlides||(n.loopedSlides=i.length),e.loopedSlides=Math.ceil(parseFloat(n.loopedSlides||n.slidesPerView,10)),e.loopedSlides+=n.loopAdditionalSlides,e.loopedSlides>i.length&&(e.loopedSlides=i.length);var u=[],c=[];i.each((function(t,n){var r=v(t);n<e.loopedSlides&&c.push(t),n<i.length&&n>=i.length-e.loopedSlides&&u.push(t),r.attr("data-swiper-slide-index",n)}));for(var h=0;h<c.length;h+=1)r.append(v(c[h].cloneNode(!0)).addClass(n.slideDuplicateClass));for(var d=u.length-1;d>=0;d-=1)r.prepend(v(u[d].cloneNode(!0)).addClass(n.slideDuplicateClass))},loopFix:function(){var e=this;e.emit("beforeLoopFix");var t,n=e.activeIndex,r=e.slides,i=e.loopedSlides,a=e.allowSlidePrev,o=e.allowSlideNext,s=e.snapGrid,l=e.rtlTranslate;e.allowSlidePrev=!0,e.allowSlideNext=!0;var u=-s[n]-e.getTranslate();n<i?(t=r.length-3*i+n,t+=i,e.slideTo(t,0,!1,!0)&&0!==u&&e.setTranslate((l?-e.translate:e.translate)-u)):n>=r.length-i&&(t=-r.length+n+i,t+=i,e.slideTo(t,0,!1,!0)&&0!==u&&e.setTranslate((l?-e.translate:e.translate)-u)),e.allowSlidePrev=a,e.allowSlideNext=o,e.emit("loopFix")},loopDestroy:function(){var e=this,t=e.$wrapperEl,n=e.params,r=e.slides;t.children("."+n.slideClass+"."+n.slideDuplicateClass+",."+n.slideClass+"."+n.slideBlankClass).remove(),r.removeAttr("data-swiper-slide-index")}},grabCursor:{setGrabCursor:function(e){var t=this;if(!(t.support.touch||!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)){var n=t.el;n.style.cursor="move",n.style.cursor=e?"-webkit-grabbing":"-webkit-grab",n.style.cursor=e?"-moz-grabbin":"-moz-grab",n.style.cursor=e?"grabbing":"grab"}},unsetGrabCursor:function(){var e=this;e.support.touch||e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.el.style.cursor="")}},manipulation:{appendSlide:function(e){var t=this,n=t.$wrapperEl,r=t.params;if(r.loop&&t.loopDestroy(),"object"==typeof e&&"length"in e)for(var i=0;i<e.length;i+=1)e[i]&&n.append(e[i]);else n.append(e);r.loop&&t.loopCreate(),r.observer&&t.support.observer||t.update()},prependSlide:function(e){var t=this,n=t.params,r=t.$wrapperEl,i=t.activeIndex;n.loop&&t.loopDestroy();var a=i+1;if("object"==typeof e&&"length"in e){for(var o=0;o<e.length;o+=1)e[o]&&r.prepend(e[o]);a=i+e.length}else r.prepend(e);n.loop&&t.loopCreate(),n.observer&&t.support.observer||t.update(),t.slideTo(a,0,!1)},addSlide:function(e,t){var n=this,r=n.$wrapperEl,i=n.params,a=n.activeIndex;i.loop&&(a-=n.loopedSlides,n.loopDestroy(),n.slides=r.children("."+i.slideClass));var o=n.slides.length;if(e<=0)n.prependSlide(t);else if(e>=o)n.appendSlide(t);else{for(var s=a>e?a+1:a,l=[],u=o-1;u>=e;u-=1){var c=n.slides.eq(u);c.remove(),l.unshift(c)}if("object"==typeof t&&"length"in t){for(var h=0;h<t.length;h+=1)t[h]&&r.append(t[h]);s=a>e?a+t.length:a}else r.append(t);for(var d=0;d<l.length;d+=1)r.append(l[d]);i.loop&&n.loopCreate(),i.observer&&n.support.observer||n.update(),i.loop?n.slideTo(s+n.loopedSlides,0,!1):n.slideTo(s,0,!1)}},removeSlide:function(e){var t=this,n=t.params,r=t.$wrapperEl,i=t.activeIndex;n.loop&&(i-=t.loopedSlides,t.loopDestroy(),t.slides=r.children("."+n.slideClass));var a,o=i;if("object"==typeof e&&"length"in e){for(var s=0;s<e.length;s+=1)a=e[s],t.slides[a]&&t.slides.eq(a).remove(),a<o&&(o-=1);o=Math.max(o,0)}else a=e,t.slides[a]&&t.slides.eq(a).remove(),a<o&&(o-=1),o=Math.max(o,0);n.loop&&t.loopCreate(),n.observer&&t.support.observer||t.update(),n.loop?t.slideTo(o+t.loopedSlides,0,!1):t.slideTo(o,0,!1)},removeAllSlides:function(){for(var e=[],t=0;t<this.slides.length;t+=1)e.push(t);this.removeSlide(e)}},events:{attachEvents:function(){var e=this,t=a(),n=e.params,r=e.touchEvents,i=e.el,o=e.wrapperEl,s=e.device,l=e.support;e.onTouchStart=D.bind(e),e.onTouchMove=O.bind(e),e.onTouchEnd=N.bind(e),n.cssMode&&(e.onScroll=B.bind(e)),e.onClick=U.bind(e);var u=!!n.nested;if(!l.touch&&l.pointerEvents)i.addEventListener(r.start,e.onTouchStart,!1),t.addEventListener(r.move,e.onTouchMove,u),t.addEventListener(r.end,e.onTouchEnd,!1);else{if(l.touch){var c=!("touchstart"!==r.start||!l.passiveListener||!n.passiveListeners)&&{passive:!0,capture:!1};i.addEventListener(r.start,e.onTouchStart,c),i.addEventListener(r.move,e.onTouchMove,l.passiveListener?{passive:!1,capture:u}:u),i.addEventListener(r.end,e.onTouchEnd,c),r.cancel&&i.addEventListener(r.cancel,e.onTouchEnd,c),k||(t.addEventListener("touchstart",F),k=!0)}(n.simulateTouch&&!s.ios&&!s.android||n.simulateTouch&&!l.touch&&s.ios)&&(i.addEventListener("mousedown",e.onTouchStart,!1),t.addEventListener("mousemove",e.onTouchMove,u),t.addEventListener("mouseup",e.onTouchEnd,!1))}(n.preventClicks||n.preventClicksPropagation)&&i.addEventListener("click",e.onClick,!0),n.cssMode&&o.addEventListener("scroll",e.onScroll),n.updateOnWindowResize?e.on(s.ios||s.android?"resize orientationchange observerUpdate":"resize observerUpdate",z,!0):e.on("observerUpdate",z,!0)},detachEvents:function(){var e=this,t=a(),n=e.params,r=e.touchEvents,i=e.el,o=e.wrapperEl,s=e.device,l=e.support,u=!!n.nested;if(!l.touch&&l.pointerEvents)i.removeEventListener(r.start,e.onTouchStart,!1),t.removeEventListener(r.move,e.onTouchMove,u),t.removeEventListener(r.end,e.onTouchEnd,!1);else{if(l.touch){var c=!("onTouchStart"!==r.start||!l.passiveListener||!n.passiveListeners)&&{passive:!0,capture:!1};i.removeEventListener(r.start,e.onTouchStart,c),i.removeEventListener(r.move,e.onTouchMove,u),i.removeEventListener(r.end,e.onTouchEnd,c),r.cancel&&i.removeEventListener(r.cancel,e.onTouchEnd,c)}(n.simulateTouch&&!s.ios&&!s.android||n.simulateTouch&&!l.touch&&s.ios)&&(i.removeEventListener("mousedown",e.onTouchStart,!1),t.removeEventListener("mousemove",e.onTouchMove,u),t.removeEventListener("mouseup",e.onTouchEnd,!1))}(n.preventClicks||n.preventClicksPropagation)&&i.removeEventListener("click",e.onClick,!0),n.cssMode&&o.removeEventListener("scroll",e.onScroll),e.off(s.ios||s.android?"resize orientationchange observerUpdate":"resize observerUpdate",z)}},breakpoints:{setBreakpoint:function(){var e=this,t=e.activeIndex,n=e.initialized,r=e.loopedSlides,i=void 0===r?0:r,a=e.params,o=e.$el,s=a.breakpoints;if(s&&(!s||0!==Object.keys(s).length)){var l=e.getBreakpoint(s);if(l&&e.currentBreakpoint!==l){var u=l in s?s[l]:void 0;u&&["slidesPerView","spaceBetween","slidesPerGroup","slidesPerGroupSkip","slidesPerColumn"].forEach((function(e){var t=u[e];void 0!==t&&(u[e]="slidesPerView"!==e||"AUTO"!==t&&"auto"!==t?"slidesPerView"===e?parseFloat(t):parseInt(t,10):"auto")}));var c=u||e.originalParams,h=a.slidesPerColumn>1,d=c.slidesPerColumn>1;h&&!d?(o.removeClass(a.containerModifierClass+"multirow "+a.containerModifierClass+"multirow-column"),e.emitContainerClasses()):!h&&d&&(o.addClass(a.containerModifierClass+"multirow"),"column"===c.slidesPerColumnFill&&o.addClass(a.containerModifierClass+"multirow-column"),e.emitContainerClasses());var p=c.direction&&c.direction!==a.direction,f=a.loop&&(c.slidesPerView!==a.slidesPerView||p);p&&n&&e.changeDirection(),M(e.params,c),M(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),e.currentBreakpoint=l,e.emit("_beforeBreakpoint",c),f&&n&&(e.loopDestroy(),e.loopCreate(),e.updateSlides(),e.slideTo(t-i+e.loopedSlides,0,!1)),e.emit("breakpoint",c)}}},getBreakpoint:function(e){var t=s();if(e){var n=!1,r=Object.keys(e).map((function(e){if("string"==typeof e&&0===e.indexOf("@")){var n=parseFloat(e.substr(1));return{value:t.innerHeight*n,point:e}}return{value:e,point:e}}));r.sort((function(e,t){return parseInt(e.value,10)-parseInt(t.value,10)}));for(var i=0;i<r.length;i+=1){var a=r[i],o=a.point;a.value<=t.innerWidth&&(n=o)}return n||"max"}}},checkOverflow:{checkOverflow:function(){var e=this,t=e.params,n=e.isLocked,r=e.slides.length>0&&t.slidesOffsetBefore+t.spaceBetween*(e.slides.length-1)+e.slides[0].offsetWidth*e.slides.length;t.slidesOffsetBefore&&t.slidesOffsetAfter&&r?e.isLocked=r<=e.size:e.isLocked=1===e.snapGrid.length,e.allowSlideNext=!e.isLocked,e.allowSlidePrev=!e.isLocked,n!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock"),n&&n!==e.isLocked&&(e.isEnd=!1,e.navigation&&e.navigation.update())}},classes:{addClasses:function(){var e=this,t=e.classNames,n=e.params,r=e.rtl,i=e.$el,a=e.device,o=e.support,s=[];s.push("initialized"),s.push(n.direction),o.pointerEvents&&!o.touch&&s.push("pointer-events"),n.freeMode&&s.push("free-mode"),n.autoHeight&&s.push("autoheight"),r&&s.push("rtl"),n.slidesPerColumn>1&&(s.push("multirow"),"column"===n.slidesPerColumnFill&&s.push("multirow-column")),a.android&&s.push("android"),a.ios&&s.push("ios"),n.cssMode&&s.push("css-mode"),s.forEach((function(e){t.push(n.containerModifierClass+e)})),i.addClass(t.join(" ")),e.emitContainerClasses()},removeClasses:function(){var e=this,t=e.$el,n=e.classNames;t.removeClass(n.join(" ")),e.emitContainerClasses()}},images:{loadImage:function(e,t,n,r,i,a){var o,l=s();function u(){a&&a()}v(e).parent("picture")[0]||e.complete&&i?u():t?((o=new l.Image).onload=u,o.onerror=u,r&&(o.sizes=r),n&&(o.srcset=n),t&&(o.src=t)):u()},preloadImages:function(){var e=this;function t(){null!=e&&e&&!e.destroyed&&(void 0!==e.imagesLoaded&&(e.imagesLoaded+=1),e.imagesLoaded===e.imagesToLoad.length&&(e.params.updateOnImagesReady&&e.update(),e.emit("imagesReady")))}e.imagesToLoad=e.$el.find("img");for(var n=0;n<e.imagesToLoad.length;n+=1){var r=e.imagesToLoad[n];e.loadImage(r,r.currentSrc||r.getAttribute("src"),r.srcset||r.getAttribute("srcset"),r.sizes||r.getAttribute("sizes"),!0,t)}}}},j={},V=function(){function t(){for(var e,n,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];if(1===i.length&&i[0].constructor&&i[0].constructor===Object?n=i[0]:(e=i[0],n=i[1]),n||(n={}),n=M({},n),e&&!n.el&&(n.el=e),n.el&&v(n.el).length>1){var o=[];return v(n.el).each((function(e){var r=M({},n,{el:e});o.push(new t(r))})),o}var s=this;s.support=A(),s.device=C({userAgent:n.userAgent}),s.browser=L(),s.eventsListeners={},s.eventsAnyListeners=[],void 0===s.modules&&(s.modules={}),Object.keys(s.modules).forEach((function(e){var t=s.modules[e];if(t.params){var r=Object.keys(t.params)[0],i=t.params[r];if("object"!=typeof i||null===i)return;if(!(r in n)||!("enabled"in i))return;!0===n[r]&&(n[r]={enabled:!0}),"object"!=typeof n[r]||"enabled"in n[r]||(n[r].enabled=!0),n[r]||(n[r]={enabled:!1})}}));var l,u,c=M({},G);return s.useParams(c),s.params=M({},c,j,n),s.originalParams=M({},s.params),s.passedParams=M({},n),s.params&&s.params.on&&Object.keys(s.params.on).forEach((function(e){s.on(e,s.params.on[e])})),s.params&&s.params.onAny&&s.onAny(s.params.onAny),s.$=v,M(s,{el:e,classNames:[],slides:v(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:function(){return"horizontal"===s.params.direction},isVertical:function(){return"vertical"===s.params.direction},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:s.params.allowSlideNext,allowSlidePrev:s.params.allowSlidePrev,touchEvents:(l=["touchstart","touchmove","touchend","touchcancel"],u=["mousedown","mousemove","mouseup"],s.support.pointerEvents&&(u=["pointerdown","pointermove","pointerup"]),s.touchEventsTouch={start:l[0],move:l[1],end:l[2],cancel:l[3]},s.touchEventsDesktop={start:u[0],move:u[1],end:u[2]},s.support.touch||!s.params.simulateTouch?s.touchEventsTouch:s.touchEventsDesktop),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,formElements:"input, select, option, textarea, button, video, label",lastClickTime:w(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:s.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),s.useModules(),s.emit("_swiper"),s.params.init&&s.init(),s}var n,r,i=t.prototype;return i.emitContainerClasses=function(){var e=this;if(e.params._emitClasses&&e.el){var t=e.el.className.split(" ").filter((function(t){return 0===t.indexOf("swiper-container")||0===t.indexOf(e.params.containerModifierClass)}));e.emit("_containerClasses",t.join(" "))}},i.getSlideClasses=function(e){var t=this;return e.className.split(" ").filter((function(e){return 0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass)})).join(" ")},i.emitSlidesClasses=function(){var e=this;if(e.params._emitClasses&&e.el){var t=[];e.slides.each((function(n){var r=e.getSlideClasses(n);t.push({slideEl:n,classNames:r}),e.emit("_slideClass",n,r)})),e.emit("_slideClasses",t)}},i.slidesPerViewDynamic=function(){var e=this,t=e.params,n=e.slides,r=e.slidesGrid,i=e.size,a=e.activeIndex,o=1;if(t.centeredSlides){for(var s,l=n[a].swiperSlideSize,u=a+1;u<n.length;u+=1)n[u]&&!s&&(o+=1,(l+=n[u].swiperSlideSize)>i&&(s=!0));for(var c=a-1;c>=0;c-=1)n[c]&&!s&&(o+=1,(l+=n[c].swiperSlideSize)>i&&(s=!0))}else for(var h=a+1;h<n.length;h+=1)r[h]-r[a]<i&&(o+=1);return o},i.update=function(){var e=this;if(e&&!e.destroyed){var t=e.snapGrid,n=e.params;n.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.params.freeMode?(r(),e.params.autoHeight&&e.updateAutoHeight()):(("auto"===e.params.slidesPerView||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0))||r(),n.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}function r(){var t=e.rtlTranslate?-1*e.translate:e.translate,n=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(n),e.updateActiveIndex(),e.updateSlidesClasses()}},i.changeDirection=function(e,t){void 0===t&&(t=!0);var n=this,r=n.params.direction;return e||(e="horizontal"===r?"vertical":"horizontal"),e===r||"horizontal"!==e&&"vertical"!==e||(n.$el.removeClass(""+n.params.containerModifierClass+r).addClass(""+n.params.containerModifierClass+e),n.emitContainerClasses(),n.params.direction=e,n.slides.each((function(t){"vertical"===e?t.style.width="":t.style.height=""})),n.emit("changeDirection"),t&&n.update()),n},i.mount=function(e){var t=this;if(!t.mounted){var n,r=v(e||t.params.el);(e=r[0])&&(e.swiper=t,e&&e.shadowRoot&&e.shadowRoot.querySelector?(n=v(e.shadowRoot.querySelector("."+t.params.wrapperClass))).children=function(e){return r.children(e)}:n=r.children("."+t.params.wrapperClass),M(t,{$el:r,el:e,$wrapperEl:n,wrapperEl:n[0],mounted:!0,rtl:"rtl"===e.dir.toLowerCase()||"rtl"===r.css("direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===e.dir.toLowerCase()||"rtl"===r.css("direction")),wrongRTL:"-webkit-box"===n.css("display")}))}},i.init=function(e){var t=this;t.initialized||(t.mount(e),t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.params.loop&&t.loopCreate(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.setGrabCursor(),t.params.preloadImages&&t.preloadImages(),t.params.loop?t.slideTo(t.params.initialSlide+t.loopedSlides,0,t.params.runCallbacksOnInit):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit),t.attachEvents(),t.initialized=!0,t.emit("init"),t.emit("afterInit"))},i.destroy=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);var n,r=this,i=r.params,a=r.$el,o=r.$wrapperEl,s=r.slides;return void 0===r.params||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),i.loop&&r.loopDestroy(),t&&(r.removeClasses(),a.removeAttr("style"),o.removeAttr("style"),s&&s.length&&s.removeClass([i.slideVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),r.emit("destroy"),Object.keys(r.eventsListeners).forEach((function(e){r.off(e)})),!1!==e&&(r.$el[0].swiper=null,n=r,Object.keys(n).forEach((function(e){try{n[e]=null}catch(e){}try{delete n[e]}catch(e){}}))),r.destroyed=!0),null},t.extendDefaults=function(e){M(j,e)},t.installModule=function(e){t.prototype.modules||(t.prototype.modules={});var n=e.name||Object.keys(t.prototype.modules).length+"_"+w();t.prototype.modules[n]=e},t.use=function(e){return Array.isArray(e)?(e.forEach((function(e){return t.installModule(e)})),t):(t.installModule(e),t)},n=t,r=[{key:"extendedDefaults",get:function(){return j}},{key:"defaults",get:function(){return G}}],null&&e(n.prototype,null),r&&e(n,r),t}();Object.keys(H).forEach((function(e){Object.keys(H[e]).forEach((function(t){V.prototype[t]=H[e][t]}))})),V.use([P,I]);var W={update:function(e){var t=this,n=t.params,r=n.slidesPerView,i=n.slidesPerGroup,a=n.centeredSlides,o=t.params.virtual,s=o.addSlidesBefore,l=o.addSlidesAfter,u=t.virtual,c=u.from,h=u.to,d=u.slides,p=u.slidesGrid,f=u.renderSlide,m=u.offset;t.updateActiveIndex();var v,g,y,x=t.activeIndex||0;v=t.rtlTranslate?"right":t.isHorizontal()?"left":"top",a?(g=Math.floor(r/2)+i+l,y=Math.floor(r/2)+i+s):(g=r+(i-1)+l,y=i+s);var b=Math.max((x||0)-y,0),_=Math.min((x||0)+g,d.length-1),w=(t.slidesGrid[b]||0)-(t.slidesGrid[0]||0);function E(){t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.lazy&&t.params.lazy.enabled&&t.lazy.load()}if(M(t.virtual,{from:b,to:_,offset:w,slidesGrid:t.slidesGrid}),c===b&&h===_&&!e)return t.slidesGrid!==p&&w!==m&&t.slides.css(v,w+"px"),void t.updateProgress();if(t.params.virtual.renderExternal)return t.params.virtual.renderExternal.call(t,{offset:w,from:b,to:_,slides:function(){for(var e=[],t=b;t<=_;t+=1)e.push(d[t]);return e}()}),void(t.params.virtual.renderExternalUpdate&&E());var T=[],S=[];if(e)t.$wrapperEl.find("."+t.params.slideClass).remove();else for(var A=c;A<=h;A+=1)(A<b||A>_)&&t.$wrapperEl.find("."+t.params.slideClass+'[data-swiper-slide-index="'+A+'"]').remove();for(var C=0;C<d.length;C+=1)C>=b&&C<=_&&(void 0===h||e?S.push(C):(C>h&&S.push(C),C<c&&T.push(C)));S.forEach((function(e){t.$wrapperEl.append(f(d[e],e))})),T.sort((function(e,t){return t-e})).forEach((function(e){t.$wrapperEl.prepend(f(d[e],e))})),t.$wrapperEl.children(".swiper-slide").css(v,w+"px"),E()},renderSlide:function(e,t){var n=this,r=n.params.virtual;if(r.cache&&n.virtual.cache[t])return n.virtual.cache[t];var i=r.renderSlide?v(r.renderSlide.call(n,e,t)):v('<div class="'+n.params.slideClass+'" data-swiper-slide-index="'+t+'">'+e+"</div>");return i.attr("data-swiper-slide-index")||i.attr("data-swiper-slide-index",t),r.cache&&(n.virtual.cache[t]=i),i},appendSlide:function(e){var t=this;if("object"==typeof e&&"length"in e)for(var n=0;n<e.length;n+=1)e[n]&&t.virtual.slides.push(e[n]);else t.virtual.slides.push(e);t.virtual.update(!0)},prependSlide:function(e){var t=this,n=t.activeIndex,r=n+1,i=1;if(Array.isArray(e)){for(var a=0;a<e.length;a+=1)e[a]&&t.virtual.slides.unshift(e[a]);r=n+e.length,i=e.length}else t.virtual.slides.unshift(e);if(t.params.virtual.cache){var o=t.virtual.cache,s={};Object.keys(o).forEach((function(e){var t=o[e],n=t.attr("data-swiper-slide-index");n&&t.attr("data-swiper-slide-index",parseInt(n,10)+1),s[parseInt(e,10)+i]=t})),t.virtual.cache=s}t.virtual.update(!0),t.slideTo(r,0)},removeSlide:function(e){var t=this;if(null!=e){var n=t.activeIndex;if(Array.isArray(e))for(var r=e.length-1;r>=0;r-=1)t.virtual.slides.splice(e[r],1),t.params.virtual.cache&&delete t.virtual.cache[e[r]],e[r]<n&&(n-=1),n=Math.max(n,0);else t.virtual.slides.splice(e,1),t.params.virtual.cache&&delete t.virtual.cache[e],e<n&&(n-=1),n=Math.max(n,0);t.virtual.update(!0),t.slideTo(n,0)}},removeAllSlides:function(){var e=this;e.virtual.slides=[],e.params.virtual.cache&&(e.virtual.cache={}),e.virtual.update(!0),e.slideTo(0,0)}},X={name:"virtual",params:{virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}},create:function(){S(this,{virtual:t({},W,{slides:this.params.virtual.slides,cache:{}})})},on:{beforeInit:function(e){if(e.params.virtual.enabled){e.classNames.push(e.params.containerModifierClass+"virtual");var t={watchSlidesProgress:!0};M(e.params,t),M(e.originalParams,t),e.params.initialSlide||e.virtual.update()}},setTranslate:function(e){e.params.virtual.enabled&&e.virtual.update()}}},q={handle:function(e){var t=this,n=s(),r=a(),i=t.rtlTranslate,o=e;o.originalEvent&&(o=o.originalEvent);var l=o.keyCode||o.charCode,u=t.params.keyboard.pageUpDown,c=u&&33===l,h=u&&34===l,d=37===l,p=39===l,f=38===l,m=40===l;if(!t.allowSlideNext&&(t.isHorizontal()&&p||t.isVertical()&&m||h))return!1;if(!t.allowSlidePrev&&(t.isHorizontal()&&d||t.isVertical()&&f||c))return!1;if(!(o.shiftKey||o.altKey||o.ctrlKey||o.metaKey||r.activeElement&&r.activeElement.nodeName&&("input"===r.activeElement.nodeName.toLowerCase()||"textarea"===r.activeElement.nodeName.toLowerCase()))){if(t.params.keyboard.onlyInViewport&&(c||h||d||p||f||m)){var v=!1;if(t.$el.parents("."+t.params.slideClass).length>0&&0===t.$el.parents("."+t.params.slideActiveClass).length)return;var g=n.innerWidth,y=n.innerHeight,x=t.$el.offset();i&&(x.left-=t.$el[0].scrollLeft);for(var b=[[x.left,x.top],[x.left+t.width,x.top],[x.left,x.top+t.height],[x.left+t.width,x.top+t.height]],_=0;_<b.length;_+=1){var w=b[_];if(w[0]>=0&&w[0]<=g&&w[1]>=0&&w[1]<=y){if(0===w[0]&&0===w[1])continue;v=!0}}if(!v)return}t.isHorizontal()?((c||h||d||p)&&(o.preventDefault?o.preventDefault():o.returnValue=!1),((h||p)&&!i||(c||d)&&i)&&t.slideNext(),((c||d)&&!i||(h||p)&&i)&&t.slidePrev()):((c||h||f||m)&&(o.preventDefault?o.preventDefault():o.returnValue=!1),(h||m)&&t.slideNext(),(c||f)&&t.slidePrev()),t.emit("keyPress",l)}},enable:function(){var e=this,t=a();e.keyboard.enabled||(v(t).on("keydown",e.keyboard.handle),e.keyboard.enabled=!0)},disable:function(){var e=this,t=a();e.keyboard.enabled&&(v(t).off("keydown",e.keyboard.handle),e.keyboard.enabled=!1)}},Y={name:"keyboard",params:{keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}},create:function(){S(this,{keyboard:t({enabled:!1},q)})},on:{init:function(e){e.params.keyboard.enabled&&e.keyboard.enable()},destroy:function(e){e.keyboard.enabled&&e.keyboard.disable()}}},$={lastScrollTime:w(),lastEventBeforeSnap:void 0,recentWheelEvents:[],event:function(){return s().navigator.userAgent.indexOf("firefox")>-1?"DOMMouseScroll":function(){var e=a(),t="onwheel",n=t in e;if(!n){var r=e.createElement("div");r.setAttribute(t,"return;"),n="function"==typeof r.onwheel}return!n&&e.implementation&&e.implementation.hasFeature&&!0!==e.implementation.hasFeature("","")&&(n=e.implementation.hasFeature("Events.wheel","3.0")),n}()?"wheel":"mousewheel"},normalize:function(e){var t=0,n=0,r=0,i=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=10*t,i=10*n,"deltaY"in e&&(i=e.deltaY),"deltaX"in e&&(r=e.deltaX),e.shiftKey&&!r&&(r=i,i=0),(r||i)&&e.deltaMode&&(1===e.deltaMode?(r*=40,i*=40):(r*=800,i*=800)),r&&!t&&(t=r<1?-1:1),i&&!n&&(n=i<1?-1:1),{spinX:t,spinY:n,pixelX:r,pixelY:i}},handleMouseEnter:function(){this.mouseEntered=!0},handleMouseLeave:function(){this.mouseEntered=!1},handle:function(e){var t=e,n=this,r=n.params.mousewheel;n.params.cssMode&&t.preventDefault();var i=n.$el;if("container"!==n.params.mousewheel.eventsTarget&&(i=v(n.params.mousewheel.eventsTarget)),!n.mouseEntered&&!i[0].contains(t.target)&&!r.releaseOnEdges)return!0;t.originalEvent&&(t=t.originalEvent);var a=0,o=n.rtlTranslate?-1:1,s=$.normalize(t);if(r.forceToAxis)if(n.isHorizontal()){if(!(Math.abs(s.pixelX)>Math.abs(s.pixelY)))return!0;a=-s.pixelX*o}else{if(!(Math.abs(s.pixelY)>Math.abs(s.pixelX)))return!0;a=-s.pixelY}else a=Math.abs(s.pixelX)>Math.abs(s.pixelY)?-s.pixelX*o:-s.pixelY;if(0===a)return!0;r.invert&&(a=-a);var l=n.getTranslate()+a*r.sensitivity;if(l>=n.minTranslate()&&(l=n.minTranslate()),l<=n.maxTranslate()&&(l=n.maxTranslate()),(!!n.params.loop||!(l===n.minTranslate()||l===n.maxTranslate()))&&n.params.nested&&t.stopPropagation(),n.params.freeMode){var u={time:w(),delta:Math.abs(a),direction:Math.sign(a)},c=n.mousewheel.lastEventBeforeSnap,h=c&&u.time<c.time+500&&u.delta<=c.delta&&u.direction===c.direction;if(!h){n.mousewheel.lastEventBeforeSnap=void 0,n.params.loop&&n.loopFix();var d=n.getTranslate()+a*r.sensitivity,p=n.isBeginning,f=n.isEnd;if(d>=n.minTranslate()&&(d=n.minTranslate()),d<=n.maxTranslate()&&(d=n.maxTranslate()),n.setTransition(0),n.setTranslate(d),n.updateProgress(),n.updateActiveIndex(),n.updateSlidesClasses(),(!p&&n.isBeginning||!f&&n.isEnd)&&n.updateSlidesClasses(),n.params.freeModeSticky){clearTimeout(n.mousewheel.timeout),n.mousewheel.timeout=void 0;var m=n.mousewheel.recentWheelEvents;m.length>=15&&m.shift();var g=m.length?m[m.length-1]:void 0,y=m[0];if(m.push(u),g&&(u.delta>g.delta||u.direction!==g.direction))m.splice(0);else if(m.length>=15&&u.time-y.time<500&&y.delta-u.delta>=1&&u.delta<=6){var x=a>0?.8:.2;n.mousewheel.lastEventBeforeSnap=u,m.splice(0),n.mousewheel.timeout=_((function(){n.slideToClosest(n.params.speed,!0,void 0,x)}),0)}n.mousewheel.timeout||(n.mousewheel.timeout=_((function(){n.mousewheel.lastEventBeforeSnap=u,m.splice(0),n.slideToClosest(n.params.speed,!0,void 0,.5)}),500))}if(h||n.emit("scroll",t),n.params.autoplay&&n.params.autoplayDisableOnInteraction&&n.autoplay.stop(),d===n.minTranslate()||d===n.maxTranslate())return!0}}else{var b={time:w(),delta:Math.abs(a),direction:Math.sign(a),raw:e},E=n.mousewheel.recentWheelEvents;E.length>=2&&E.shift();var T=E.length?E[E.length-1]:void 0;if(E.push(b),T?(b.direction!==T.direction||b.delta>T.delta||b.time>T.time+150)&&n.mousewheel.animateSlider(b):n.mousewheel.animateSlider(b),n.mousewheel.releaseScroll(b))return!0}return t.preventDefault?t.preventDefault():t.returnValue=!1,!1},animateSlider:function(e){var t=this,n=s();return!(this.params.mousewheel.thresholdDelta&&e.delta<this.params.mousewheel.thresholdDelta||this.params.mousewheel.thresholdTime&&w()-t.mousewheel.lastScrollTime<this.params.mousewheel.thresholdTime||!(e.delta>=6&&w()-t.mousewheel.lastScrollTime<60)&&(e.direction<0?t.isEnd&&!t.params.loop||t.animating||(t.slideNext(),t.emit("scroll",e.raw)):t.isBeginning&&!t.params.loop||t.animating||(t.slidePrev(),t.emit("scroll",e.raw)),t.mousewheel.lastScrollTime=(new n.Date).getTime(),1))},releaseScroll:function(e){var t=this,n=t.params.mousewheel;if(e.direction<0){if(t.isEnd&&!t.params.loop&&n.releaseOnEdges)return!0}else if(t.isBeginning&&!t.params.loop&&n.releaseOnEdges)return!0;return!1},enable:function(){var e=this,t=$.event();if(e.params.cssMode)return e.wrapperEl.removeEventListener(t,e.mousewheel.handle),!0;if(!t)return!1;if(e.mousewheel.enabled)return!1;var n=e.$el;return"container"!==e.params.mousewheel.eventsTarget&&(n=v(e.params.mousewheel.eventsTarget)),n.on("mouseenter",e.mousewheel.handleMouseEnter),n.on("mouseleave",e.mousewheel.handleMouseLeave),n.on(t,e.mousewheel.handle),e.mousewheel.enabled=!0,!0},disable:function(){var e=this,t=$.event();if(e.params.cssMode)return e.wrapperEl.addEventListener(t,e.mousewheel.handle),!0;if(!t)return!1;if(!e.mousewheel.enabled)return!1;var n=e.$el;return"container"!==e.params.mousewheel.eventsTarget&&(n=v(e.params.mousewheel.eventsTarget)),n.off(t,e.mousewheel.handle),e.mousewheel.enabled=!1,!0}},Z={update:function(){var e=this,t=e.params.navigation;if(!e.params.loop){var n=e.navigation,r=n.$nextEl,i=n.$prevEl;i&&i.length>0&&(e.isBeginning?i.addClass(t.disabledClass):i.removeClass(t.disabledClass),i[e.params.watchOverflow&&e.isLocked?"addClass":"removeClass"](t.lockClass)),r&&r.length>0&&(e.isEnd?r.addClass(t.disabledClass):r.removeClass(t.disabledClass),r[e.params.watchOverflow&&e.isLocked?"addClass":"removeClass"](t.lockClass))}},onPrevClick:function(e){var t=this;e.preventDefault(),t.isBeginning&&!t.params.loop||t.slidePrev()},onNextClick:function(e){var t=this;e.preventDefault(),t.isEnd&&!t.params.loop||t.slideNext()},init:function(){var e,t,n=this,r=n.params.navigation;(r.nextEl||r.prevEl)&&(r.nextEl&&(e=v(r.nextEl),n.params.uniqueNavElements&&"string"==typeof r.nextEl&&e.length>1&&1===n.$el.find(r.nextEl).length&&(e=n.$el.find(r.nextEl))),r.prevEl&&(t=v(r.prevEl),n.params.uniqueNavElements&&"string"==typeof r.prevEl&&t.length>1&&1===n.$el.find(r.prevEl).length&&(t=n.$el.find(r.prevEl))),e&&e.length>0&&e.on("click",n.navigation.onNextClick),t&&t.length>0&&t.on("click",n.navigation.onPrevClick),M(n.navigation,{$nextEl:e,nextEl:e&&e[0],$prevEl:t,prevEl:t&&t[0]}))},destroy:function(){var e=this,t=e.navigation,n=t.$nextEl,r=t.$prevEl;n&&n.length&&(n.off("click",e.navigation.onNextClick),n.removeClass(e.params.navigation.disabledClass)),r&&r.length&&(r.off("click",e.navigation.onPrevClick),r.removeClass(e.params.navigation.disabledClass))}},J={update:function(){var e=this,t=e.rtl,n=e.params.pagination;if(n.el&&e.pagination.el&&e.pagination.$el&&0!==e.pagination.$el.length){var r,i=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,a=e.pagination.$el,o=e.params.loop?Math.ceil((i-2*e.loopedSlides)/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?((r=Math.ceil((e.activeIndex-e.loopedSlides)/e.params.slidesPerGroup))>i-1-2*e.loopedSlides&&(r-=i-2*e.loopedSlides),r>o-1&&(r-=o),r<0&&"bullets"!==e.params.paginationType&&(r=o+r)):r=void 0!==e.snapIndex?e.snapIndex:e.activeIndex||0,"bullets"===n.type&&e.pagination.bullets&&e.pagination.bullets.length>0){var s,l,u,c=e.pagination.bullets;if(n.dynamicBullets&&(e.pagination.bulletSize=c.eq(0)[e.isHorizontal()?"outerWidth":"outerHeight"](!0),a.css(e.isHorizontal()?"width":"height",e.pagination.bulletSize*(n.dynamicMainBullets+4)+"px"),n.dynamicMainBullets>1&&void 0!==e.previousIndex&&(e.pagination.dynamicBulletIndex+=r-e.previousIndex,e.pagination.dynamicBulletIndex>n.dynamicMainBullets-1?e.pagination.dynamicBulletIndex=n.dynamicMainBullets-1:e.pagination.dynamicBulletIndex<0&&(e.pagination.dynamicBulletIndex=0)),s=r-e.pagination.dynamicBulletIndex,u=((l=s+(Math.min(c.length,n.dynamicMainBullets)-1))+s)/2),c.removeClass(n.bulletActiveClass+" "+n.bulletActiveClass+"-next "+n.bulletActiveClass+"-next-next "+n.bulletActiveClass+"-prev "+n.bulletActiveClass+"-prev-prev "+n.bulletActiveClass+"-main"),a.length>1)c.each((function(e){var t=v(e),i=t.index();i===r&&t.addClass(n.bulletActiveClass),n.dynamicBullets&&(i>=s&&i<=l&&t.addClass(n.bulletActiveClass+"-main"),i===s&&t.prev().addClass(n.bulletActiveClass+"-prev").prev().addClass(n.bulletActiveClass+"-prev-prev"),i===l&&t.next().addClass(n.bulletActiveClass+"-next").next().addClass(n.bulletActiveClass+"-next-next"))}));else{var h=c.eq(r),d=h.index();if(h.addClass(n.bulletActiveClass),n.dynamicBullets){for(var p=c.eq(s),f=c.eq(l),m=s;m<=l;m+=1)c.eq(m).addClass(n.bulletActiveClass+"-main");if(e.params.loop)if(d>=c.length-n.dynamicMainBullets){for(var g=n.dynamicMainBullets;g>=0;g-=1)c.eq(c.length-g).addClass(n.bulletActiveClass+"-main");c.eq(c.length-n.dynamicMainBullets-1).addClass(n.bulletActiveClass+"-prev")}else p.prev().addClass(n.bulletActiveClass+"-prev").prev().addClass(n.bulletActiveClass+"-prev-prev"),f.next().addClass(n.bulletActiveClass+"-next").next().addClass(n.bulletActiveClass+"-next-next");else p.prev().addClass(n.bulletActiveClass+"-prev").prev().addClass(n.bulletActiveClass+"-prev-prev"),f.next().addClass(n.bulletActiveClass+"-next").next().addClass(n.bulletActiveClass+"-next-next")}}if(n.dynamicBullets){var y=Math.min(c.length,n.dynamicMainBullets+4),x=(e.pagination.bulletSize*y-e.pagination.bulletSize)/2-u*e.pagination.bulletSize,b=t?"right":"left";c.css(e.isHorizontal()?b:"top",x+"px")}}if("fraction"===n.type&&(a.find("."+n.currentClass).text(n.formatFractionCurrent(r+1)),a.find("."+n.totalClass).text(n.formatFractionTotal(o))),"progressbar"===n.type){var _;_=n.progressbarOpposite?e.isHorizontal()?"vertical":"horizontal":e.isHorizontal()?"horizontal":"vertical";var w=(r+1)/o,E=1,T=1;"horizontal"===_?E=w:T=w,a.find("."+n.progressbarFillClass).transform("translate3d(0,0,0) scaleX("+E+") scaleY("+T+")").transition(e.params.speed)}"custom"===n.type&&n.renderCustom?(a.html(n.renderCustom(e,r+1,o)),e.emit("paginationRender",a[0])):e.emit("paginationUpdate",a[0]),a[e.params.watchOverflow&&e.isLocked?"addClass":"removeClass"](n.lockClass)}},render:function(){var e=this,t=e.params.pagination;if(t.el&&e.pagination.el&&e.pagination.$el&&0!==e.pagination.$el.length){var n=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,r=e.pagination.$el,i="";if("bullets"===t.type){for(var a=e.params.loop?Math.ceil((n-2*e.loopedSlides)/e.params.slidesPerGroup):e.snapGrid.length,o=0;o<a;o+=1)t.renderBullet?i+=t.renderBullet.call(e,o,t.bulletClass):i+="<"+t.bulletElement+' class="'+t.bulletClass+'"></'+t.bulletElement+">";r.html(i),e.pagination.bullets=r.find("."+t.bulletClass.replace(/ /g,"."))}"fraction"===t.type&&(i=t.renderFraction?t.renderFraction.call(e,t.currentClass,t.totalClass):'<span class="'+t.currentClass+'"></span> / <span class="'+t.totalClass+'"></span>',r.html(i)),"progressbar"===t.type&&(i=t.renderProgressbar?t.renderProgressbar.call(e,t.progressbarFillClass):'<span class="'+t.progressbarFillClass+'"></span>',r.html(i)),"custom"!==t.type&&e.emit("paginationRender",e.pagination.$el[0])}},init:function(){var e=this,t=e.params.pagination;if(t.el){var n=v(t.el);0!==n.length&&(e.params.uniqueNavElements&&"string"==typeof t.el&&n.length>1&&(n=e.$el.find(t.el)),"bullets"===t.type&&t.clickable&&n.addClass(t.clickableClass),n.addClass(t.modifierClass+t.type),"bullets"===t.type&&t.dynamicBullets&&(n.addClass(""+t.modifierClass+t.type+"-dynamic"),e.pagination.dynamicBulletIndex=0,t.dynamicMainBullets<1&&(t.dynamicMainBullets=1)),"progressbar"===t.type&&t.progressbarOpposite&&n.addClass(t.progressbarOppositeClass),t.clickable&&n.on("click","."+t.bulletClass.replace(/ /g,"."),(function(t){t.preventDefault();var n=v(this).index()*e.params.slidesPerGroup;e.params.loop&&(n+=e.loopedSlides),e.slideTo(n)})),M(e.pagination,{$el:n,el:n[0]}))}},destroy:function(){var e=this,t=e.params.pagination;if(t.el&&e.pagination.el&&e.pagination.$el&&0!==e.pagination.$el.length){var n=e.pagination.$el;n.removeClass(t.hiddenClass),n.removeClass(t.modifierClass+t.type),e.pagination.bullets&&e.pagination.bullets.removeClass(t.bulletActiveClass),t.clickable&&n.off("click","."+t.bulletClass.replace(/ /g,"."))}}},Q={setTranslate:function(){var e=this;if(e.params.scrollbar.el&&e.scrollbar.el){var t=e.scrollbar,n=e.rtlTranslate,r=e.progress,i=t.dragSize,a=t.trackSize,o=t.$dragEl,s=t.$el,l=e.params.scrollbar,u=i,c=(a-i)*r;n?(c=-c)>0?(u=i-c,c=0):-c+i>a&&(u=a+c):c<0?(u=i+c,c=0):c+i>a&&(u=a-c),e.isHorizontal()?(o.transform("translate3d("+c+"px, 0, 0)"),o[0].style.width=u+"px"):(o.transform("translate3d(0px, "+c+"px, 0)"),o[0].style.height=u+"px"),l.hide&&(clearTimeout(e.scrollbar.timeout),s[0].style.opacity=1,e.scrollbar.timeout=setTimeout((function(){s[0].style.opacity=0,s.transition(400)}),1e3))}},setTransition:function(e){var t=this;t.params.scrollbar.el&&t.scrollbar.el&&t.scrollbar.$dragEl.transition(e)},updateSize:function(){var e=this;if(e.params.scrollbar.el&&e.scrollbar.el){var t=e.scrollbar,n=t.$dragEl,r=t.$el;n[0].style.width="",n[0].style.height="";var i,a=e.isHorizontal()?r[0].offsetWidth:r[0].offsetHeight,o=e.size/e.virtualSize,s=o*(a/e.size);i="auto"===e.params.scrollbar.dragSize?a*o:parseInt(e.params.scrollbar.dragSize,10),e.isHorizontal()?n[0].style.width=i+"px":n[0].style.height=i+"px",r[0].style.display=o>=1?"none":"",e.params.scrollbar.hide&&(r[0].style.opacity=0),M(t,{trackSize:a,divider:o,moveDivider:s,dragSize:i}),t.$el[e.params.watchOverflow&&e.isLocked?"addClass":"removeClass"](e.params.scrollbar.lockClass)}},getPointerPosition:function(e){return this.isHorizontal()?"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].clientX:e.clientX:"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].clientY:e.clientY},setDragPosition:function(e){var t,n=this,r=n.scrollbar,i=n.rtlTranslate,a=r.$el,o=r.dragSize,s=r.trackSize,l=r.dragStartPos;t=(r.getPointerPosition(e)-a.offset()[n.isHorizontal()?"left":"top"]-(null!==l?l:o/2))/(s-o),t=Math.max(Math.min(t,1),0),i&&(t=1-t);var u=n.minTranslate()+(n.maxTranslate()-n.minTranslate())*t;n.updateProgress(u),n.setTranslate(u),n.updateActiveIndex(),n.updateSlidesClasses()},onDragStart:function(e){var t=this,n=t.params.scrollbar,r=t.scrollbar,i=t.$wrapperEl,a=r.$el,o=r.$dragEl;t.scrollbar.isTouched=!0,t.scrollbar.dragStartPos=e.target===o[0]||e.target===o?r.getPointerPosition(e)-e.target.getBoundingClientRect()[t.isHorizontal()?"left":"top"]:null,e.preventDefault(),e.stopPropagation(),i.transition(100),o.transition(100),r.setDragPosition(e),clearTimeout(t.scrollbar.dragTimeout),a.transition(0),n.hide&&a.css("opacity",1),t.params.cssMode&&t.$wrapperEl.css("scroll-snap-type","none"),t.emit("scrollbarDragStart",e)},onDragMove:function(e){var t=this,n=t.scrollbar,r=t.$wrapperEl,i=n.$el,a=n.$dragEl;t.scrollbar.isTouched&&(e.preventDefault?e.preventDefault():e.returnValue=!1,n.setDragPosition(e),r.transition(0),i.transition(0),a.transition(0),t.emit("scrollbarDragMove",e))},onDragEnd:function(e){var t=this,n=t.params.scrollbar,r=t.scrollbar,i=t.$wrapperEl,a=r.$el;t.scrollbar.isTouched&&(t.scrollbar.isTouched=!1,t.params.cssMode&&(t.$wrapperEl.css("scroll-snap-type",""),i.transition("")),n.hide&&(clearTimeout(t.scrollbar.dragTimeout),t.scrollbar.dragTimeout=_((function(){a.css("opacity",0),a.transition(400)}),1e3)),t.emit("scrollbarDragEnd",e),n.snapOnRelease&&t.slideToClosest())},enableDraggable:function(){var e=this;if(e.params.scrollbar.el){var t=a(),n=e.scrollbar,r=e.touchEventsTouch,i=e.touchEventsDesktop,o=e.params,s=e.support,l=n.$el[0],u=!(!s.passiveListener||!o.passiveListeners)&&{passive:!1,capture:!1},c=!(!s.passiveListener||!o.passiveListeners)&&{passive:!0,capture:!1};l&&(s.touch?(l.addEventListener(r.start,e.scrollbar.onDragStart,u),l.addEventListener(r.move,e.scrollbar.onDragMove,u),l.addEventListener(r.end,e.scrollbar.onDragEnd,c)):(l.addEventListener(i.start,e.scrollbar.onDragStart,u),t.addEventListener(i.move,e.scrollbar.onDragMove,u),t.addEventListener(i.end,e.scrollbar.onDragEnd,c)))}},disableDraggable:function(){var e=this;if(e.params.scrollbar.el){var t=a(),n=e.scrollbar,r=e.touchEventsTouch,i=e.touchEventsDesktop,o=e.params,s=e.support,l=n.$el[0],u=!(!s.passiveListener||!o.passiveListeners)&&{passive:!1,capture:!1},c=!(!s.passiveListener||!o.passiveListeners)&&{passive:!0,capture:!1};l&&(s.touch?(l.removeEventListener(r.start,e.scrollbar.onDragStart,u),l.removeEventListener(r.move,e.scrollbar.onDragMove,u),l.removeEventListener(r.end,e.scrollbar.onDragEnd,c)):(l.removeEventListener(i.start,e.scrollbar.onDragStart,u),t.removeEventListener(i.move,e.scrollbar.onDragMove,u),t.removeEventListener(i.end,e.scrollbar.onDragEnd,c)))}},init:function(){var e=this;if(e.params.scrollbar.el){var t=e.scrollbar,n=e.$el,r=e.params.scrollbar,i=v(r.el);e.params.uniqueNavElements&&"string"==typeof r.el&&i.length>1&&1===n.find(r.el).length&&(i=n.find(r.el));var a=i.find("."+e.params.scrollbar.dragClass);0===a.length&&(a=v('<div class="'+e.params.scrollbar.dragClass+'"></div>'),i.append(a)),M(t,{$el:i,el:i[0],$dragEl:a,dragEl:a[0]}),r.draggable&&t.enableDraggable()}},destroy:function(){this.scrollbar.disableDraggable()}},K={setTransform:function(e,t){var n=this.rtl,r=v(e),i=n?-1:1,a=r.attr("data-swiper-parallax")||"0",o=r.attr("data-swiper-parallax-x"),s=r.attr("data-swiper-parallax-y"),l=r.attr("data-swiper-parallax-scale"),u=r.attr("data-swiper-parallax-opacity");if(o||s?(o=o||"0",s=s||"0"):this.isHorizontal()?(o=a,s="0"):(s=a,o="0"),o=o.indexOf("%")>=0?parseInt(o,10)*t*i+"%":o*t*i+"px",s=s.indexOf("%")>=0?parseInt(s,10)*t+"%":s*t+"px",null!=u){var c=u-(u-1)*(1-Math.abs(t));r[0].style.opacity=c}if(null==l)r.transform("translate3d("+o+", "+s+", 0px)");else{var h=l-(l-1)*(1-Math.abs(t));r.transform("translate3d("+o+", "+s+", 0px) scale("+h+")")}},setTranslate:function(){var e=this,t=e.$el,n=e.slides,r=e.progress,i=e.snapGrid;t.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each((function(t){e.parallax.setTransform(t,r)})),n.each((function(t,n){var a=t.progress;e.params.slidesPerGroup>1&&"auto"!==e.params.slidesPerView&&(a+=Math.ceil(n/2)-r*(i.length-1)),a=Math.min(Math.max(a,-1),1),v(t).find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each((function(t){e.parallax.setTransform(t,a)}))}))},setTransition:function(e){void 0===e&&(e=this.params.speed),this.$el.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each((function(t){var n=v(t),r=parseInt(n.attr("data-swiper-parallax-duration"),10)||e;0===e&&(r=0),n.transition(r)}))}},ee={getDistanceBetweenTouches:function(e){if(e.targetTouches.length<2)return 1;var t=e.targetTouches[0].pageX,n=e.targetTouches[0].pageY,r=e.targetTouches[1].pageX,i=e.targetTouches[1].pageY;return Math.sqrt(Math.pow(r-t,2)+Math.pow(i-n,2))},onGestureStart:function(e){var t=this,n=t.support,r=t.params.zoom,i=t.zoom,a=i.gesture;if(i.fakeGestureTouched=!1,i.fakeGestureMoved=!1,!n.gestures){if("touchstart"!==e.type||"touchstart"===e.type&&e.targetTouches.length<2)return;i.fakeGestureTouched=!0,a.scaleStart=ee.getDistanceBetweenTouches(e)}a.$slideEl&&a.$slideEl.length||(a.$slideEl=v(e.target).closest("."+t.params.slideClass),0===a.$slideEl.length&&(a.$slideEl=t.slides.eq(t.activeIndex)),a.$imageEl=a.$slideEl.find("img, svg, canvas, picture, .swiper-zoom-target"),a.$imageWrapEl=a.$imageEl.parent("."+r.containerClass),a.maxRatio=a.$imageWrapEl.attr("data-swiper-zoom")||r.maxRatio,0!==a.$imageWrapEl.length)?(a.$imageEl&&a.$imageEl.transition(0),t.zoom.isScaling=!0):a.$imageEl=void 0},onGestureChange:function(e){var t=this,n=t.support,r=t.params.zoom,i=t.zoom,a=i.gesture;if(!n.gestures){if("touchmove"!==e.type||"touchmove"===e.type&&e.targetTouches.length<2)return;i.fakeGestureMoved=!0,a.scaleMove=ee.getDistanceBetweenTouches(e)}a.$imageEl&&0!==a.$imageEl.length?(n.gestures?i.scale=e.scale*i.currentScale:i.scale=a.scaleMove/a.scaleStart*i.currentScale,i.scale>a.maxRatio&&(i.scale=a.maxRatio-1+Math.pow(i.scale-a.maxRatio+1,.5)),i.scale<r.minRatio&&(i.scale=r.minRatio+1-Math.pow(r.minRatio-i.scale+1,.5)),a.$imageEl.transform("translate3d(0,0,0) scale("+i.scale+")")):"gesturechange"===e.type&&i.onGestureStart(e)},onGestureEnd:function(e){var t=this,n=t.device,r=t.support,i=t.params.zoom,a=t.zoom,o=a.gesture;if(!r.gestures){if(!a.fakeGestureTouched||!a.fakeGestureMoved)return;if("touchend"!==e.type||"touchend"===e.type&&e.changedTouches.length<2&&!n.android)return;a.fakeGestureTouched=!1,a.fakeGestureMoved=!1}o.$imageEl&&0!==o.$imageEl.length&&(a.scale=Math.max(Math.min(a.scale,o.maxRatio),i.minRatio),o.$imageEl.transition(t.params.speed).transform("translate3d(0,0,0) scale("+a.scale+")"),a.currentScale=a.scale,a.isScaling=!1,1===a.scale&&(o.$slideEl=void 0))},onTouchStart:function(e){var t=this.device,n=this.zoom,r=n.gesture,i=n.image;r.$imageEl&&0!==r.$imageEl.length&&(i.isTouched||(t.android&&e.cancelable&&e.preventDefault(),i.isTouched=!0,i.touchesStart.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,i.touchesStart.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY))},onTouchMove:function(e){var t=this,n=t.zoom,r=n.gesture,i=n.image,a=n.velocity;if(r.$imageEl&&0!==r.$imageEl.length&&(t.allowClick=!1,i.isTouched&&r.$slideEl)){i.isMoved||(i.width=r.$imageEl[0].offsetWidth,i.height=r.$imageEl[0].offsetHeight,i.startX=E(r.$imageWrapEl[0],"x")||0,i.startY=E(r.$imageWrapEl[0],"y")||0,r.slideWidth=r.$slideEl[0].offsetWidth,r.slideHeight=r.$slideEl[0].offsetHeight,r.$imageWrapEl.transition(0),t.rtl&&(i.startX=-i.startX,i.startY=-i.startY));var o=i.width*n.scale,s=i.height*n.scale;if(!(o<r.slideWidth&&s<r.slideHeight)){if(i.minX=Math.min(r.slideWidth/2-o/2,0),i.maxX=-i.minX,i.minY=Math.min(r.slideHeight/2-s/2,0),i.maxY=-i.minY,i.touchesCurrent.x="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,i.touchesCurrent.y="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,!i.isMoved&&!n.isScaling){if(t.isHorizontal()&&(Math.floor(i.minX)===Math.floor(i.startX)&&i.touchesCurrent.x<i.touchesStart.x||Math.floor(i.maxX)===Math.floor(i.startX)&&i.touchesCurrent.x>i.touchesStart.x))return void(i.isTouched=!1);if(!t.isHorizontal()&&(Math.floor(i.minY)===Math.floor(i.startY)&&i.touchesCurrent.y<i.touchesStart.y||Math.floor(i.maxY)===Math.floor(i.startY)&&i.touchesCurrent.y>i.touchesStart.y))return void(i.isTouched=!1)}e.cancelable&&e.preventDefault(),e.stopPropagation(),i.isMoved=!0,i.currentX=i.touchesCurrent.x-i.touchesStart.x+i.startX,i.currentY=i.touchesCurrent.y-i.touchesStart.y+i.startY,i.currentX<i.minX&&(i.currentX=i.minX+1-Math.pow(i.minX-i.currentX+1,.8)),i.currentX>i.maxX&&(i.currentX=i.maxX-1+Math.pow(i.currentX-i.maxX+1,.8)),i.currentY<i.minY&&(i.currentY=i.minY+1-Math.pow(i.minY-i.currentY+1,.8)),i.currentY>i.maxY&&(i.currentY=i.maxY-1+Math.pow(i.currentY-i.maxY+1,.8)),a.prevPositionX||(a.prevPositionX=i.touchesCurrent.x),a.prevPositionY||(a.prevPositionY=i.touchesCurrent.y),a.prevTime||(a.prevTime=Date.now()),a.x=(i.touchesCurrent.x-a.prevPositionX)/(Date.now()-a.prevTime)/2,a.y=(i.touchesCurrent.y-a.prevPositionY)/(Date.now()-a.prevTime)/2,Math.abs(i.touchesCurrent.x-a.prevPositionX)<2&&(a.x=0),Math.abs(i.touchesCurrent.y-a.prevPositionY)<2&&(a.y=0),a.prevPositionX=i.touchesCurrent.x,a.prevPositionY=i.touchesCurrent.y,a.prevTime=Date.now(),r.$imageWrapEl.transform("translate3d("+i.currentX+"px, "+i.currentY+"px,0)")}}},onTouchEnd:function(){var e=this.zoom,t=e.gesture,n=e.image,r=e.velocity;if(t.$imageEl&&0!==t.$imageEl.length){if(!n.isTouched||!n.isMoved)return n.isTouched=!1,void(n.isMoved=!1);n.isTouched=!1,n.isMoved=!1;var i=300,a=300,o=r.x*i,s=n.currentX+o,l=r.y*a,u=n.currentY+l;0!==r.x&&(i=Math.abs((s-n.currentX)/r.x)),0!==r.y&&(a=Math.abs((u-n.currentY)/r.y));var c=Math.max(i,a);n.currentX=s,n.currentY=u;var h=n.width*e.scale,d=n.height*e.scale;n.minX=Math.min(t.slideWidth/2-h/2,0),n.maxX=-n.minX,n.minY=Math.min(t.slideHeight/2-d/2,0),n.maxY=-n.minY,n.currentX=Math.max(Math.min(n.currentX,n.maxX),n.minX),n.currentY=Math.max(Math.min(n.currentY,n.maxY),n.minY),t.$imageWrapEl.transition(c).transform("translate3d("+n.currentX+"px, "+n.currentY+"px,0)")}},onTransitionEnd:function(){var e=this,t=e.zoom,n=t.gesture;n.$slideEl&&e.previousIndex!==e.activeIndex&&(n.$imageEl&&n.$imageEl.transform("translate3d(0,0,0) scale(1)"),n.$imageWrapEl&&n.$imageWrapEl.transform("translate3d(0,0,0)"),t.scale=1,t.currentScale=1,n.$slideEl=void 0,n.$imageEl=void 0,n.$imageWrapEl=void 0)},toggle:function(e){var t=this.zoom;t.scale&&1!==t.scale?t.out():t.in(e)},in:function(e){var t,n,r,i,a,o,l,u,c,h,d,p,f,m,v,g,y=this,x=s(),b=y.zoom,_=y.params.zoom,w=b.gesture,E=b.image;w.$slideEl||(y.params.virtual&&y.params.virtual.enabled&&y.virtual?w.$slideEl=y.$wrapperEl.children("."+y.params.slideActiveClass):w.$slideEl=y.slides.eq(y.activeIndex),w.$imageEl=w.$slideEl.find("img, svg, canvas, picture, .swiper-zoom-target"),w.$imageWrapEl=w.$imageEl.parent("."+_.containerClass)),w.$imageEl&&0!==w.$imageEl.length&&(w.$slideEl.addClass(""+_.zoomedSlideClass),void 0===E.touchesStart.x&&e?(t="touchend"===e.type?e.changedTouches[0].pageX:e.pageX,n="touchend"===e.type?e.changedTouches[0].pageY:e.pageY):(t=E.touchesStart.x,n=E.touchesStart.y),b.scale=w.$imageWrapEl.attr("data-swiper-zoom")||_.maxRatio,b.currentScale=w.$imageWrapEl.attr("data-swiper-zoom")||_.maxRatio,e?(v=w.$slideEl[0].offsetWidth,g=w.$slideEl[0].offsetHeight,r=w.$slideEl.offset().left+x.scrollX+v/2-t,i=w.$slideEl.offset().top+x.scrollY+g/2-n,l=w.$imageEl[0].offsetWidth,u=w.$imageEl[0].offsetHeight,c=l*b.scale,h=u*b.scale,f=-(d=Math.min(v/2-c/2,0)),m=-(p=Math.min(g/2-h/2,0)),(a=r*b.scale)<d&&(a=d),a>f&&(a=f),(o=i*b.scale)<p&&(o=p),o>m&&(o=m)):(a=0,o=0),w.$imageWrapEl.transition(300).transform("translate3d("+a+"px, "+o+"px,0)"),w.$imageEl.transition(300).transform("translate3d(0,0,0) scale("+b.scale+")"))},out:function(){var e=this,t=e.zoom,n=e.params.zoom,r=t.gesture;r.$slideEl||(e.params.virtual&&e.params.virtual.enabled&&e.virtual?r.$slideEl=e.$wrapperEl.children("."+e.params.slideActiveClass):r.$slideEl=e.slides.eq(e.activeIndex),r.$imageEl=r.$slideEl.find("img, svg, canvas, picture, .swiper-zoom-target"),r.$imageWrapEl=r.$imageEl.parent("."+n.containerClass)),r.$imageEl&&0!==r.$imageEl.length&&(t.scale=1,t.currentScale=1,r.$imageWrapEl.transition(300).transform("translate3d(0,0,0)"),r.$imageEl.transition(300).transform("translate3d(0,0,0) scale(1)"),r.$slideEl.removeClass(""+n.zoomedSlideClass),r.$slideEl=void 0)},toggleGestures:function(e){var t=this,n=t.zoom,r=n.slideSelector,i=n.passiveListener;t.$wrapperEl[e]("gesturestart",r,n.onGestureStart,i),t.$wrapperEl[e]("gesturechange",r,n.onGestureChange,i),t.$wrapperEl[e]("gestureend",r,n.onGestureEnd,i)},enableGestures:function(){this.zoom.gesturesEnabled||(this.zoom.gesturesEnabled=!0,this.zoom.toggleGestures("on"))},disableGestures:function(){this.zoom.gesturesEnabled&&(this.zoom.gesturesEnabled=!1,this.zoom.toggleGestures("off"))},enable:function(){var e=this,t=e.support,n=e.zoom;if(!n.enabled){n.enabled=!0;var r=!("touchstart"!==e.touchEvents.start||!t.passiveListener||!e.params.passiveListeners)&&{passive:!0,capture:!1},i=!t.passiveListener||{passive:!1,capture:!0},a="."+e.params.slideClass;e.zoom.passiveListener=r,e.zoom.slideSelector=a,t.gestures?(e.$wrapperEl.on(e.touchEvents.start,e.zoom.enableGestures,r),e.$wrapperEl.on(e.touchEvents.end,e.zoom.disableGestures,r)):"touchstart"===e.touchEvents.start&&(e.$wrapperEl.on(e.touchEvents.start,a,n.onGestureStart,r),e.$wrapperEl.on(e.touchEvents.move,a,n.onGestureChange,i),e.$wrapperEl.on(e.touchEvents.end,a,n.onGestureEnd,r),e.touchEvents.cancel&&e.$wrapperEl.on(e.touchEvents.cancel,a,n.onGestureEnd,r)),e.$wrapperEl.on(e.touchEvents.move,"."+e.params.zoom.containerClass,n.onTouchMove,i)}},disable:function(){var e=this,t=e.zoom;if(t.enabled){var n=e.support;e.zoom.enabled=!1;var r=!("touchstart"!==e.touchEvents.start||!n.passiveListener||!e.params.passiveListeners)&&{passive:!0,capture:!1},i=!n.passiveListener||{passive:!1,capture:!0},a="."+e.params.slideClass;n.gestures?(e.$wrapperEl.off(e.touchEvents.start,e.zoom.enableGestures,r),e.$wrapperEl.off(e.touchEvents.end,e.zoom.disableGestures,r)):"touchstart"===e.touchEvents.start&&(e.$wrapperEl.off(e.touchEvents.start,a,t.onGestureStart,r),e.$wrapperEl.off(e.touchEvents.move,a,t.onGestureChange,i),e.$wrapperEl.off(e.touchEvents.end,a,t.onGestureEnd,r),e.touchEvents.cancel&&e.$wrapperEl.off(e.touchEvents.cancel,a,t.onGestureEnd,r)),e.$wrapperEl.off(e.touchEvents.move,"."+e.params.zoom.containerClass,t.onTouchMove,i)}}},te={loadInSlide:function(e,t){void 0===t&&(t=!0);var n=this,r=n.params.lazy;if(void 0!==e&&0!==n.slides.length){var i=n.virtual&&n.params.virtual.enabled?n.$wrapperEl.children("."+n.params.slideClass+'[data-swiper-slide-index="'+e+'"]'):n.slides.eq(e),a=i.find("."+r.elementClass+":not(."+r.loadedClass+"):not(."+r.loadingClass+")");!i.hasClass(r.elementClass)||i.hasClass(r.loadedClass)||i.hasClass(r.loadingClass)||a.push(i[0]),0!==a.length&&a.each((function(e){var a=v(e);a.addClass(r.loadingClass);var o=a.attr("data-background"),s=a.attr("data-src"),l=a.attr("data-srcset"),u=a.attr("data-sizes"),c=a.parent("picture");n.loadImage(a[0],s||o,l,u,!1,(function(){if(null!=n&&n&&(!n||n.params)&&!n.destroyed){if(o?(a.css("background-image",'url("'+o+'")'),a.removeAttr("data-background")):(l&&(a.attr("srcset",l),a.removeAttr("data-srcset")),u&&(a.attr("sizes",u),a.removeAttr("data-sizes")),c.length&&c.children("source").each((function(e){var t=v(e);t.attr("data-srcset")&&(t.attr("srcset",t.attr("data-srcset")),t.removeAttr("data-srcset"))})),s&&(a.attr("src",s),a.removeAttr("data-src"))),a.addClass(r.loadedClass).removeClass(r.loadingClass),i.find("."+r.preloaderClass).remove(),n.params.loop&&t){var e=i.attr("data-swiper-slide-index");if(i.hasClass(n.params.slideDuplicateClass)){var h=n.$wrapperEl.children('[data-swiper-slide-index="'+e+'"]:not(.'+n.params.slideDuplicateClass+")");n.lazy.loadInSlide(h.index(),!1)}else{var d=n.$wrapperEl.children("."+n.params.slideDuplicateClass+'[data-swiper-slide-index="'+e+'"]');n.lazy.loadInSlide(d.index(),!1)}}n.emit("lazyImageReady",i[0],a[0]),n.params.autoHeight&&n.updateAutoHeight()}})),n.emit("lazyImageLoad",i[0],a[0])}))}},load:function(){var e=this,t=e.$wrapperEl,n=e.params,r=e.slides,i=e.activeIndex,a=e.virtual&&n.virtual.enabled,o=n.lazy,s=n.slidesPerView;function l(e){if(a){if(t.children("."+n.slideClass+'[data-swiper-slide-index="'+e+'"]').length)return!0}else if(r[e])return!0;return!1}function u(e){return a?v(e).attr("data-swiper-slide-index"):v(e).index()}if("auto"===s&&(s=0),e.lazy.initialImageLoaded||(e.lazy.initialImageLoaded=!0),e.params.watchSlidesVisibility)t.children("."+n.slideVisibleClass).each((function(t){var n=a?v(t).attr("data-swiper-slide-index"):v(t).index();e.lazy.loadInSlide(n)}));else if(s>1)for(var c=i;c<i+s;c+=1)l(c)&&e.lazy.loadInSlide(c);else e.lazy.loadInSlide(i);if(o.loadPrevNext)if(s>1||o.loadPrevNextAmount&&o.loadPrevNextAmount>1){for(var h=o.loadPrevNextAmount,d=s,p=Math.min(i+d+Math.max(h,d),r.length),f=Math.max(i-Math.max(d,h),0),m=i+s;m<p;m+=1)l(m)&&e.lazy.loadInSlide(m);for(var g=f;g<i;g+=1)l(g)&&e.lazy.loadInSlide(g)}else{var y=t.children("."+n.slideNextClass);y.length>0&&e.lazy.loadInSlide(u(y));var x=t.children("."+n.slidePrevClass);x.length>0&&e.lazy.loadInSlide(u(x))}},checkInViewOnLoad:function(){var e=s(),t=this;if(t&&!t.destroyed){var n=t.params.lazy.scrollingElement?v(t.params.lazy.scrollingElement):v(e),r=n[0]===e,i=r?e.innerWidth:n[0].offsetWidth,a=r?e.innerHeight:n[0].offsetHeight,o=t.$el.offset(),l=!1;t.rtlTranslate&&(o.left-=t.$el[0].scrollLeft);for(var u=[[o.left,o.top],[o.left+t.width,o.top],[o.left,o.top+t.height],[o.left+t.width,o.top+t.height]],c=0;c<u.length;c+=1){var h=u[c];if(h[0]>=0&&h[0]<=i&&h[1]>=0&&h[1]<=a){if(0===h[0]&&0===h[1])continue;l=!0}}l?(t.lazy.load(),n.off("scroll",t.lazy.checkInViewOnLoad)):t.lazy.scrollHandlerAttached||(t.lazy.scrollHandlerAttached=!0,n.on("scroll",t.lazy.checkInViewOnLoad))}}},ne={LinearSpline:function(e,t){var n,r,i,a,o;return this.x=e,this.y=t,this.lastIndex=e.length-1,this.interpolate=function(e){return e?(o=function(e,t){for(r=-1,n=e.length;n-r>1;)e[i=n+r>>1]<=t?r=i:n=i;return n}(this.x,e),a=o-1,(e-this.x[a])*(this.y[o]-this.y[a])/(this.x[o]-this.x[a])+this.y[a]):0},this},getInterpolateFunction:function(e){var t=this;t.controller.spline||(t.controller.spline=t.params.loop?new ne.LinearSpline(t.slidesGrid,e.slidesGrid):new ne.LinearSpline(t.snapGrid,e.snapGrid))},setTranslate:function(e,t){var n,r,i=this,a=i.controller.control,o=i.constructor;function s(e){var t=i.rtlTranslate?-i.translate:i.translate;"slide"===i.params.controller.by&&(i.controller.getInterpolateFunction(e),r=-i.controller.spline.interpolate(-t)),r&&"container"!==i.params.controller.by||(n=(e.maxTranslate()-e.minTranslate())/(i.maxTranslate()-i.minTranslate()),r=(t-i.minTranslate())*n+e.minTranslate()),i.params.controller.inverse&&(r=e.maxTranslate()-r),e.updateProgress(r),e.setTranslate(r,i),e.updateActiveIndex(),e.updateSlidesClasses()}if(Array.isArray(a))for(var l=0;l<a.length;l+=1)a[l]!==t&&a[l]instanceof o&&s(a[l]);else a instanceof o&&t!==a&&s(a)},setTransition:function(e,t){var n,r=this,i=r.constructor,a=r.controller.control;function o(t){t.setTransition(e,r),0!==e&&(t.transitionStart(),t.params.autoHeight&&_((function(){t.updateAutoHeight()})),t.$wrapperEl.transitionEnd((function(){a&&(t.params.loop&&"slide"===r.params.controller.by&&t.loopFix(),t.transitionEnd())})))}if(Array.isArray(a))for(n=0;n<a.length;n+=1)a[n]!==t&&a[n]instanceof i&&o(a[n]);else a instanceof i&&t!==a&&o(a)}},re={getRandomNumber:function(e){return void 0===e&&(e=16),"x".repeat(e).replace(/x/g,(function(){return Math.round(16*Math.random()).toString(16)}))},makeElFocusable:function(e){return e.attr("tabIndex","0"),e},makeElNotFocusable:function(e){return e.attr("tabIndex","-1"),e},addElRole:function(e,t){return e.attr("role",t),e},addElRoleDescription:function(e,t){return e.attr("aria-role-description",t),e},addElControls:function(e,t){return e.attr("aria-controls",t),e},addElLabel:function(e,t){return e.attr("aria-label",t),e},addElId:function(e,t){return e.attr("id",t),e},addElLive:function(e,t){return e.attr("aria-live",t),e},disableEl:function(e){return e.attr("aria-disabled",!0),e},enableEl:function(e){return e.attr("aria-disabled",!1),e},onEnterKey:function(e){var t=this,n=t.params.a11y;if(13===e.keyCode){var r=v(e.target);t.navigation&&t.navigation.$nextEl&&r.is(t.navigation.$nextEl)&&(t.isEnd&&!t.params.loop||t.slideNext(),t.isEnd?t.a11y.notify(n.lastSlideMessage):t.a11y.notify(n.nextSlideMessage)),t.navigation&&t.navigation.$prevEl&&r.is(t.navigation.$prevEl)&&(t.isBeginning&&!t.params.loop||t.slidePrev(),t.isBeginning?t.a11y.notify(n.firstSlideMessage):t.a11y.notify(n.prevSlideMessage)),t.pagination&&r.is("."+t.params.pagination.bulletClass.replace(/ /g,"."))&&r[0].click()}},notify:function(e){var t=this.a11y.liveRegion;0!==t.length&&(t.html(""),t.html(e))},updateNavigation:function(){var e=this;if(!e.params.loop&&e.navigation){var t=e.navigation,n=t.$nextEl,r=t.$prevEl;r&&r.length>0&&(e.isBeginning?(e.a11y.disableEl(r),e.a11y.makeElNotFocusable(r)):(e.a11y.enableEl(r),e.a11y.makeElFocusable(r))),n&&n.length>0&&(e.isEnd?(e.a11y.disableEl(n),e.a11y.makeElNotFocusable(n)):(e.a11y.enableEl(n),e.a11y.makeElFocusable(n)))}},updatePagination:function(){var e=this,t=e.params.a11y;e.pagination&&e.params.pagination.clickable&&e.pagination.bullets&&e.pagination.bullets.length&&e.pagination.bullets.each((function(n){var r=v(n);e.a11y.makeElFocusable(r),e.params.pagination.renderBullet||(e.a11y.addElRole(r,"button"),e.a11y.addElLabel(r,t.paginationBulletMessage.replace(/\{\{index\}\}/,r.index()+1)))}))},init:function(){var e=this,t=e.params.a11y;e.$el.append(e.a11y.liveRegion);var n=e.$el;t.containerRoleDescriptionMessage&&e.a11y.addElRoleDescription(n,t.containerRoleDescriptionMessage),t.containerMessage&&e.a11y.addElLabel(n,t.containerMessage);var r,i,a,o=e.$wrapperEl,s=o.attr("id")||"swiper-wrapper-"+e.a11y.getRandomNumber(16);e.a11y.addElId(o,s),r=e.params.autoplay&&e.params.autoplay.enabled?"off":"polite",e.a11y.addElLive(o,r),t.itemRoleDescriptionMessage&&e.a11y.addElRoleDescription(v(e.slides),t.itemRoleDescriptionMessage),e.a11y.addElRole(v(e.slides),"group"),e.slides.each((function(t){var n=v(t);e.a11y.addElLabel(n,n.index()+1+" / "+e.slides.length)})),e.navigation&&e.navigation.$nextEl&&(i=e.navigation.$nextEl),e.navigation&&e.navigation.$prevEl&&(a=e.navigation.$prevEl),i&&i.length&&(e.a11y.makeElFocusable(i),"BUTTON"!==i[0].tagName&&(e.a11y.addElRole(i,"button"),i.on("keydown",e.a11y.onEnterKey)),e.a11y.addElLabel(i,t.nextSlideMessage),e.a11y.addElControls(i,s)),a&&a.length&&(e.a11y.makeElFocusable(a),"BUTTON"!==a[0].tagName&&(e.a11y.addElRole(a,"button"),a.on("keydown",e.a11y.onEnterKey)),e.a11y.addElLabel(a,t.prevSlideMessage),e.a11y.addElControls(a,s)),e.pagination&&e.params.pagination.clickable&&e.pagination.bullets&&e.pagination.bullets.length&&e.pagination.$el.on("keydown","."+e.params.pagination.bulletClass.replace(/ /g,"."),e.a11y.onEnterKey)},destroy:function(){var e,t,n=this;n.a11y.liveRegion&&n.a11y.liveRegion.length>0&&n.a11y.liveRegion.remove(),n.navigation&&n.navigation.$nextEl&&(e=n.navigation.$nextEl),n.navigation&&n.navigation.$prevEl&&(t=n.navigation.$prevEl),e&&e.off("keydown",n.a11y.onEnterKey),t&&t.off("keydown",n.a11y.onEnterKey),n.pagination&&n.params.pagination.clickable&&n.pagination.bullets&&n.pagination.bullets.length&&n.pagination.$el.off("keydown","."+n.params.pagination.bulletClass.replace(/ /g,"."),n.a11y.onEnterKey)}},ie={init:function(){var e=this,t=s();if(e.params.history){if(!t.history||!t.history.pushState)return e.params.history.enabled=!1,void(e.params.hashNavigation.enabled=!0);var n=e.history;n.initialized=!0,n.paths=ie.getPathValues(e.params.url),(n.paths.key||n.paths.value)&&(n.scrollToSlide(0,n.paths.value,e.params.runCallbacksOnInit),e.params.history.replaceState||t.addEventListener("popstate",e.history.setHistoryPopState))}},destroy:function(){var e=s();this.params.history.replaceState||e.removeEventListener("popstate",this.history.setHistoryPopState)},setHistoryPopState:function(){var e=this;e.history.paths=ie.getPathValues(e.params.url),e.history.scrollToSlide(e.params.speed,e.history.paths.value,!1)},getPathValues:function(e){var t=s(),n=(e?new URL(e):t.location).pathname.slice(1).split("/").filter((function(e){return""!==e})),r=n.length;return{key:n[r-2],value:n[r-1]}},setHistory:function(e,t){var n=this,r=s();if(n.history.initialized&&n.params.history.enabled){var i;i=n.params.url?new URL(n.params.url):r.location;var a=n.slides.eq(t),o=ie.slugify(a.attr("data-history"));i.pathname.includes(e)||(o=e+"/"+o);var l=r.history.state;l&&l.value===o||(n.params.history.replaceState?r.history.replaceState({value:o},null,o):r.history.pushState({value:o},null,o))}},slugify:function(e){return e.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},scrollToSlide:function(e,t,n){var r=this;if(t)for(var i=0,a=r.slides.length;i<a;i+=1){var o=r.slides.eq(i);if(ie.slugify(o.attr("data-history"))===t&&!o.hasClass(r.params.slideDuplicateClass)){var s=o.index();r.slideTo(s,e,n)}}else r.slideTo(0,e,n)}},ae={onHashCange:function(){var e=this,t=a();e.emit("hashChange");var n=t.location.hash.replace("#","");if(n!==e.slides.eq(e.activeIndex).attr("data-hash")){var r=e.$wrapperEl.children("."+e.params.slideClass+'[data-hash="'+n+'"]').index();if(void 0===r)return;e.slideTo(r)}},setHash:function(){var e=this,t=s(),n=a();if(e.hashNavigation.initialized&&e.params.hashNavigation.enabled)if(e.params.hashNavigation.replaceState&&t.history&&t.history.replaceState)t.history.replaceState(null,null,"#"+e.slides.eq(e.activeIndex).attr("data-hash")||""),e.emit("hashSet");else{var r=e.slides.eq(e.activeIndex),i=r.attr("data-hash")||r.attr("data-history");n.location.hash=i||"",e.emit("hashSet")}},init:function(){var e=this,t=a(),n=s();if(!(!e.params.hashNavigation.enabled||e.params.history&&e.params.history.enabled)){e.hashNavigation.initialized=!0;var r=t.location.hash.replace("#","");if(r)for(var i=0,o=e.slides.length;i<o;i+=1){var l=e.slides.eq(i);if((l.attr("data-hash")||l.attr("data-history"))===r&&!l.hasClass(e.params.slideDuplicateClass)){var u=l.index();e.slideTo(u,0,e.params.runCallbacksOnInit,!0)}}e.params.hashNavigation.watchState&&v(n).on("hashchange",e.hashNavigation.onHashCange)}},destroy:function(){var e=s();this.params.hashNavigation.watchState&&v(e).off("hashchange",this.hashNavigation.onHashCange)}},oe={run:function(){var e=this,t=e.slides.eq(e.activeIndex),n=e.params.autoplay.delay;t.attr("data-swiper-autoplay")&&(n=t.attr("data-swiper-autoplay")||e.params.autoplay.delay),clearTimeout(e.autoplay.timeout),e.autoplay.timeout=_((function(){var t;e.params.autoplay.reverseDirection?e.params.loop?(e.loopFix(),t=e.slidePrev(e.params.speed,!0,!0),e.emit("autoplay")):e.isBeginning?e.params.autoplay.stopOnLastSlide?e.autoplay.stop():(t=e.slideTo(e.slides.length-1,e.params.speed,!0,!0),e.emit("autoplay")):(t=e.slidePrev(e.params.speed,!0,!0),e.emit("autoplay")):e.params.loop?(e.loopFix(),t=e.slideNext(e.params.speed,!0,!0),e.emit("autoplay")):e.isEnd?e.params.autoplay.stopOnLastSlide?e.autoplay.stop():(t=e.slideTo(0,e.params.speed,!0,!0),e.emit("autoplay")):(t=e.slideNext(e.params.speed,!0,!0),e.emit("autoplay")),(e.params.cssMode&&e.autoplay.running||!1===t)&&e.autoplay.run()}),n)},start:function(){var e=this;return void 0===e.autoplay.timeout&&!e.autoplay.running&&(e.autoplay.running=!0,e.emit("autoplayStart"),e.autoplay.run(),!0)},stop:function(){var e=this;return!!e.autoplay.running&&void 0!==e.autoplay.timeout&&(e.autoplay.timeout&&(clearTimeout(e.autoplay.timeout),e.autoplay.timeout=void 0),e.autoplay.running=!1,e.emit("autoplayStop"),!0)},pause:function(e){var t=this;t.autoplay.running&&(t.autoplay.paused||(t.autoplay.timeout&&clearTimeout(t.autoplay.timeout),t.autoplay.paused=!0,0!==e&&t.params.autoplay.waitForTransition?(t.$wrapperEl[0].addEventListener("transitionend",t.autoplay.onTransitionEnd),t.$wrapperEl[0].addEventListener("webkitTransitionEnd",t.autoplay.onTransitionEnd)):(t.autoplay.paused=!1,t.autoplay.run())))},onVisibilityChange:function(){var e=this,t=a();"hidden"===t.visibilityState&&e.autoplay.running&&e.autoplay.pause(),"visible"===t.visibilityState&&e.autoplay.paused&&(e.autoplay.run(),e.autoplay.paused=!1)},onTransitionEnd:function(e){var t=this;t&&!t.destroyed&&t.$wrapperEl&&e.target===t.$wrapperEl[0]&&(t.$wrapperEl[0].removeEventListener("transitionend",t.autoplay.onTransitionEnd),t.$wrapperEl[0].removeEventListener("webkitTransitionEnd",t.autoplay.onTransitionEnd),t.autoplay.paused=!1,t.autoplay.running?t.autoplay.run():t.autoplay.stop())}},se={setTranslate:function(){for(var e=this,t=e.slides,n=0;n<t.length;n+=1){var r=e.slides.eq(n),i=-r[0].swiperSlideOffset;e.params.virtualTranslate||(i-=e.translate);var a=0;e.isHorizontal()||(a=i,i=0);var o=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(r[0].progress),0):1+Math.min(Math.max(r[0].progress,-1),0);r.css({opacity:o}).transform("translate3d("+i+"px, "+a+"px, 0px)")}},setTransition:function(e){var t=this,n=t.slides,r=t.$wrapperEl;if(n.transition(e),t.params.virtualTranslate&&0!==e){var i=!1;n.transitionEnd((function(){if(!i&&t&&!t.destroyed){i=!0,t.animating=!1;for(var e=["webkitTransitionEnd","transitionend"],n=0;n<e.length;n+=1)r.trigger(e[n])}}))}}},le={setTranslate:function(){var e,t=this,n=t.$el,r=t.$wrapperEl,i=t.slides,a=t.width,o=t.height,s=t.rtlTranslate,l=t.size,u=t.browser,c=t.params.cubeEffect,h=t.isHorizontal(),d=t.virtual&&t.params.virtual.enabled,p=0;c.shadow&&(h?(0===(e=r.find(".swiper-cube-shadow")).length&&(e=v('<div class="swiper-cube-shadow"></div>'),r.append(e)),e.css({height:a+"px"})):0===(e=n.find(".swiper-cube-shadow")).length&&(e=v('<div class="swiper-cube-shadow"></div>'),n.append(e)));for(var f=0;f<i.length;f+=1){var m=i.eq(f),g=f;d&&(g=parseInt(m.attr("data-swiper-slide-index"),10));var y=90*g,x=Math.floor(y/360);s&&(y=-y,x=Math.floor(-y/360));var b=Math.max(Math.min(m[0].progress,1),-1),_=0,w=0,E=0;g%4==0?(_=4*-x*l,E=0):(g-1)%4==0?(_=0,E=4*-x*l):(g-2)%4==0?(_=l+4*x*l,E=l):(g-3)%4==0&&(_=-l,E=3*l+4*l*x),s&&(_=-_),h||(w=_,_=0);var T="rotateX("+(h?0:-y)+"deg) rotateY("+(h?y:0)+"deg) translate3d("+_+"px, "+w+"px, "+E+"px)";if(b<=1&&b>-1&&(p=90*g+90*b,s&&(p=90*-g-90*b)),m.transform(T),c.slideShadows){var M=h?m.find(".swiper-slide-shadow-left"):m.find(".swiper-slide-shadow-top"),S=h?m.find(".swiper-slide-shadow-right"):m.find(".swiper-slide-shadow-bottom");0===M.length&&(M=v('<div class="swiper-slide-shadow-'+(h?"left":"top")+'"></div>'),m.append(M)),0===S.length&&(S=v('<div class="swiper-slide-shadow-'+(h?"right":"bottom")+'"></div>'),m.append(S)),M.length&&(M[0].style.opacity=Math.max(-b,0)),S.length&&(S[0].style.opacity=Math.max(b,0))}}if(r.css({"-webkit-transform-origin":"50% 50% -"+l/2+"px","-moz-transform-origin":"50% 50% -"+l/2+"px","-ms-transform-origin":"50% 50% -"+l/2+"px","transform-origin":"50% 50% -"+l/2+"px"}),c.shadow)if(h)e.transform("translate3d(0px, "+(a/2+c.shadowOffset)+"px, "+-a/2+"px) rotateX(90deg) rotateZ(0deg) scale("+c.shadowScale+")");else{var A=Math.abs(p)-90*Math.floor(Math.abs(p)/90),C=1.5-(Math.sin(2*A*Math.PI/360)/2+Math.cos(2*A*Math.PI/360)/2),L=c.shadowScale,P=c.shadowScale/C,R=c.shadowOffset;e.transform("scale3d("+L+", 1, "+P+") translate3d(0px, "+(o/2+R)+"px, "+-o/2/P+"px) rotateX(-90deg)")}var I=u.isSafari||u.isWebView?-l/2:0;r.transform("translate3d(0px,0,"+I+"px) rotateX("+(t.isHorizontal()?0:p)+"deg) rotateY("+(t.isHorizontal()?-p:0)+"deg)")},setTransition:function(e){var t=this,n=t.$el;t.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),t.params.cubeEffect.shadow&&!t.isHorizontal()&&n.find(".swiper-cube-shadow").transition(e)}},ue={setTranslate:function(){for(var e=this,t=e.slides,n=e.rtlTranslate,r=0;r<t.length;r+=1){var i=t.eq(r),a=i[0].progress;e.params.flipEffect.limitRotation&&(a=Math.max(Math.min(i[0].progress,1),-1));var o=-180*a,s=0,l=-i[0].swiperSlideOffset,u=0;if(e.isHorizontal()?n&&(o=-o):(u=l,l=0,s=-o,o=0),i[0].style.zIndex=-Math.abs(Math.round(a))+t.length,e.params.flipEffect.slideShadows){var c=e.isHorizontal()?i.find(".swiper-slide-shadow-left"):i.find(".swiper-slide-shadow-top"),h=e.isHorizontal()?i.find(".swiper-slide-shadow-right"):i.find(".swiper-slide-shadow-bottom");0===c.length&&(c=v('<div class="swiper-slide-shadow-'+(e.isHorizontal()?"left":"top")+'"></div>'),i.append(c)),0===h.length&&(h=v('<div class="swiper-slide-shadow-'+(e.isHorizontal()?"right":"bottom")+'"></div>'),i.append(h)),c.length&&(c[0].style.opacity=Math.max(-a,0)),h.length&&(h[0].style.opacity=Math.max(a,0))}i.transform("translate3d("+l+"px, "+u+"px, 0px) rotateX("+s+"deg) rotateY("+o+"deg)")}},setTransition:function(e){var t=this,n=t.slides,r=t.activeIndex,i=t.$wrapperEl;if(n.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),t.params.virtualTranslate&&0!==e){var a=!1;n.eq(r).transitionEnd((function(){if(!a&&t&&!t.destroyed){a=!0,t.animating=!1;for(var e=["webkitTransitionEnd","transitionend"],n=0;n<e.length;n+=1)i.trigger(e[n])}}))}}},ce={setTranslate:function(){for(var e=this,t=e.width,n=e.height,r=e.slides,i=e.slidesSizesGrid,a=e.params.coverflowEffect,o=e.isHorizontal(),s=e.translate,l=o?t/2-s:n/2-s,u=o?a.rotate:-a.rotate,c=a.depth,h=0,d=r.length;h<d;h+=1){var p=r.eq(h),f=i[h],m=(l-p[0].swiperSlideOffset-f/2)/f*a.modifier,g=o?u*m:0,y=o?0:u*m,x=-c*Math.abs(m),b=a.stretch;"string"==typeof b&&-1!==b.indexOf("%")&&(b=parseFloat(a.stretch)/100*f);var _=o?0:b*m,w=o?b*m:0,E=1-(1-a.scale)*Math.abs(m);Math.abs(w)<.001&&(w=0),Math.abs(_)<.001&&(_=0),Math.abs(x)<.001&&(x=0),Math.abs(g)<.001&&(g=0),Math.abs(y)<.001&&(y=0),Math.abs(E)<.001&&(E=0);var T="translate3d("+w+"px,"+_+"px,"+x+"px)  rotateX("+y+"deg) rotateY("+g+"deg) scale("+E+")";if(p.transform(T),p[0].style.zIndex=1-Math.abs(Math.round(m)),a.slideShadows){var M=o?p.find(".swiper-slide-shadow-left"):p.find(".swiper-slide-shadow-top"),S=o?p.find(".swiper-slide-shadow-right"):p.find(".swiper-slide-shadow-bottom");0===M.length&&(M=v('<div class="swiper-slide-shadow-'+(o?"left":"top")+'"></div>'),p.append(M)),0===S.length&&(S=v('<div class="swiper-slide-shadow-'+(o?"right":"bottom")+'"></div>'),p.append(S)),M.length&&(M[0].style.opacity=m>0?m:0),S.length&&(S[0].style.opacity=-m>0?-m:0)}}},setTransition:function(e){this.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)}},he={init:function(){var e=this,t=e.params.thumbs;if(e.thumbs.initialized)return!1;e.thumbs.initialized=!0;var n=e.constructor;return t.swiper instanceof n?(e.thumbs.swiper=t.swiper,M(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),M(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1})):T(t.swiper)&&(e.thumbs.swiper=new n(M({},t.swiper,{watchSlidesVisibility:!0,watchSlidesProgress:!0,slideToClickedSlide:!1})),e.thumbs.swiperCreated=!0),e.thumbs.swiper.$el.addClass(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",e.thumbs.onThumbClick),!0},onThumbClick:function(){var e=this,t=e.thumbs.swiper;if(t){var n=t.clickedIndex,r=t.clickedSlide;if(!(r&&v(r).hasClass(e.params.thumbs.slideThumbActiveClass)||null==n)){var i;if(i=t.params.loop?parseInt(v(t.clickedSlide).attr("data-swiper-slide-index"),10):n,e.params.loop){var a=e.activeIndex;e.slides.eq(a).hasClass(e.params.slideDuplicateClass)&&(e.loopFix(),e._clientLeft=e.$wrapperEl[0].clientLeft,a=e.activeIndex);var o=e.slides.eq(a).prevAll('[data-swiper-slide-index="'+i+'"]').eq(0).index(),s=e.slides.eq(a).nextAll('[data-swiper-slide-index="'+i+'"]').eq(0).index();i=void 0===o?s:void 0===s?o:s-a<a-o?s:o}e.slideTo(i)}}},update:function(e){var t=this,n=t.thumbs.swiper;if(n){var r="auto"===n.params.slidesPerView?n.slidesPerViewDynamic():n.params.slidesPerView,i=t.params.thumbs.autoScrollOffset,a=i&&!n.params.loop;if(t.realIndex!==n.realIndex||a){var o,s,l=n.activeIndex;if(n.params.loop){n.slides.eq(l).hasClass(n.params.slideDuplicateClass)&&(n.loopFix(),n._clientLeft=n.$wrapperEl[0].clientLeft,l=n.activeIndex);var u=n.slides.eq(l).prevAll('[data-swiper-slide-index="'+t.realIndex+'"]').eq(0).index(),c=n.slides.eq(l).nextAll('[data-swiper-slide-index="'+t.realIndex+'"]').eq(0).index();o=void 0===u?c:void 0===c?u:c-l==l-u?l:c-l<l-u?c:u,s=t.activeIndex>t.previousIndex?"next":"prev"}else s=(o=t.realIndex)>t.previousIndex?"next":"prev";a&&(o+="next"===s?i:-1*i),n.visibleSlidesIndexes&&n.visibleSlidesIndexes.indexOf(o)<0&&(n.params.centeredSlides?o=o>l?o-Math.floor(r/2)+1:o+Math.floor(r/2)-1:o>l&&(o=o-r+1),n.slideTo(o,e?0:void 0))}var h=1,d=t.params.thumbs.slideThumbActiveClass;if(t.params.slidesPerView>1&&!t.params.centeredSlides&&(h=t.params.slidesPerView),t.params.thumbs.multipleActiveThumbs||(h=1),h=Math.floor(h),n.slides.removeClass(d),n.params.loop||n.params.virtual&&n.params.virtual.enabled)for(var p=0;p<h;p+=1)n.$wrapperEl.children('[data-swiper-slide-index="'+(t.realIndex+p)+'"]').addClass(d);else for(var f=0;f<h;f+=1)n.slides.eq(t.realIndex+f).addClass(d)}}},de=[X,Y,{name:"mousewheel",params:{mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null}},create:function(){S(this,{mousewheel:{enabled:!1,lastScrollTime:w(),lastEventBeforeSnap:void 0,recentWheelEvents:[],enable:$.enable,disable:$.disable,handle:$.handle,handleMouseEnter:$.handleMouseEnter,handleMouseLeave:$.handleMouseLeave,animateSlider:$.animateSlider,releaseScroll:$.releaseScroll}})},on:{init:function(e){!e.params.mousewheel.enabled&&e.params.cssMode&&e.mousewheel.disable(),e.params.mousewheel.enabled&&e.mousewheel.enable()},destroy:function(e){e.params.cssMode&&e.mousewheel.enable(),e.mousewheel.enabled&&e.mousewheel.disable()}}},{name:"navigation",params:{navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock"}},create:function(){S(this,{navigation:t({},Z)})},on:{init:function(e){e.navigation.init(),e.navigation.update()},toEdge:function(e){e.navigation.update()},fromEdge:function(e){e.navigation.update()},destroy:function(e){e.navigation.destroy()},click:function(e,t){var n,r=e.navigation,i=r.$nextEl,a=r.$prevEl;!e.params.navigation.hideOnClick||v(t.target).is(a)||v(t.target).is(i)||(i?n=i.hasClass(e.params.navigation.hiddenClass):a&&(n=a.hasClass(e.params.navigation.hiddenClass)),!0===n?e.emit("navigationShow"):e.emit("navigationHide"),i&&i.toggleClass(e.params.navigation.hiddenClass),a&&a.toggleClass(e.params.navigation.hiddenClass))}}},{name:"pagination",params:{pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:function(e){return e},formatFractionTotal:function(e){return e},bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",modifierClass:"swiper-pagination-",currentClass:"swiper-pagination-current",totalClass:"swiper-pagination-total",hiddenClass:"swiper-pagination-hidden",progressbarFillClass:"swiper-pagination-progressbar-fill",progressbarOppositeClass:"swiper-pagination-progressbar-opposite",clickableClass:"swiper-pagination-clickable",lockClass:"swiper-pagination-lock"}},create:function(){S(this,{pagination:t({dynamicBulletIndex:0},J)})},on:{init:function(e){e.pagination.init(),e.pagination.render(),e.pagination.update()},activeIndexChange:function(e){(e.params.loop||void 0===e.snapIndex)&&e.pagination.update()},snapIndexChange:function(e){e.params.loop||e.pagination.update()},slidesLengthChange:function(e){e.params.loop&&(e.pagination.render(),e.pagination.update())},snapGridLengthChange:function(e){e.params.loop||(e.pagination.render(),e.pagination.update())},destroy:function(e){e.pagination.destroy()},click:function(e,t){e.params.pagination.el&&e.params.pagination.hideOnClick&&e.pagination.$el.length>0&&!v(t.target).hasClass(e.params.pagination.bulletClass)&&(!0===e.pagination.$el.hasClass(e.params.pagination.hiddenClass)?e.emit("paginationShow"):e.emit("paginationHide"),e.pagination.$el.toggleClass(e.params.pagination.hiddenClass))}}},{name:"scrollbar",params:{scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag"}},create:function(){S(this,{scrollbar:t({isTouched:!1,timeout:null,dragTimeout:null},Q)})},on:{init:function(e){e.scrollbar.init(),e.scrollbar.updateSize(),e.scrollbar.setTranslate()},update:function(e){e.scrollbar.updateSize()},resize:function(e){e.scrollbar.updateSize()},observerUpdate:function(e){e.scrollbar.updateSize()},setTranslate:function(e){e.scrollbar.setTranslate()},setTransition:function(e,t){e.scrollbar.setTransition(t)},destroy:function(e){e.scrollbar.destroy()}}},{name:"parallax",params:{parallax:{enabled:!1}},create:function(){S(this,{parallax:t({},K)})},on:{beforeInit:function(e){e.params.parallax.enabled&&(e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0)},init:function(e){e.params.parallax.enabled&&e.parallax.setTranslate()},setTranslate:function(e){e.params.parallax.enabled&&e.parallax.setTranslate()},setTransition:function(e,t){e.params.parallax.enabled&&e.parallax.setTransition(t)}}},{name:"zoom",params:{zoom:{enabled:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}},create:function(){var e=this;S(e,{zoom:t({enabled:!1,scale:1,currentScale:1,isScaling:!1,gesture:{$slideEl:void 0,slideWidth:void 0,slideHeight:void 0,$imageEl:void 0,$imageWrapEl:void 0,maxRatio:3},image:{isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},velocity:{x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0}},ee)});var n=1;Object.defineProperty(e.zoom,"scale",{get:function(){return n},set:function(t){if(n!==t){var r=e.zoom.gesture.$imageEl?e.zoom.gesture.$imageEl[0]:void 0,i=e.zoom.gesture.$slideEl?e.zoom.gesture.$slideEl[0]:void 0;e.emit("zoomChange",t,r,i)}n=t}})},on:{init:function(e){e.params.zoom.enabled&&e.zoom.enable()},destroy:function(e){e.zoom.disable()},touchStart:function(e,t){e.zoom.enabled&&e.zoom.onTouchStart(t)},touchEnd:function(e,t){e.zoom.enabled&&e.zoom.onTouchEnd(t)},doubleTap:function(e,t){e.params.zoom.enabled&&e.zoom.enabled&&e.params.zoom.toggle&&e.zoom.toggle(t)},transitionEnd:function(e){e.zoom.enabled&&e.params.zoom.enabled&&e.zoom.onTransitionEnd()},slideChange:function(e){e.zoom.enabled&&e.params.zoom.enabled&&e.params.cssMode&&e.zoom.onTransitionEnd()}}},{name:"lazy",params:{lazy:{checkInView:!1,enabled:!1,loadPrevNext:!1,loadPrevNextAmount:1,loadOnTransitionStart:!1,scrollingElement:"",elementClass:"swiper-lazy",loadingClass:"swiper-lazy-loading",loadedClass:"swiper-lazy-loaded",preloaderClass:"swiper-lazy-preloader"}},create:function(){S(this,{lazy:t({initialImageLoaded:!1},te)})},on:{beforeInit:function(e){e.params.lazy.enabled&&e.params.preloadImages&&(e.params.preloadImages=!1)},init:function(e){e.params.lazy.enabled&&!e.params.loop&&0===e.params.initialSlide&&(e.params.lazy.checkInView?e.lazy.checkInViewOnLoad():e.lazy.load())},scroll:function(e){e.params.freeMode&&!e.params.freeModeSticky&&e.lazy.load()},resize:function(e){e.params.lazy.enabled&&e.lazy.load()},scrollbarDragMove:function(e){e.params.lazy.enabled&&e.lazy.load()},transitionStart:function(e){e.params.lazy.enabled&&(e.params.lazy.loadOnTransitionStart||!e.params.lazy.loadOnTransitionStart&&!e.lazy.initialImageLoaded)&&e.lazy.load()},transitionEnd:function(e){e.params.lazy.enabled&&!e.params.lazy.loadOnTransitionStart&&e.lazy.load()},slideChange:function(e){e.params.lazy.enabled&&e.params.cssMode&&e.lazy.load()}}},{name:"controller",params:{controller:{control:void 0,inverse:!1,by:"slide"}},create:function(){S(this,{controller:t({control:this.params.controller.control},ne)})},on:{update:function(e){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)},resize:function(e){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)},observerUpdate:function(e){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)},setTranslate:function(e,t,n){e.controller.control&&e.controller.setTranslate(t,n)},setTransition:function(e,t,n){e.controller.control&&e.controller.setTransition(t,n)}}},{name:"a11y",params:{a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null}},create:function(){S(this,{a11y:t({},re,{liveRegion:v('<span class="'+this.params.a11y.notificationClass+'" aria-live="assertive" aria-atomic="true"></span>')})})},on:{afterInit:function(e){e.params.a11y.enabled&&(e.a11y.init(),e.a11y.updateNavigation())},toEdge:function(e){e.params.a11y.enabled&&e.a11y.updateNavigation()},fromEdge:function(e){e.params.a11y.enabled&&e.a11y.updateNavigation()},paginationUpdate:function(e){e.params.a11y.enabled&&e.a11y.updatePagination()},destroy:function(e){e.params.a11y.enabled&&e.a11y.destroy()}}},{name:"history",params:{history:{enabled:!1,replaceState:!1,key:"slides"}},create:function(){S(this,{history:t({},ie)})},on:{init:function(e){e.params.history.enabled&&e.history.init()},destroy:function(e){e.params.history.enabled&&e.history.destroy()},transitionEnd:function(e){e.history.initialized&&e.history.setHistory(e.params.history.key,e.activeIndex)},slideChange:function(e){e.history.initialized&&e.params.cssMode&&e.history.setHistory(e.params.history.key,e.activeIndex)}}},{name:"hash-navigation",params:{hashNavigation:{enabled:!1,replaceState:!1,watchState:!1}},create:function(){S(this,{hashNavigation:t({initialized:!1},ae)})},on:{init:function(e){e.params.hashNavigation.enabled&&e.hashNavigation.init()},destroy:function(e){e.params.hashNavigation.enabled&&e.hashNavigation.destroy()},transitionEnd:function(e){e.hashNavigation.initialized&&e.hashNavigation.setHash()},slideChange:function(e){e.hashNavigation.initialized&&e.params.cssMode&&e.hashNavigation.setHash()}}},{name:"autoplay",params:{autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1}},create:function(){S(this,{autoplay:t({},oe,{running:!1,paused:!1})})},on:{init:function(e){e.params.autoplay.enabled&&(e.autoplay.start(),a().addEventListener("visibilitychange",e.autoplay.onVisibilityChange))},beforeTransitionStart:function(e,t,n){e.autoplay.running&&(n||!e.params.autoplay.disableOnInteraction?e.autoplay.pause(t):e.autoplay.stop())},sliderFirstMove:function(e){e.autoplay.running&&(e.params.autoplay.disableOnInteraction?e.autoplay.stop():e.autoplay.pause())},touchEnd:function(e){e.params.cssMode&&e.autoplay.paused&&!e.params.autoplay.disableOnInteraction&&e.autoplay.run()},destroy:function(e){e.autoplay.running&&e.autoplay.stop(),a().removeEventListener("visibilitychange",e.autoplay.onVisibilityChange)}}},{name:"effect-fade",params:{fadeEffect:{crossFade:!1}},create:function(){S(this,{fadeEffect:t({},se)})},on:{beforeInit:function(e){if("fade"===e.params.effect){e.classNames.push(e.params.containerModifierClass+"fade");var t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};M(e.params,t),M(e.originalParams,t)}},setTranslate:function(e){"fade"===e.params.effect&&e.fadeEffect.setTranslate()},setTransition:function(e,t){"fade"===e.params.effect&&e.fadeEffect.setTransition(t)}}},{name:"effect-cube",params:{cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}},create:function(){S(this,{cubeEffect:t({},le)})},on:{beforeInit:function(e){if("cube"===e.params.effect){e.classNames.push(e.params.containerModifierClass+"cube"),e.classNames.push(e.params.containerModifierClass+"3d");var t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0};M(e.params,t),M(e.originalParams,t)}},setTranslate:function(e){"cube"===e.params.effect&&e.cubeEffect.setTranslate()},setTransition:function(e,t){"cube"===e.params.effect&&e.cubeEffect.setTransition(t)}}},{name:"effect-flip",params:{flipEffect:{slideShadows:!0,limitRotation:!0}},create:function(){S(this,{flipEffect:t({},ue)})},on:{beforeInit:function(e){if("flip"===e.params.effect){e.classNames.push(e.params.containerModifierClass+"flip"),e.classNames.push(e.params.containerModifierClass+"3d");var t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};M(e.params,t),M(e.originalParams,t)}},setTranslate:function(e){"flip"===e.params.effect&&e.flipEffect.setTranslate()},setTransition:function(e,t){"flip"===e.params.effect&&e.flipEffect.setTransition(t)}}},{name:"effect-coverflow",params:{coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0}},create:function(){S(this,{coverflowEffect:t({},ce)})},on:{beforeInit:function(e){"coverflow"===e.params.effect&&(e.classNames.push(e.params.containerModifierClass+"coverflow"),e.classNames.push(e.params.containerModifierClass+"3d"),e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0)},setTranslate:function(e){"coverflow"===e.params.effect&&e.coverflowEffect.setTranslate()},setTransition:function(e,t){"coverflow"===e.params.effect&&e.coverflowEffect.setTransition(t)}}},{name:"thumbs",params:{thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-container-thumbs"}},create:function(){S(this,{thumbs:t({swiper:null,initialized:!1},he)})},on:{beforeInit:function(e){var t=e.params.thumbs;t&&t.swiper&&(e.thumbs.init(),e.thumbs.update(!0))},slideChange:function(e){e.thumbs.swiper&&e.thumbs.update()},update:function(e){e.thumbs.swiper&&e.thumbs.update()},resize:function(e){e.thumbs.swiper&&e.thumbs.update()},observerUpdate:function(e){e.thumbs.swiper&&e.thumbs.update()},setTransition:function(e,t){var n=e.thumbs.swiper;n&&n.setTransition(t)},beforeDestroy:function(e){var t=e.thumbs.swiper;t&&e.thumbs.swiperCreated&&t&&t.destroy()}}}];return V.use(de),V}));